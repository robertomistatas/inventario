(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var _F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hb={exports:{}},r0={},fb={exports:{}},It={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=Symbol.for("react.element"),bA=Symbol.for("react.portal"),EA=Symbol.for("react.fragment"),xA=Symbol.for("react.strict_mode"),SA=Symbol.for("react.profiler"),AA=Symbol.for("react.provider"),IA=Symbol.for("react.context"),TA=Symbol.for("react.forward_ref"),NA=Symbol.for("react.suspense"),kA=Symbol.for("react.memo"),PA=Symbol.for("react.lazy"),e5=Symbol.iterator;function LA(t){return t===null||typeof t!="object"?null:(t=e5&&t[e5]||t["@@iterator"],typeof t=="function"?t:null)}var db={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pb=Object.assign,mb={};function Ac(t,e,n){this.props=t,this.context=e,this.refs=mb,this.updater=n||db}Ac.prototype.isReactComponent={};Ac.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ac.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gb(){}gb.prototype=Ac.prototype;function n2(t,e,n){this.props=t,this.context=e,this.refs=mb,this.updater=n||db}var r2=n2.prototype=new gb;r2.constructor=n2;pb(r2,Ac.prototype);r2.isPureReactComponent=!0;var t5=Array.isArray,vb=Object.prototype.hasOwnProperty,i2={current:null},yb={key:!0,ref:!0,__self:!0,__source:!0};function _b(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vb.call(e,r)&&!yb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),h=0;h<a;h++)l[h]=arguments[h+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gf,type:t,key:s,ref:o,props:i,_owner:i2.current}}function CA(t,e){return{$$typeof:gf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function s2(t){return typeof t=="object"&&t!==null&&t.$$typeof===gf}function RA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var n5=/\/+/g;function _1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RA(""+t.key):e.toString(36)}function Ud(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gf:case bA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+_1(o,0):r,t5(i)?(n="",t!=null&&(n=t.replace(n5,"$&/")+"/"),Ud(i,e,n,"",function(h){return h})):i!=null&&(s2(i)&&(i=CA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(n5,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",t5(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+_1(s,a);o+=Ud(s,e,n,l,i)}else if(l=LA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+_1(s,a++),o+=Ud(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cd(t,e,n){if(t==null)return t;var r=[],i=0;return Ud(t,r,"","",function(s){return e.call(n,s,i++)}),r}function OA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cr={current:null},qd={transition:null},DA={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:qd,ReactCurrentOwner:i2};function wb(){throw Error("act(...) is not supported in production builds of React.")}It.Children={map:cd,forEach:function(t,e,n){cd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cd(t,function(){e++}),e},toArray:function(t){return cd(t,function(e){return e})||[]},only:function(t){if(!s2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};It.Component=Ac;It.Fragment=EA;It.Profiler=SA;It.PureComponent=n2;It.StrictMode=xA;It.Suspense=NA;It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DA;It.act=wb;It.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=i2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)vb.call(e,l)&&!yb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var h=0;h<l;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:gf,type:t.type,key:i,ref:s,props:r,_owner:o}};It.createContext=function(t){return t={$$typeof:IA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AA,_context:t},t.Consumer=t};It.createElement=_b;It.createFactory=function(t){var e=_b.bind(null,t);return e.type=t,e};It.createRef=function(){return{current:null}};It.forwardRef=function(t){return{$$typeof:TA,render:t}};It.isValidElement=s2;It.lazy=function(t){return{$$typeof:PA,_payload:{_status:-1,_result:t},_init:OA}};It.memo=function(t,e){return{$$typeof:kA,type:t,compare:e===void 0?null:e}};It.startTransition=function(t){var e=qd.transition;qd.transition={};try{t()}finally{qd.transition=e}};It.unstable_act=wb;It.useCallback=function(t,e){return Cr.current.useCallback(t,e)};It.useContext=function(t){return Cr.current.useContext(t)};It.useDebugValue=function(){};It.useDeferredValue=function(t){return Cr.current.useDeferredValue(t)};It.useEffect=function(t,e){return Cr.current.useEffect(t,e)};It.useId=function(){return Cr.current.useId()};It.useImperativeHandle=function(t,e,n){return Cr.current.useImperativeHandle(t,e,n)};It.useInsertionEffect=function(t,e){return Cr.current.useInsertionEffect(t,e)};It.useLayoutEffect=function(t,e){return Cr.current.useLayoutEffect(t,e)};It.useMemo=function(t,e){return Cr.current.useMemo(t,e)};It.useReducer=function(t,e,n){return Cr.current.useReducer(t,e,n)};It.useRef=function(t){return Cr.current.useRef(t)};It.useState=function(t){return Cr.current.useState(t)};It.useSyncExternalStore=function(t,e,n){return Cr.current.useSyncExternalStore(t,e,n)};It.useTransition=function(){return Cr.current.useTransition()};It.version="18.3.1";fb.exports=It;var Ye=fb.exports;const bb=cb(Ye);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA=Ye,jA=Symbol.for("react.element"),FA=Symbol.for("react.fragment"),VA=Object.prototype.hasOwnProperty,BA=MA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UA={key:!0,ref:!0,__self:!0,__source:!0};function Eb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VA.call(e,r)&&!UA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jA,type:t,key:s,ref:o,props:i,_owner:BA.current}}r0.Fragment=FA;r0.jsx=Eb;r0.jsxs=Eb;hb.exports=r0;var q=hb.exports,wm={},xb={exports:{}},Ai={},Sb={exports:{}},Ab={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,le){var he=Y.length;Y.push(le);e:for(;0<he;){var Re=he-1>>>1,O=Y[Re];if(0<i(O,le))Y[Re]=le,Y[he]=O,he=Re;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var le=Y[0],he=Y.pop();if(he!==le){Y[0]=he;e:for(var Re=0,O=Y.length,$=O>>>1;Re<$;){var Q=2*(Re+1)-1,J=Y[Q],ie=Q+1,de=Y[ie];if(0>i(J,he))ie<O&&0>i(de,J)?(Y[Re]=de,Y[ie]=he,Re=ie):(Y[Re]=J,Y[Q]=he,Re=Q);else if(ie<O&&0>i(de,he))Y[Re]=de,Y[ie]=he,Re=ie;else break e}}return le}function i(Y,le){var he=Y.sortIndex-le.sortIndex;return he!==0?he:Y.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],h=[],p=1,v=null,_=3,m=!1,A=!1,N=!1,V=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Y){for(var le=n(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=Y)r(h),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(h)}}function K(Y){if(N=!1,M(Y),!A)if(n(l)!==null)A=!0,fe(ee);else{var le=n(h);le!==null&&ve(K,le.startTime-Y)}}function ee(Y,le){A=!1,N&&(N=!1,b(S),S=-1),m=!0;var he=_;try{for(M(le),v=n(l);v!==null&&(!(v.expirationTime>le)||Y&&!E());){var Re=v.callback;if(typeof Re=="function"){v.callback=null,_=v.priorityLevel;var O=Re(v.expirationTime<=le);le=t.unstable_now(),typeof O=="function"?v.callback=O:v===n(l)&&r(l),M(le)}else r(l);v=n(l)}if(v!==null)var $=!0;else{var Q=n(h);Q!==null&&ve(K,Q.startTime-le),$=!1}return $}finally{v=null,_=he,m=!1}}var oe=!1,C=null,S=-1,R=5,j=-1;function E(){return!(t.unstable_now()-j<R)}function T(){if(C!==null){var Y=t.unstable_now();j=Y;var le=!0;try{le=C(!0,Y)}finally{le?k():(oe=!1,C=null)}}else oe=!1}var k;if(typeof I=="function")k=function(){I(T)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ce=W.port2;W.port1.onmessage=T,k=function(){ce.postMessage(null)}}else k=function(){V(T,0)};function fe(Y){C=Y,oe||(oe=!0,k())}function ve(Y,le){S=V(function(){Y(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){A||m||(A=!0,fe(ee))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var he=_;_=le;try{return Y()}finally{_=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var he=_;_=Y;try{return le()}finally{_=he}},t.unstable_scheduleCallback=function(Y,le,he){var Re=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Re+he:Re):he=Re,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=he+O,Y={id:p++,callback:le,priorityLevel:Y,startTime:he,expirationTime:O,sortIndex:-1},he>Re?(Y.sortIndex=he,e(h,Y),n(l)===null&&Y===n(h)&&(N?(b(S),S=-1):N=!0,ve(K,he-Re))):(Y.sortIndex=O,e(l,Y),A||m||(A=!0,fe(ee))),Y},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(Y){var le=_;return function(){var he=_;_=le;try{return Y.apply(this,arguments)}finally{_=he}}}})(Ab);Sb.exports=Ab;var qA=Sb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zA=Ye,Si=qA;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ib=new Set,Uh={};function Vl(t,e){ac(t,e),ac(t+"Capture",e)}function ac(t,e){for(Uh[t]=e,t=0;t<e.length;t++)Ib.add(e[t])}var wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bm=Object.prototype.hasOwnProperty,$A=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r5={},i5={};function HA(t){return bm.call(i5,t)?!0:bm.call(r5,t)?!1:$A.test(t)?i5[t]=!0:(r5[t]=!0,!1)}function WA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GA(t,e,n,r){if(e===null||typeof e>"u"||WA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ir[t]=new Rr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ir[e]=new Rr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ir[t]=new Rr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ir[t]=new Rr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ir[t]=new Rr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ir[t]=new Rr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ir[t]=new Rr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ir[t]=new Rr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ir[t]=new Rr(t,5,!1,t.toLowerCase(),null,!1,!1)});var o2=/[\-:]([a-z])/g;function a2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(o2,a2);ir[e]=new Rr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(o2,a2);ir[e]=new Rr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(o2,a2);ir[e]=new Rr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ir[t]=new Rr(t,1,!1,t.toLowerCase(),null,!1,!1)});ir.xlinkHref=new Rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ir[t]=new Rr(t,1,!1,t.toLowerCase(),null,!0,!0)});function l2(t,e,n,r){var i=ir.hasOwnProperty(e)?ir[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GA(e,n,i,r)&&(n=null),r||i===null?HA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ko=zA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hd=Symbol.for("react.element"),Ru=Symbol.for("react.portal"),Ou=Symbol.for("react.fragment"),u2=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),Tb=Symbol.for("react.provider"),Nb=Symbol.for("react.context"),c2=Symbol.for("react.forward_ref"),xm=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),h2=Symbol.for("react.memo"),aa=Symbol.for("react.lazy"),kb=Symbol.for("react.offscreen"),s5=Symbol.iterator;function th(t){return t===null||typeof t!="object"?null:(t=s5&&t[s5]||t["@@iterator"],typeof t=="function"?t:null)}var pn=Object.assign,w1;function mh(t){if(w1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);w1=e&&e[1]||""}return`
`+w1+t}var b1=!1;function E1(t,e){if(!t||b1)return"";b1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{b1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mh(t):""}function KA(t){switch(t.tag){case 5:return mh(t.type);case 16:return mh("Lazy");case 13:return mh("Suspense");case 19:return mh("SuspenseList");case 0:case 2:case 15:return t=E1(t.type,!1),t;case 11:return t=E1(t.type.render,!1),t;case 1:return t=E1(t.type,!0),t;default:return""}}function Am(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ou:return"Fragment";case Ru:return"Portal";case Em:return"Profiler";case u2:return"StrictMode";case xm:return"Suspense";case Sm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nb:return(t.displayName||"Context")+".Consumer";case Tb:return(t._context.displayName||"Context")+".Provider";case c2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case h2:return e=t.displayName||null,e!==null?e:Am(t.type)||"Memo";case aa:e=t._payload,t=t._init;try{return Am(t(e))}catch{}}return null}function QA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Am(e);case 8:return e===u2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XA(t){var e=Pb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fd(t){t._valueTracker||(t._valueTracker=XA(t))}function Lb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Pb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Im(t,e){var n=e.checked;return pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function o5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cb(t,e){e=e.checked,e!=null&&l2(t,"checked",e,!1)}function Tm(t,e){Cb(t,e);var n=Oa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nm(t,e.type,Oa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function a5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nm(t,e,n){(e!=="number"||dp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gh=Array.isArray;function Gu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function km(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return pn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function l5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Oe(92));if(gh(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oa(n)}}function Rb(t,e){var n=Oa(e.value),r=Oa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function u5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ob(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ob(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dd,Db=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dd=dd||document.createElement("div"),dd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ih={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YA=["Webkit","ms","Moz","O"];Object.keys(Ih).forEach(function(t){YA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ih[e]=Ih[t]})});function Mb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ih.hasOwnProperty(t)&&Ih[t]?(""+e).trim():e+"px"}function jb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Mb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JA=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lm(t,e){if(e){if(JA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function Cm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rm=null;function f2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Om=null,Ku=null,Qu=null;function c5(t){if(t=_f(t)){if(typeof Om!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=l0(e),Om(t.stateNode,t.type,e))}}function Fb(t){Ku?Qu?Qu.push(t):Qu=[t]:Ku=t}function Vb(){if(Ku){var t=Ku,e=Qu;if(Qu=Ku=null,c5(t),e)for(t=0;t<e.length;t++)c5(e[t])}}function Bb(t,e){return t(e)}function Ub(){}var x1=!1;function qb(t,e,n){if(x1)return t(e,n);x1=!0;try{return Bb(t,e,n)}finally{x1=!1,(Ku!==null||Qu!==null)&&(Ub(),Vb())}}function zh(t,e){var n=t.stateNode;if(n===null)return null;var r=l0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Oe(231,e,typeof n));return n}var Dm=!1;if(wo)try{var nh={};Object.defineProperty(nh,"passive",{get:function(){Dm=!0}}),window.addEventListener("test",nh,nh),window.removeEventListener("test",nh,nh)}catch{Dm=!1}function ZA(t,e,n,r,i,s,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var Th=!1,pp=null,mp=!1,Mm=null,eI={onError:function(t){Th=!0,pp=t}};function tI(t,e,n,r,i,s,o,a,l){Th=!1,pp=null,ZA.apply(eI,arguments)}function nI(t,e,n,r,i,s,o,a,l){if(tI.apply(this,arguments),Th){if(Th){var h=pp;Th=!1,pp=null}else throw Error(Oe(198));mp||(mp=!0,Mm=h)}}function Bl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h5(t){if(Bl(t)!==t)throw Error(Oe(188))}function rI(t){var e=t.alternate;if(!e){if(e=Bl(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h5(i),t;if(s===r)return h5(i),e;s=s.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?t:e}function $b(t){return t=rI(t),t!==null?Hb(t):null}function Hb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hb(t);if(e!==null)return e;t=t.sibling}return null}var Wb=Si.unstable_scheduleCallback,f5=Si.unstable_cancelCallback,iI=Si.unstable_shouldYield,sI=Si.unstable_requestPaint,In=Si.unstable_now,oI=Si.unstable_getCurrentPriorityLevel,d2=Si.unstable_ImmediatePriority,Gb=Si.unstable_UserBlockingPriority,gp=Si.unstable_NormalPriority,aI=Si.unstable_LowPriority,Kb=Si.unstable_IdlePriority,i0=null,Ds=null;function lI(t){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(i0,t,void 0,(t.current.flags&128)===128)}catch{}}var ps=Math.clz32?Math.clz32:hI,uI=Math.log,cI=Math.LN2;function hI(t){return t>>>=0,t===0?32:31-(uI(t)/cI|0)|0}var pd=64,md=4194304;function vh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=vh(a):(s&=o,s!==0&&(r=vh(s)))}else o=n&~i,o!==0?r=vh(o):s!==0&&(r=vh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ps(e),i=1<<n,r|=t[n],e&=~i;return r}function fI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ps(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=fI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function jm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qb(){var t=pd;return pd<<=1,!(pd&4194240)&&(pd=64),t}function S1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ps(e),t[e]=n}function pI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ps(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function p2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ps(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qt=0;function Xb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Yb,m2,Jb,Zb,eE,Fm=!1,gd=[],_a=null,wa=null,ba=null,$h=new Map,Hh=new Map,ua=[],mI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function d5(t,e){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":$h.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hh.delete(e.pointerId)}}function rh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_f(e),e!==null&&m2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gI(t,e,n,r,i){switch(e){case"focusin":return _a=rh(_a,t,e,n,r,i),!0;case"dragenter":return wa=rh(wa,t,e,n,r,i),!0;case"mouseover":return ba=rh(ba,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return $h.set(s,rh($h.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Hh.set(s,rh(Hh.get(s)||null,t,e,n,r,i)),!0}return!1}function tE(t){var e=_l(t.target);if(e!==null){var n=Bl(e);if(n!==null){if(e=n.tag,e===13){if(e=zb(n),e!==null){t.blockedOn=e,eE(t.priority,function(){Jb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rm=r,n.target.dispatchEvent(r),Rm=null}else return e=_f(n),e!==null&&m2(e),t.blockedOn=n,!1;e.shift()}return!0}function p5(t,e,n){zd(t)&&n.delete(e)}function vI(){Fm=!1,_a!==null&&zd(_a)&&(_a=null),wa!==null&&zd(wa)&&(wa=null),ba!==null&&zd(ba)&&(ba=null),$h.forEach(p5),Hh.forEach(p5)}function ih(t,e){t.blockedOn===e&&(t.blockedOn=null,Fm||(Fm=!0,Si.unstable_scheduleCallback(Si.unstable_NormalPriority,vI)))}function Wh(t){function e(i){return ih(i,t)}if(0<gd.length){ih(gd[0],t);for(var n=1;n<gd.length;n++){var r=gd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_a!==null&&ih(_a,t),wa!==null&&ih(wa,t),ba!==null&&ih(ba,t),$h.forEach(e),Hh.forEach(e),n=0;n<ua.length;n++)r=ua[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ua.length&&(n=ua[0],n.blockedOn===null);)tE(n),n.blockedOn===null&&ua.shift()}var Xu=ko.ReactCurrentBatchConfig,yp=!0;function yI(t,e,n,r){var i=qt,s=Xu.transition;Xu.transition=null;try{qt=1,g2(t,e,n,r)}finally{qt=i,Xu.transition=s}}function _I(t,e,n,r){var i=qt,s=Xu.transition;Xu.transition=null;try{qt=4,g2(t,e,n,r)}finally{qt=i,Xu.transition=s}}function g2(t,e,n,r){if(yp){var i=Vm(t,e,n,r);if(i===null)O1(t,e,r,_p,n),d5(t,r);else if(gI(i,t,e,n,r))r.stopPropagation();else if(d5(t,r),e&4&&-1<mI.indexOf(t)){for(;i!==null;){var s=_f(i);if(s!==null&&Yb(s),s=Vm(t,e,n,r),s===null&&O1(t,e,r,_p,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else O1(t,e,r,null,n)}}var _p=null;function Vm(t,e,n,r){if(_p=null,t=f2(r),t=_l(t),t!==null)if(e=Bl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _p=t,null}function nE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oI()){case d2:return 1;case Gb:return 4;case gp:case aI:return 16;case Kb:return 536870912;default:return 16}default:return 16}}var ma=null,v2=null,$d=null;function rE(){if($d)return $d;var t,e=v2,n=e.length,r,i="value"in ma?ma.value:ma.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return $d=i.slice(t,1<r?1-r:void 0)}function Hd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vd(){return!0}function m5(){return!1}function Ii(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vd:m5,this.isPropagationStopped=m5,this}return pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vd)},persist:function(){},isPersistent:vd}),e}var Ic={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y2=Ii(Ic),yf=pn({},Ic,{view:0,detail:0}),wI=Ii(yf),A1,I1,sh,s0=pn({},yf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sh&&(sh&&t.type==="mousemove"?(A1=t.screenX-sh.screenX,I1=t.screenY-sh.screenY):I1=A1=0,sh=t),A1)},movementY:function(t){return"movementY"in t?t.movementY:I1}}),g5=Ii(s0),bI=pn({},s0,{dataTransfer:0}),EI=Ii(bI),xI=pn({},yf,{relatedTarget:0}),T1=Ii(xI),SI=pn({},Ic,{animationName:0,elapsedTime:0,pseudoElement:0}),AI=Ii(SI),II=pn({},Ic,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TI=Ii(II),NI=pn({},Ic,{data:0}),v5=Ii(NI),kI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LI[t])?!!e[t]:!1}function _2(){return CI}var RI=pn({},yf,{key:function(t){if(t.key){var e=kI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_2,charCode:function(t){return t.type==="keypress"?Hd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OI=Ii(RI),DI=pn({},s0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y5=Ii(DI),MI=pn({},yf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_2}),jI=Ii(MI),FI=pn({},Ic,{propertyName:0,elapsedTime:0,pseudoElement:0}),VI=Ii(FI),BI=pn({},s0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),UI=Ii(BI),qI=[9,13,27,32],w2=wo&&"CompositionEvent"in window,Nh=null;wo&&"documentMode"in document&&(Nh=document.documentMode);var zI=wo&&"TextEvent"in window&&!Nh,iE=wo&&(!w2||Nh&&8<Nh&&11>=Nh),_5=String.fromCharCode(32),w5=!1;function sE(t,e){switch(t){case"keyup":return qI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Du=!1;function $I(t,e){switch(t){case"compositionend":return oE(e);case"keypress":return e.which!==32?null:(w5=!0,_5);case"textInput":return t=e.data,t===_5&&w5?null:t;default:return null}}function HI(t,e){if(Du)return t==="compositionend"||!w2&&sE(t,e)?(t=rE(),$d=v2=ma=null,Du=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iE&&e.locale!=="ko"?null:e.data;default:return null}}var WI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WI[t.type]:e==="textarea"}function aE(t,e,n,r){Fb(r),e=wp(e,"onChange"),0<e.length&&(n=new y2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kh=null,Gh=null;function GI(t){yE(t,0)}function o0(t){var e=Fu(t);if(Lb(e))return t}function KI(t,e){if(t==="change")return e}var lE=!1;if(wo){var N1;if(wo){var k1="oninput"in document;if(!k1){var E5=document.createElement("div");E5.setAttribute("oninput","return;"),k1=typeof E5.oninput=="function"}N1=k1}else N1=!1;lE=N1&&(!document.documentMode||9<document.documentMode)}function x5(){kh&&(kh.detachEvent("onpropertychange",uE),Gh=kh=null)}function uE(t){if(t.propertyName==="value"&&o0(Gh)){var e=[];aE(e,Gh,t,f2(t)),qb(GI,e)}}function QI(t,e,n){t==="focusin"?(x5(),kh=e,Gh=n,kh.attachEvent("onpropertychange",uE)):t==="focusout"&&x5()}function XI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return o0(Gh)}function YI(t,e){if(t==="click")return o0(e)}function JI(t,e){if(t==="input"||t==="change")return o0(e)}function ZI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gs=typeof Object.is=="function"?Object.is:ZI;function Kh(t,e){if(gs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bm.call(e,i)||!gs(t[i],e[i]))return!1}return!0}function S5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A5(t,e){var n=S5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=S5(n)}}function cE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hE(){for(var t=window,e=dp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dp(t.document)}return e}function b2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eT(t){var e=hE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cE(n.ownerDocument.documentElement,n)){if(r!==null&&b2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=A5(n,s);var o=A5(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tT=wo&&"documentMode"in document&&11>=document.documentMode,Mu=null,Bm=null,Ph=null,Um=!1;function I5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Um||Mu==null||Mu!==dp(r)||(r=Mu,"selectionStart"in r&&b2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ph&&Kh(Ph,r)||(Ph=r,r=wp(Bm,"onSelect"),0<r.length&&(e=new y2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mu)))}function yd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ju={animationend:yd("Animation","AnimationEnd"),animationiteration:yd("Animation","AnimationIteration"),animationstart:yd("Animation","AnimationStart"),transitionend:yd("Transition","TransitionEnd")},P1={},fE={};wo&&(fE=document.createElement("div").style,"AnimationEvent"in window||(delete ju.animationend.animation,delete ju.animationiteration.animation,delete ju.animationstart.animation),"TransitionEvent"in window||delete ju.transitionend.transition);function a0(t){if(P1[t])return P1[t];if(!ju[t])return t;var e=ju[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fE)return P1[t]=e[n];return t}var dE=a0("animationend"),pE=a0("animationiteration"),mE=a0("animationstart"),gE=a0("transitionend"),vE=new Map,T5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ua(t,e){vE.set(t,e),Vl(e,[t])}for(var L1=0;L1<T5.length;L1++){var C1=T5[L1],nT=C1.toLowerCase(),rT=C1[0].toUpperCase()+C1.slice(1);Ua(nT,"on"+rT)}Ua(dE,"onAnimationEnd");Ua(pE,"onAnimationIteration");Ua(mE,"onAnimationStart");Ua("dblclick","onDoubleClick");Ua("focusin","onFocus");Ua("focusout","onBlur");Ua(gE,"onTransitionEnd");ac("onMouseEnter",["mouseout","mouseover"]);ac("onMouseLeave",["mouseout","mouseover"]);ac("onPointerEnter",["pointerout","pointerover"]);ac("onPointerLeave",["pointerout","pointerover"]);Vl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iT=new Set("cancel close invalid load scroll toggle".split(" ").concat(yh));function N5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nI(r,e,void 0,t),t.currentTarget=null}function yE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;N5(i,a,h),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,h=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;N5(i,a,h),s=l}}}if(mp)throw t=Mm,mp=!1,Mm=null,t}function sn(t,e){var n=e[Wm];n===void 0&&(n=e[Wm]=new Set);var r=t+"__bubble";n.has(r)||(_E(e,t,2,!1),n.add(r))}function R1(t,e,n){var r=0;e&&(r|=4),_E(n,t,r,e)}var _d="_reactListening"+Math.random().toString(36).slice(2);function Qh(t){if(!t[_d]){t[_d]=!0,Ib.forEach(function(n){n!=="selectionchange"&&(iT.has(n)||R1(n,!1,t),R1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_d]||(e[_d]=!0,R1("selectionchange",!1,e))}}function _E(t,e,n,r){switch(nE(e)){case 1:var i=yI;break;case 4:i=_I;break;default:i=g2}n=i.bind(null,e,n,t),i=void 0,!Dm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function O1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=_l(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}qb(function(){var h=s,p=f2(n),v=[];e:{var _=vE.get(t);if(_!==void 0){var m=y2,A=t;switch(t){case"keypress":if(Hd(n)===0)break e;case"keydown":case"keyup":m=OI;break;case"focusin":A="focus",m=T1;break;case"focusout":A="blur",m=T1;break;case"beforeblur":case"afterblur":m=T1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=g5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=EI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=jI;break;case dE:case pE:case mE:m=AI;break;case gE:m=VI;break;case"scroll":m=wI;break;case"wheel":m=UI;break;case"copy":case"cut":case"paste":m=TI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=y5}var N=(e&4)!==0,V=!N&&t==="scroll",b=N?_!==null?_+"Capture":null:_;N=[];for(var I=h,M;I!==null;){M=I;var K=M.stateNode;if(M.tag===5&&K!==null&&(M=K,b!==null&&(K=zh(I,b),K!=null&&N.push(Xh(I,K,M)))),V)break;I=I.return}0<N.length&&(_=new m(_,A,null,n,p),v.push({event:_,listeners:N}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",_&&n!==Rm&&(A=n.relatedTarget||n.fromElement)&&(_l(A)||A[bo]))break e;if((m||_)&&(_=p.window===p?p:(_=p.ownerDocument)?_.defaultView||_.parentWindow:window,m?(A=n.relatedTarget||n.toElement,m=h,A=A?_l(A):null,A!==null&&(V=Bl(A),A!==V||A.tag!==5&&A.tag!==6)&&(A=null)):(m=null,A=h),m!==A)){if(N=g5,K="onMouseLeave",b="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(N=y5,K="onPointerLeave",b="onPointerEnter",I="pointer"),V=m==null?_:Fu(m),M=A==null?_:Fu(A),_=new N(K,I+"leave",m,n,p),_.target=V,_.relatedTarget=M,K=null,_l(p)===h&&(N=new N(b,I+"enter",A,n,p),N.target=M,N.relatedTarget=V,K=N),V=K,m&&A)t:{for(N=m,b=A,I=0,M=N;M;M=_u(M))I++;for(M=0,K=b;K;K=_u(K))M++;for(;0<I-M;)N=_u(N),I--;for(;0<M-I;)b=_u(b),M--;for(;I--;){if(N===b||b!==null&&N===b.alternate)break t;N=_u(N),b=_u(b)}N=null}else N=null;m!==null&&k5(v,_,m,N,!1),A!==null&&V!==null&&k5(v,V,A,N,!0)}}e:{if(_=h?Fu(h):window,m=_.nodeName&&_.nodeName.toLowerCase(),m==="select"||m==="input"&&_.type==="file")var ee=KI;else if(b5(_))if(lE)ee=JI;else{ee=XI;var oe=QI}else(m=_.nodeName)&&m.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(ee=YI);if(ee&&(ee=ee(t,h))){aE(v,ee,n,p);break e}oe&&oe(t,_,h),t==="focusout"&&(oe=_._wrapperState)&&oe.controlled&&_.type==="number"&&Nm(_,"number",_.value)}switch(oe=h?Fu(h):window,t){case"focusin":(b5(oe)||oe.contentEditable==="true")&&(Mu=oe,Bm=h,Ph=null);break;case"focusout":Ph=Bm=Mu=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,I5(v,n,p);break;case"selectionchange":if(tT)break;case"keydown":case"keyup":I5(v,n,p)}var C;if(w2)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Du?sE(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(iE&&n.locale!=="ko"&&(Du||S!=="onCompositionStart"?S==="onCompositionEnd"&&Du&&(C=rE()):(ma=p,v2="value"in ma?ma.value:ma.textContent,Du=!0)),oe=wp(h,S),0<oe.length&&(S=new v5(S,t,null,n,p),v.push({event:S,listeners:oe}),C?S.data=C:(C=oE(n),C!==null&&(S.data=C)))),(C=zI?$I(t,n):HI(t,n))&&(h=wp(h,"onBeforeInput"),0<h.length&&(p=new v5("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:h}),p.data=C))}yE(v,e)})}function Xh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zh(t,n),s!=null&&r.unshift(Xh(t,s,i)),s=zh(t,e),s!=null&&r.push(Xh(t,s,i))),t=t.return}return r}function _u(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k5(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,h=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&h!==null&&(a=h,i?(l=zh(n,s),l!=null&&o.unshift(Xh(n,l,a))):i||(l=zh(n,s),l!=null&&o.push(Xh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sT=/\r\n?/g,oT=/\u0000|\uFFFD/g;function P5(t){return(typeof t=="string"?t:""+t).replace(sT,`
`).replace(oT,"")}function wd(t,e,n){if(e=P5(e),P5(t)!==e&&n)throw Error(Oe(425))}function bp(){}var qm=null,zm=null;function $m(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hm=typeof setTimeout=="function"?setTimeout:void 0,aT=typeof clearTimeout=="function"?clearTimeout:void 0,L5=typeof Promise=="function"?Promise:void 0,lT=typeof queueMicrotask=="function"?queueMicrotask:typeof L5<"u"?function(t){return L5.resolve(null).then(t).catch(uT)}:Hm;function uT(t){setTimeout(function(){throw t})}function D1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wh(e)}function Ea(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function C5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),Cs="__reactFiber$"+Tc,Yh="__reactProps$"+Tc,bo="__reactContainer$"+Tc,Wm="__reactEvents$"+Tc,cT="__reactListeners$"+Tc,hT="__reactHandles$"+Tc;function _l(t){var e=t[Cs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bo]||n[Cs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=C5(t);t!==null;){if(n=t[Cs])return n;t=C5(t)}return e}t=n,n=t.parentNode}return null}function _f(t){return t=t[Cs]||t[bo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function l0(t){return t[Yh]||null}var Gm=[],Vu=-1;function qa(t){return{current:t}}function an(t){0>Vu||(t.current=Gm[Vu],Gm[Vu]=null,Vu--)}function en(t,e){Vu++,Gm[Vu]=t.current,t.current=e}var Da={},wr=qa(Da),Yr=qa(!1),kl=Da;function lc(t,e){var n=t.type.contextTypes;if(!n)return Da;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jr(t){return t=t.childContextTypes,t!=null}function Ep(){an(Yr),an(wr)}function R5(t,e,n){if(wr.current!==Da)throw Error(Oe(168));en(wr,e),en(Yr,n)}function wE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Oe(108,QA(t)||"Unknown",i));return pn({},n,r)}function xp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Da,kl=wr.current,en(wr,t),en(Yr,Yr.current),!0}function O5(t,e,n){var r=t.stateNode;if(!r)throw Error(Oe(169));n?(t=wE(t,e,kl),r.__reactInternalMemoizedMergedChildContext=t,an(Yr),an(wr),en(wr,t)):an(Yr),en(Yr,n)}var co=null,u0=!1,M1=!1;function bE(t){co===null?co=[t]:co.push(t)}function fT(t){u0=!0,bE(t)}function za(){if(!M1&&co!==null){M1=!0;var t=0,e=qt;try{var n=co;for(qt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}co=null,u0=!1}catch(i){throw co!==null&&(co=co.slice(t+1)),Wb(d2,za),i}finally{qt=e,M1=!1}}return null}var Bu=[],Uu=0,Sp=null,Ap=0,Ui=[],qi=0,Pl=null,ho=1,fo="";function pl(t,e){Bu[Uu++]=Ap,Bu[Uu++]=Sp,Sp=t,Ap=e}function EE(t,e,n){Ui[qi++]=ho,Ui[qi++]=fo,Ui[qi++]=Pl,Pl=t;var r=ho;t=fo;var i=32-ps(r)-1;r&=~(1<<i),n+=1;var s=32-ps(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ho=1<<32-ps(e)+i|n<<i|r,fo=s+t}else ho=1<<s|n<<i|r,fo=t}function E2(t){t.return!==null&&(pl(t,1),EE(t,1,0))}function x2(t){for(;t===Sp;)Sp=Bu[--Uu],Bu[Uu]=null,Ap=Bu[--Uu],Bu[Uu]=null;for(;t===Pl;)Pl=Ui[--qi],Ui[qi]=null,fo=Ui[--qi],Ui[qi]=null,ho=Ui[--qi],Ui[qi]=null}var Ei=null,_i=null,un=!1,ds=null;function xE(t,e){var n=$i(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function D5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ei=t,_i=Ea(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ei=t,_i=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pl!==null?{id:ho,overflow:fo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$i(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ei=t,_i=null,!0):!1;default:return!1}}function Km(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qm(t){if(un){var e=_i;if(e){var n=e;if(!D5(t,e)){if(Km(t))throw Error(Oe(418));e=Ea(n.nextSibling);var r=Ei;e&&D5(t,e)?xE(r,n):(t.flags=t.flags&-4097|2,un=!1,Ei=t)}}else{if(Km(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,un=!1,Ei=t}}}function M5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ei=t}function bd(t){if(t!==Ei)return!1;if(!un)return M5(t),un=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$m(t.type,t.memoizedProps)),e&&(e=_i)){if(Km(t))throw SE(),Error(Oe(418));for(;e;)xE(t,e),e=Ea(e.nextSibling)}if(M5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_i=Ea(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_i=null}}else _i=Ei?Ea(t.stateNode.nextSibling):null;return!0}function SE(){for(var t=_i;t;)t=Ea(t.nextSibling)}function uc(){_i=Ei=null,un=!1}function S2(t){ds===null?ds=[t]:ds.push(t)}var dT=ko.ReactCurrentBatchConfig;function oh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,t))}return t}function Ed(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function j5(t){var e=t._init;return e(t._payload)}function AE(t){function e(b,I){if(t){var M=b.deletions;M===null?(b.deletions=[I],b.flags|=16):M.push(I)}}function n(b,I){if(!t)return null;for(;I!==null;)e(b,I),I=I.sibling;return null}function r(b,I){for(b=new Map;I!==null;)I.key!==null?b.set(I.key,I):b.set(I.index,I),I=I.sibling;return b}function i(b,I){return b=Ia(b,I),b.index=0,b.sibling=null,b}function s(b,I,M){return b.index=M,t?(M=b.alternate,M!==null?(M=M.index,M<I?(b.flags|=2,I):M):(b.flags|=2,I)):(b.flags|=1048576,I)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,I,M,K){return I===null||I.tag!==6?(I=z1(M,b.mode,K),I.return=b,I):(I=i(I,M),I.return=b,I)}function l(b,I,M,K){var ee=M.type;return ee===Ou?p(b,I,M.props.children,K,M.key):I!==null&&(I.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===aa&&j5(ee)===I.type)?(K=i(I,M.props),K.ref=oh(b,I,M),K.return=b,K):(K=Jd(M.type,M.key,M.props,null,b.mode,K),K.ref=oh(b,I,M),K.return=b,K)}function h(b,I,M,K){return I===null||I.tag!==4||I.stateNode.containerInfo!==M.containerInfo||I.stateNode.implementation!==M.implementation?(I=$1(M,b.mode,K),I.return=b,I):(I=i(I,M.children||[]),I.return=b,I)}function p(b,I,M,K,ee){return I===null||I.tag!==7?(I=Al(M,b.mode,K,ee),I.return=b,I):(I=i(I,M),I.return=b,I)}function v(b,I,M){if(typeof I=="string"&&I!==""||typeof I=="number")return I=z1(""+I,b.mode,M),I.return=b,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case hd:return M=Jd(I.type,I.key,I.props,null,b.mode,M),M.ref=oh(b,null,I),M.return=b,M;case Ru:return I=$1(I,b.mode,M),I.return=b,I;case aa:var K=I._init;return v(b,K(I._payload),M)}if(gh(I)||th(I))return I=Al(I,b.mode,M,null),I.return=b,I;Ed(b,I)}return null}function _(b,I,M,K){var ee=I!==null?I.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ee!==null?null:a(b,I,""+M,K);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case hd:return M.key===ee?l(b,I,M,K):null;case Ru:return M.key===ee?h(b,I,M,K):null;case aa:return ee=M._init,_(b,I,ee(M._payload),K)}if(gh(M)||th(M))return ee!==null?null:p(b,I,M,K,null);Ed(b,M)}return null}function m(b,I,M,K,ee){if(typeof K=="string"&&K!==""||typeof K=="number")return b=b.get(M)||null,a(I,b,""+K,ee);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case hd:return b=b.get(K.key===null?M:K.key)||null,l(I,b,K,ee);case Ru:return b=b.get(K.key===null?M:K.key)||null,h(I,b,K,ee);case aa:var oe=K._init;return m(b,I,M,oe(K._payload),ee)}if(gh(K)||th(K))return b=b.get(M)||null,p(I,b,K,ee,null);Ed(I,K)}return null}function A(b,I,M,K){for(var ee=null,oe=null,C=I,S=I=0,R=null;C!==null&&S<M.length;S++){C.index>S?(R=C,C=null):R=C.sibling;var j=_(b,C,M[S],K);if(j===null){C===null&&(C=R);break}t&&C&&j.alternate===null&&e(b,C),I=s(j,I,S),oe===null?ee=j:oe.sibling=j,oe=j,C=R}if(S===M.length)return n(b,C),un&&pl(b,S),ee;if(C===null){for(;S<M.length;S++)C=v(b,M[S],K),C!==null&&(I=s(C,I,S),oe===null?ee=C:oe.sibling=C,oe=C);return un&&pl(b,S),ee}for(C=r(b,C);S<M.length;S++)R=m(C,b,S,M[S],K),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?S:R.key),I=s(R,I,S),oe===null?ee=R:oe.sibling=R,oe=R);return t&&C.forEach(function(E){return e(b,E)}),un&&pl(b,S),ee}function N(b,I,M,K){var ee=th(M);if(typeof ee!="function")throw Error(Oe(150));if(M=ee.call(M),M==null)throw Error(Oe(151));for(var oe=ee=null,C=I,S=I=0,R=null,j=M.next();C!==null&&!j.done;S++,j=M.next()){C.index>S?(R=C,C=null):R=C.sibling;var E=_(b,C,j.value,K);if(E===null){C===null&&(C=R);break}t&&C&&E.alternate===null&&e(b,C),I=s(E,I,S),oe===null?ee=E:oe.sibling=E,oe=E,C=R}if(j.done)return n(b,C),un&&pl(b,S),ee;if(C===null){for(;!j.done;S++,j=M.next())j=v(b,j.value,K),j!==null&&(I=s(j,I,S),oe===null?ee=j:oe.sibling=j,oe=j);return un&&pl(b,S),ee}for(C=r(b,C);!j.done;S++,j=M.next())j=m(C,b,S,j.value,K),j!==null&&(t&&j.alternate!==null&&C.delete(j.key===null?S:j.key),I=s(j,I,S),oe===null?ee=j:oe.sibling=j,oe=j);return t&&C.forEach(function(T){return e(b,T)}),un&&pl(b,S),ee}function V(b,I,M,K){if(typeof M=="object"&&M!==null&&M.type===Ou&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case hd:e:{for(var ee=M.key,oe=I;oe!==null;){if(oe.key===ee){if(ee=M.type,ee===Ou){if(oe.tag===7){n(b,oe.sibling),I=i(oe,M.props.children),I.return=b,b=I;break e}}else if(oe.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===aa&&j5(ee)===oe.type){n(b,oe.sibling),I=i(oe,M.props),I.ref=oh(b,oe,M),I.return=b,b=I;break e}n(b,oe);break}else e(b,oe);oe=oe.sibling}M.type===Ou?(I=Al(M.props.children,b.mode,K,M.key),I.return=b,b=I):(K=Jd(M.type,M.key,M.props,null,b.mode,K),K.ref=oh(b,I,M),K.return=b,b=K)}return o(b);case Ru:e:{for(oe=M.key;I!==null;){if(I.key===oe)if(I.tag===4&&I.stateNode.containerInfo===M.containerInfo&&I.stateNode.implementation===M.implementation){n(b,I.sibling),I=i(I,M.children||[]),I.return=b,b=I;break e}else{n(b,I);break}else e(b,I);I=I.sibling}I=$1(M,b.mode,K),I.return=b,b=I}return o(b);case aa:return oe=M._init,V(b,I,oe(M._payload),K)}if(gh(M))return A(b,I,M,K);if(th(M))return N(b,I,M,K);Ed(b,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,I!==null&&I.tag===6?(n(b,I.sibling),I=i(I,M),I.return=b,b=I):(n(b,I),I=z1(M,b.mode,K),I.return=b,b=I),o(b)):n(b,I)}return V}var cc=AE(!0),IE=AE(!1),Ip=qa(null),Tp=null,qu=null,A2=null;function I2(){A2=qu=Tp=null}function T2(t){var e=Ip.current;an(Ip),t._currentValue=e}function Xm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yu(t,e){Tp=t,A2=qu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xr=!0),t.firstContext=null)}function Wi(t){var e=t._currentValue;if(A2!==t)if(t={context:t,memoizedValue:e,next:null},qu===null){if(Tp===null)throw Error(Oe(308));qu=t,Tp.dependencies={lanes:0,firstContext:t}}else qu=qu.next=t;return e}var wl=null;function N2(t){wl===null?wl=[t]:wl.push(t)}function TE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,N2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Eo(t,r)}function Eo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var la=!1;function k2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ct&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Eo(t,n)}return i=r.interleaved,i===null?(e.next=e,N2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Eo(t,n)}function Wd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,p2(t,n)}}function F5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Np(t,e,n,r){var i=t.updateQueue;la=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,h=l.next;l.next=null,o===null?s=h:o.next=h,o=l;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=h:a.next=h,p.lastBaseUpdate=l))}if(s!==null){var v=i.baseState;o=0,p=h=l=null,a=s;do{var _=a.lane,m=a.eventTime;if((r&_)===_){p!==null&&(p=p.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,N=a;switch(_=e,m=n,N.tag){case 1:if(A=N.payload,typeof A=="function"){v=A.call(m,v,_);break e}v=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=N.payload,_=typeof A=="function"?A.call(m,v,_):A,_==null)break e;v=pn({},v,_);break e;case 2:la=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,_=i.effects,_===null?i.effects=[a]:_.push(a))}else m={eventTime:m,lane:_,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(h=p=m,l=v):p=p.next=m,o|=_;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;_=a,a=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(1);if(p===null&&(l=v),i.baseState=l,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cl|=o,t.lanes=o,t.memoizedState=v}}function V5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var wf={},Ms=qa(wf),Jh=qa(wf),Zh=qa(wf);function bl(t){if(t===wf)throw Error(Oe(174));return t}function P2(t,e){switch(en(Zh,e),en(Jh,t),en(Ms,wf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pm(e,t)}an(Ms),en(Ms,e)}function hc(){an(Ms),an(Jh),an(Zh)}function kE(t){bl(Zh.current);var e=bl(Ms.current),n=Pm(e,t.type);e!==n&&(en(Jh,t),en(Ms,n))}function L2(t){Jh.current===t&&(an(Ms),an(Jh))}var fn=qa(0);function kp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var j1=[];function C2(){for(var t=0;t<j1.length;t++)j1[t]._workInProgressVersionPrimary=null;j1.length=0}var Gd=ko.ReactCurrentDispatcher,F1=ko.ReactCurrentBatchConfig,Ll=0,dn=null,Fn=null,Wn=null,Pp=!1,Lh=!1,ef=0,pT=0;function ur(){throw Error(Oe(321))}function R2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gs(t[n],e[n]))return!1;return!0}function O2(t,e,n,r,i,s){if(Ll=s,dn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gd.current=t===null||t.memoizedState===null?yT:_T,t=n(r,i),Lh){s=0;do{if(Lh=!1,ef=0,25<=s)throw Error(Oe(301));s+=1,Wn=Fn=null,e.updateQueue=null,Gd.current=wT,t=n(r,i)}while(Lh)}if(Gd.current=Lp,e=Fn!==null&&Fn.next!==null,Ll=0,Wn=Fn=dn=null,Pp=!1,e)throw Error(Oe(300));return t}function D2(){var t=ef!==0;return ef=0,t}function Ps(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?dn.memoizedState=Wn=t:Wn=Wn.next=t,Wn}function Gi(){if(Fn===null){var t=dn.alternate;t=t!==null?t.memoizedState:null}else t=Fn.next;var e=Wn===null?dn.memoizedState:Wn.next;if(e!==null)Wn=e,Fn=t;else{if(t===null)throw Error(Oe(310));Fn=t,t={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},Wn===null?dn.memoizedState=Wn=t:Wn=Wn.next=t}return Wn}function tf(t,e){return typeof e=="function"?e(t):e}function V1(t){var e=Gi(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=Fn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,h=s;do{var p=h.lane;if((Ll&p)===p)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var v={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(a=l=v,o=r):l=l.next=v,dn.lanes|=p,Cl|=p}h=h.next}while(h!==null&&h!==s);l===null?o=r:l.next=a,gs(r,e.memoizedState)||(Xr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,dn.lanes|=s,Cl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function B1(t){var e=Gi(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);gs(s,e.memoizedState)||(Xr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function PE(){}function LE(t,e){var n=dn,r=Gi(),i=e(),s=!gs(r.memoizedState,i);if(s&&(r.memoizedState=i,Xr=!0),r=r.queue,M2(OE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Wn!==null&&Wn.memoizedState.tag&1){if(n.flags|=2048,nf(9,RE.bind(null,n,r,i,e),void 0,null),Kn===null)throw Error(Oe(349));Ll&30||CE(n,e,i)}return i}function CE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dn.updateQueue,e===null?(e={lastEffect:null,stores:null},dn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RE(t,e,n,r){e.value=n,e.getSnapshot=r,DE(e)&&ME(t)}function OE(t,e,n){return n(function(){DE(e)&&ME(t)})}function DE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gs(t,n)}catch{return!0}}function ME(t){var e=Eo(t,1);e!==null&&ms(e,t,1,-1)}function B5(t){var e=Ps();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tf,lastRenderedState:t},e.queue=t,t=t.dispatch=vT.bind(null,dn,t),[e.memoizedState,t]}function nf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dn.updateQueue,e===null?(e={lastEffect:null,stores:null},dn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jE(){return Gi().memoizedState}function Kd(t,e,n,r){var i=Ps();dn.flags|=t,i.memoizedState=nf(1|e,n,void 0,r===void 0?null:r)}function c0(t,e,n,r){var i=Gi();r=r===void 0?null:r;var s=void 0;if(Fn!==null){var o=Fn.memoizedState;if(s=o.destroy,r!==null&&R2(r,o.deps)){i.memoizedState=nf(e,n,s,r);return}}dn.flags|=t,i.memoizedState=nf(1|e,n,s,r)}function U5(t,e){return Kd(8390656,8,t,e)}function M2(t,e){return c0(2048,8,t,e)}function FE(t,e){return c0(4,2,t,e)}function VE(t,e){return c0(4,4,t,e)}function BE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UE(t,e,n){return n=n!=null?n.concat([t]):null,c0(4,4,BE.bind(null,e,t),n)}function j2(){}function qE(t,e){var n=Gi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&R2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zE(t,e){var n=Gi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&R2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $E(t,e,n){return Ll&21?(gs(n,e)||(n=Qb(),dn.lanes|=n,Cl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xr=!0),t.memoizedState=n)}function mT(t,e){var n=qt;qt=n!==0&&4>n?n:4,t(!0);var r=F1.transition;F1.transition={};try{t(!1),e()}finally{qt=n,F1.transition=r}}function HE(){return Gi().memoizedState}function gT(t,e,n){var r=Aa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},WE(t))GE(e,n);else if(n=TE(t,e,n,r),n!==null){var i=Pr();ms(n,t,r,i),KE(n,e,r)}}function vT(t,e,n){var r=Aa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(WE(t))GE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,gs(a,o)){var l=e.interleaved;l===null?(i.next=i,N2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=TE(t,e,i,r),n!==null&&(i=Pr(),ms(n,t,r,i),KE(n,e,r))}}function WE(t){var e=t.alternate;return t===dn||e!==null&&e===dn}function GE(t,e){Lh=Pp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function KE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,p2(t,n)}}var Lp={readContext:Wi,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},yT={readContext:Wi,useCallback:function(t,e){return Ps().memoizedState=[t,e===void 0?null:e],t},useContext:Wi,useEffect:U5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kd(4194308,4,BE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kd(4,2,t,e)},useMemo:function(t,e){var n=Ps();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ps();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gT.bind(null,dn,t),[r.memoizedState,t]},useRef:function(t){var e=Ps();return t={current:t},e.memoizedState=t},useState:B5,useDebugValue:j2,useDeferredValue:function(t){return Ps().memoizedState=t},useTransition:function(){var t=B5(!1),e=t[0];return t=mT.bind(null,t[1]),Ps().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dn,i=Ps();if(un){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=e(),Kn===null)throw Error(Oe(349));Ll&30||CE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,U5(OE.bind(null,r,s,t),[t]),r.flags|=2048,nf(9,RE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ps(),e=Kn.identifierPrefix;if(un){var n=fo,r=ho;n=(r&~(1<<32-ps(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ef++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_T={readContext:Wi,useCallback:qE,useContext:Wi,useEffect:M2,useImperativeHandle:UE,useInsertionEffect:FE,useLayoutEffect:VE,useMemo:zE,useReducer:V1,useRef:jE,useState:function(){return V1(tf)},useDebugValue:j2,useDeferredValue:function(t){var e=Gi();return $E(e,Fn.memoizedState,t)},useTransition:function(){var t=V1(tf)[0],e=Gi().memoizedState;return[t,e]},useMutableSource:PE,useSyncExternalStore:LE,useId:HE,unstable_isNewReconciler:!1},wT={readContext:Wi,useCallback:qE,useContext:Wi,useEffect:M2,useImperativeHandle:UE,useInsertionEffect:FE,useLayoutEffect:VE,useMemo:zE,useReducer:B1,useRef:jE,useState:function(){return B1(tf)},useDebugValue:j2,useDeferredValue:function(t){var e=Gi();return Fn===null?e.memoizedState=t:$E(e,Fn.memoizedState,t)},useTransition:function(){var t=B1(tf)[0],e=Gi().memoizedState;return[t,e]},useMutableSource:PE,useSyncExternalStore:LE,useId:HE,unstable_isNewReconciler:!1};function cs(t,e){if(t&&t.defaultProps){e=pn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ym(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var h0={isMounted:function(t){return(t=t._reactInternals)?Bl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pr(),i=Aa(t),s=yo(r,i);s.payload=e,n!=null&&(s.callback=n),e=xa(t,s,i),e!==null&&(ms(e,t,i,r),Wd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pr(),i=Aa(t),s=yo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=xa(t,s,i),e!==null&&(ms(e,t,i,r),Wd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pr(),r=Aa(t),i=yo(n,r);i.tag=2,e!=null&&(i.callback=e),e=xa(t,i,r),e!==null&&(ms(e,t,r,n),Wd(e,t,r))}};function q5(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Kh(n,r)||!Kh(i,s):!0}function QE(t,e,n){var r=!1,i=Da,s=e.contextType;return typeof s=="object"&&s!==null?s=Wi(s):(i=Jr(e)?kl:wr.current,r=e.contextTypes,s=(r=r!=null)?lc(t,i):Da),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=h0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function z5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&h0.enqueueReplaceState(e,e.state,null)}function Jm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},k2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Wi(s):(s=Jr(e)?kl:wr.current,i.context=lc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ym(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&h0.enqueueReplaceState(i,i.state,null),Np(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fc(t,e){try{var n="",r=e;do n+=KA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function U1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bT=typeof WeakMap=="function"?WeakMap:Map;function XE(t,e,n){n=yo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rp||(Rp=!0,ug=r),Zm(t,e)},n}function YE(t,e,n){n=yo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zm(t,e),typeof r!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=DT.bind(null,t,e,n),e.then(t,t))}function H5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function W5(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yo(-1,1),e.tag=2,xa(n,e,1))),n.lanes|=1),t)}var ET=ko.ReactCurrentOwner,Xr=!1;function kr(t,e,n,r){e.child=t===null?IE(e,null,n,r):cc(e,t.child,n,r)}function G5(t,e,n,r,i){n=n.render;var s=e.ref;return Yu(e,i),r=O2(t,e,n,r,s,i),n=D2(),t!==null&&!Xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xo(t,e,i)):(un&&n&&E2(e),e.flags|=1,kr(t,e,r,i),e.child)}function K5(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!H2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,JE(t,e,s,r,i)):(t=Jd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Kh,n(o,r)&&t.ref===e.ref)return xo(t,e,i)}return e.flags|=1,t=Ia(s,r),t.ref=e.ref,t.return=e,e.child=t}function JE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Kh(s,r)&&t.ref===e.ref)if(Xr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Xr=!0);else return e.lanes=t.lanes,xo(t,e,i)}return eg(t,e,n,r,i)}function ZE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},en($u,vi),vi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,en($u,vi),vi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,en($u,vi),vi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,en($u,vi),vi|=r;return kr(t,e,i,n),e.child}function e4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function eg(t,e,n,r,i){var s=Jr(n)?kl:wr.current;return s=lc(e,s),Yu(e,i),n=O2(t,e,n,r,s,i),r=D2(),t!==null&&!Xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xo(t,e,i)):(un&&r&&E2(e),e.flags|=1,kr(t,e,n,i),e.child)}function Q5(t,e,n,r,i){if(Jr(n)){var s=!0;xp(e)}else s=!1;if(Yu(e,i),e.stateNode===null)Qd(t,e),QE(e,n,r),Jm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Wi(h):(h=Jr(n)?kl:wr.current,h=lc(e,h));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==h)&&z5(e,o,r,h),la=!1;var _=e.memoizedState;o.state=_,Np(e,r,o,i),l=e.memoizedState,a!==r||_!==l||Yr.current||la?(typeof p=="function"&&(Ym(e,n,p,r),l=e.memoizedState),(a=la||q5(e,n,a,r,_,l,h))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=h,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NE(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:cs(e.type,a),o.props=h,v=e.pendingProps,_=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wi(l):(l=Jr(n)?kl:wr.current,l=lc(e,l));var m=n.getDerivedStateFromProps;(p=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==v||_!==l)&&z5(e,o,r,l),la=!1,_=e.memoizedState,o.state=_,Np(e,r,o,i);var A=e.memoizedState;a!==v||_!==A||Yr.current||la?(typeof m=="function"&&(Ym(e,n,m,r),A=e.memoizedState),(h=la||q5(e,n,h,r,_,A,l)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=l,r=h):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return tg(t,e,n,r,s,i)}function tg(t,e,n,r,i,s){e4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&O5(e,n,!1),xo(t,e,s);r=e.stateNode,ET.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=cc(e,t.child,null,s),e.child=cc(e,null,a,s)):kr(t,e,a,s),e.memoizedState=r.state,i&&O5(e,n,!0),e.child}function t4(t){var e=t.stateNode;e.pendingContext?R5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R5(t,e.context,!1),P2(t,e.containerInfo)}function X5(t,e,n,r,i){return uc(),S2(i),e.flags|=256,kr(t,e,n,r),e.child}var ng={dehydrated:null,treeContext:null,retryLane:0};function rg(t){return{baseLanes:t,cachePool:null,transitions:null}}function n4(t,e,n){var r=e.pendingProps,i=fn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),en(fn,i&1),t===null)return Qm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=p0(o,r,0,null),t=Al(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rg(n),e.memoizedState=ng,t):F2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xT(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ia(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ia(a,s):(s=Al(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?rg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ng,r}return s=t.child,t=s.sibling,r=Ia(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function F2(t,e){return e=p0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xd(t,e,n,r){return r!==null&&S2(r),cc(e,t.child,null,n),t=F2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xT(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=U1(Error(Oe(422))),xd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=p0({mode:"visible",children:r.children},i,0,null),s=Al(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&cc(e,t.child,null,o),e.child.memoizedState=rg(o),e.memoizedState=ng,s);if(!(e.mode&1))return xd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Oe(419)),r=U1(s,r,void 0),xd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Xr||a){if(r=Kn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Eo(t,i),ms(r,t,i,-1))}return $2(),r=U1(Error(Oe(421))),xd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,_i=Ea(i.nextSibling),Ei=e,un=!0,ds=null,t!==null&&(Ui[qi++]=ho,Ui[qi++]=fo,Ui[qi++]=Pl,ho=t.id,fo=t.overflow,Pl=e),e=F2(e,r.children),e.flags|=4096,e)}function Y5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xm(t.return,e,n)}function q1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function r4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(kr(t,e,r.children,n),r=fn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y5(t,n,e);else if(t.tag===19)Y5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(en(fn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),q1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}q1(e,!0,n,null,s);break;case"together":q1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,n=Ia(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ia(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ST(t,e,n){switch(e.tag){case 3:t4(e),uc();break;case 5:kE(e);break;case 1:Jr(e.type)&&xp(e);break;case 4:P2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;en(Ip,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(en(fn,fn.current&1),e.flags|=128,null):n&e.child.childLanes?n4(t,e,n):(en(fn,fn.current&1),t=xo(t,e,n),t!==null?t.sibling:null);en(fn,fn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return r4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),en(fn,fn.current),r)break;return null;case 22:case 23:return e.lanes=0,ZE(t,e,n)}return xo(t,e,n)}var i4,ig,s4,o4;i4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ig=function(){};s4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bl(Ms.current);var s=null;switch(n){case"input":i=Im(t,i),r=Im(t,r),s=[];break;case"select":i=pn({},i,{value:void 0}),r=pn({},r,{value:void 0}),s=[];break;case"textarea":i=km(t,i),r=km(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bp)}Lm(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Uh.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&l!==a&&(l!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Uh.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&sn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};o4=function(t,e,n,r){n!==r&&(e.flags|=4)};function ah(t,e){if(!un)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AT(t,e,n){var r=e.pendingProps;switch(x2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(e),null;case 1:return Jr(e.type)&&Ep(),cr(e),null;case 3:return r=e.stateNode,hc(),an(Yr),an(wr),C2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ds!==null&&(fg(ds),ds=null))),ig(t,e),cr(e),null;case 5:L2(e);var i=bl(Zh.current);if(n=e.type,t!==null&&e.stateNode!=null)s4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Oe(166));return cr(e),null}if(t=bl(Ms.current),bd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Cs]=e,r[Yh]=s,t=(e.mode&1)!==0,n){case"dialog":sn("cancel",r),sn("close",r);break;case"iframe":case"object":case"embed":sn("load",r);break;case"video":case"audio":for(i=0;i<yh.length;i++)sn(yh[i],r);break;case"source":sn("error",r);break;case"img":case"image":case"link":sn("error",r),sn("load",r);break;case"details":sn("toggle",r);break;case"input":o5(r,s),sn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},sn("invalid",r);break;case"textarea":l5(r,s),sn("invalid",r)}Lm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&wd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wd(r.textContent,a,t),i=["children",""+a]):Uh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&sn("scroll",r)}switch(n){case"input":fd(r),a5(r,s,!0);break;case"textarea":fd(r),u5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=bp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ob(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Cs]=e,t[Yh]=r,i4(t,e,!1,!1),e.stateNode=t;e:{switch(o=Cm(n,r),n){case"dialog":sn("cancel",t),sn("close",t),i=r;break;case"iframe":case"object":case"embed":sn("load",t),i=r;break;case"video":case"audio":for(i=0;i<yh.length;i++)sn(yh[i],t);i=r;break;case"source":sn("error",t),i=r;break;case"img":case"image":case"link":sn("error",t),sn("load",t),i=r;break;case"details":sn("toggle",t),i=r;break;case"input":o5(t,r),i=Im(t,r),sn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pn({},r,{value:void 0}),sn("invalid",t);break;case"textarea":l5(t,r),i=km(t,r),sn("invalid",t);break;default:i=r}Lm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?jb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Db(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qh(t,l):typeof l=="number"&&qh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Uh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&sn("scroll",t):l!=null&&l2(t,s,l,o))}switch(n){case"input":fd(t),a5(t,r,!1);break;case"textarea":fd(t),u5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oa(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Gu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Gu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return cr(e),null;case 6:if(t&&e.stateNode!=null)o4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Oe(166));if(n=bl(Zh.current),bl(Ms.current),bd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cs]=e,(s=r.nodeValue!==n)&&(t=Ei,t!==null))switch(t.tag){case 3:wd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cs]=e,e.stateNode=r}return cr(e),null;case 13:if(an(fn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(un&&_i!==null&&e.mode&1&&!(e.flags&128))SE(),uc(),e.flags|=98560,s=!1;else if(s=bd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Oe(317));s[Cs]=e}else uc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;cr(e),s=!1}else ds!==null&&(fg(ds),ds=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fn.current&1?Bn===0&&(Bn=3):$2())),e.updateQueue!==null&&(e.flags|=4),cr(e),null);case 4:return hc(),ig(t,e),t===null&&Qh(e.stateNode.containerInfo),cr(e),null;case 10:return T2(e.type._context),cr(e),null;case 17:return Jr(e.type)&&Ep(),cr(e),null;case 19:if(an(fn),s=e.memoizedState,s===null)return cr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ah(s,!1);else{if(Bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=kp(t),o!==null){for(e.flags|=128,ah(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return en(fn,fn.current&1|2),e.child}t=t.sibling}s.tail!==null&&In()>dc&&(e.flags|=128,r=!0,ah(s,!1),e.lanes=4194304)}else{if(!r)if(t=kp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ah(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!un)return cr(e),null}else 2*In()-s.renderingStartTime>dc&&n!==1073741824&&(e.flags|=128,r=!0,ah(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=In(),e.sibling=null,n=fn.current,en(fn,r?n&1|2:n&1),e):(cr(e),null);case 22:case 23:return z2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vi&1073741824&&(cr(e),e.subtreeFlags&6&&(e.flags|=8192)):cr(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function IT(t,e){switch(x2(e),e.tag){case 1:return Jr(e.type)&&Ep(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hc(),an(Yr),an(wr),C2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return L2(e),null;case 13:if(an(fn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));uc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return an(fn),null;case 4:return hc(),null;case 10:return T2(e.type._context),null;case 22:case 23:return z2(),null;case 24:return null;default:return null}}var Sd=!1,vr=!1,TT=typeof WeakSet=="function"?WeakSet:Set,We=null;function zu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bn(t,e,r)}else n.current=null}function sg(t,e,n){try{n()}catch(r){bn(t,e,r)}}var J5=!1;function NT(t,e){if(qm=yp,t=hE(),b2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,h=0,p=0,v=t,_=null;t:for(;;){for(var m;v!==n||i!==0&&v.nodeType!==3||(a=o+i),v!==s||r!==0&&v.nodeType!==3||(l=o+r),v.nodeType===3&&(o+=v.nodeValue.length),(m=v.firstChild)!==null;)_=v,v=m;for(;;){if(v===t)break t;if(_===n&&++h===i&&(a=o),_===s&&++p===r&&(l=o),(m=v.nextSibling)!==null)break;v=_,_=v.parentNode}v=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zm={focusedElem:t,selectionRange:n},yp=!1,We=e;We!==null;)if(e=We,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,We=t;else for(;We!==null;){e=We;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var N=A.memoizedProps,V=A.memoizedState,b=e.stateNode,I=b.getSnapshotBeforeUpdate(e.elementType===e.type?N:cs(e.type,N),V);b.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(K){bn(e,e.return,K)}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}return A=J5,J5=!1,A}function Ch(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&sg(e,n,s)}i=i.next}while(i!==r)}}function f0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function og(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function a4(t){var e=t.alternate;e!==null&&(t.alternate=null,a4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cs],delete e[Yh],delete e[Wm],delete e[cT],delete e[hT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function l4(t){return t.tag===5||t.tag===3||t.tag===4}function Z5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ag(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bp));else if(r!==4&&(t=t.child,t!==null))for(ag(t,e,n),t=t.sibling;t!==null;)ag(t,e,n),t=t.sibling}function lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lg(t,e,n),t=t.sibling;t!==null;)lg(t,e,n),t=t.sibling}var Zn=null,fs=!1;function ra(t,e,n){for(n=n.child;n!==null;)u4(t,e,n),n=n.sibling}function u4(t,e,n){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(i0,n)}catch{}switch(n.tag){case 5:vr||zu(n,e);case 6:var r=Zn,i=fs;Zn=null,ra(t,e,n),Zn=r,fs=i,Zn!==null&&(fs?(t=Zn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Zn.removeChild(n.stateNode));break;case 18:Zn!==null&&(fs?(t=Zn,n=n.stateNode,t.nodeType===8?D1(t.parentNode,n):t.nodeType===1&&D1(t,n),Wh(t)):D1(Zn,n.stateNode));break;case 4:r=Zn,i=fs,Zn=n.stateNode.containerInfo,fs=!0,ra(t,e,n),Zn=r,fs=i;break;case 0:case 11:case 14:case 15:if(!vr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&sg(n,e,o),i=i.next}while(i!==r)}ra(t,e,n);break;case 1:if(!vr&&(zu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bn(n,e,a)}ra(t,e,n);break;case 21:ra(t,e,n);break;case 22:n.mode&1?(vr=(r=vr)||n.memoizedState!==null,ra(t,e,n),vr=r):ra(t,e,n);break;default:ra(t,e,n)}}function e_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TT),e.forEach(function(r){var i=jT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function as(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Zn=a.stateNode,fs=!1;break e;case 3:Zn=a.stateNode.containerInfo,fs=!0;break e;case 4:Zn=a.stateNode.containerInfo,fs=!0;break e}a=a.return}if(Zn===null)throw Error(Oe(160));u4(s,o,i),Zn=null,fs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(h){bn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)c4(e,t),e=e.sibling}function c4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(as(e,t),Ns(t),r&4){try{Ch(3,t,t.return),f0(3,t)}catch(N){bn(t,t.return,N)}try{Ch(5,t,t.return)}catch(N){bn(t,t.return,N)}}break;case 1:as(e,t),Ns(t),r&512&&n!==null&&zu(n,n.return);break;case 5:if(as(e,t),Ns(t),r&512&&n!==null&&zu(n,n.return),t.flags&32){var i=t.stateNode;try{qh(i,"")}catch(N){bn(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Cb(i,s),Cm(a,o);var h=Cm(a,s);for(o=0;o<l.length;o+=2){var p=l[o],v=l[o+1];p==="style"?jb(i,v):p==="dangerouslySetInnerHTML"?Db(i,v):p==="children"?qh(i,v):l2(i,p,v,h)}switch(a){case"input":Tm(i,s);break;case"textarea":Rb(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Gu(i,!!s.multiple,m,!1):_!==!!s.multiple&&(s.defaultValue!=null?Gu(i,!!s.multiple,s.defaultValue,!0):Gu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yh]=s}catch(N){bn(t,t.return,N)}}break;case 6:if(as(e,t),Ns(t),r&4){if(t.stateNode===null)throw Error(Oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){bn(t,t.return,N)}}break;case 3:if(as(e,t),Ns(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wh(e.containerInfo)}catch(N){bn(t,t.return,N)}break;case 4:as(e,t),Ns(t);break;case 13:as(e,t),Ns(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(U2=In())),r&4&&e_(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(vr=(h=vr)||p,as(e,t),vr=h):as(e,t),Ns(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(We=t,p=t.child;p!==null;){for(v=We=p;We!==null;){switch(_=We,m=_.child,_.tag){case 0:case 11:case 14:case 15:Ch(4,_,_.return);break;case 1:zu(_,_.return);var A=_.stateNode;if(typeof A.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(N){bn(r,n,N)}}break;case 5:zu(_,_.return);break;case 22:if(_.memoizedState!==null){n_(v);continue}}m!==null?(m.return=_,We=m):n_(v)}p=p.sibling}e:for(p=null,v=t;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=v.stateNode,l=v.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Mb("display",o))}catch(N){bn(t,t.return,N)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(N){bn(t,t.return,N)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:as(e,t),Ns(t),r&4&&e_(t);break;case 21:break;default:as(e,t),Ns(t)}}function Ns(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(l4(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qh(i,""),r.flags&=-33);var s=Z5(t);lg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Z5(t);ag(t,a,o);break;default:throw Error(Oe(161))}}catch(l){bn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kT(t,e,n){We=t,h4(t)}function h4(t,e,n){for(var r=(t.mode&1)!==0;We!==null;){var i=We,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Sd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vr;a=Sd;var h=vr;if(Sd=o,(vr=l)&&!h)for(We=i;We!==null;)o=We,l=o.child,o.tag===22&&o.memoizedState!==null?r_(i):l!==null?(l.return=o,We=l):r_(i);for(;s!==null;)We=s,h4(s),s=s.sibling;We=i,Sd=a,vr=h}t_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,We=s):t_(t)}}function t_(t){for(;We!==null;){var e=We;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vr||f0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:cs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&V5(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}V5(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&Wh(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}vr||e.flags&512&&og(e)}catch(_){bn(e,e.return,_)}}if(e===t){We=null;break}if(n=e.sibling,n!==null){n.return=e.return,We=n;break}We=e.return}}function n_(t){for(;We!==null;){var e=We;if(e===t){We=null;break}var n=e.sibling;if(n!==null){n.return=e.return,We=n;break}We=e.return}}function r_(t){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{f0(4,e)}catch(l){bn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bn(e,i,l)}}var s=e.return;try{og(e)}catch(l){bn(e,s,l)}break;case 5:var o=e.return;try{og(e)}catch(l){bn(e,o,l)}}}catch(l){bn(e,e.return,l)}if(e===t){We=null;break}var a=e.sibling;if(a!==null){a.return=e.return,We=a;break}We=e.return}}var PT=Math.ceil,Cp=ko.ReactCurrentDispatcher,V2=ko.ReactCurrentOwner,Hi=ko.ReactCurrentBatchConfig,Ct=0,Kn=null,On=null,nr=0,vi=0,$u=qa(0),Bn=0,rf=null,Cl=0,d0=0,B2=0,Rh=null,Gr=null,U2=0,dc=1/0,uo=null,Rp=!1,ug=null,Sa=null,Ad=!1,ga=null,Op=0,Oh=0,cg=null,Xd=-1,Yd=0;function Pr(){return Ct&6?In():Xd!==-1?Xd:Xd=In()}function Aa(t){return t.mode&1?Ct&2&&nr!==0?nr&-nr:dT.transition!==null?(Yd===0&&(Yd=Qb()),Yd):(t=qt,t!==0||(t=window.event,t=t===void 0?16:nE(t.type)),t):1}function ms(t,e,n,r){if(50<Oh)throw Oh=0,cg=null,Error(Oe(185));vf(t,n,r),(!(Ct&2)||t!==Kn)&&(t===Kn&&(!(Ct&2)&&(d0|=n),Bn===4&&ca(t,nr)),Zr(t,r),n===1&&Ct===0&&!(e.mode&1)&&(dc=In()+500,u0&&za()))}function Zr(t,e){var n=t.callbackNode;dI(t,e);var r=vp(t,t===Kn?nr:0);if(r===0)n!==null&&f5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&f5(n),e===1)t.tag===0?fT(i_.bind(null,t)):bE(i_.bind(null,t)),lT(function(){!(Ct&6)&&za()}),n=null;else{switch(Xb(r)){case 1:n=d2;break;case 4:n=Gb;break;case 16:n=gp;break;case 536870912:n=Kb;break;default:n=gp}n=_4(n,f4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function f4(t,e){if(Xd=-1,Yd=0,Ct&6)throw Error(Oe(327));var n=t.callbackNode;if(Ju()&&t.callbackNode!==n)return null;var r=vp(t,t===Kn?nr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dp(t,r);else{e=r;var i=Ct;Ct|=2;var s=p4();(Kn!==t||nr!==e)&&(uo=null,dc=In()+500,Sl(t,e));do try{RT();break}catch(a){d4(t,a)}while(1);I2(),Cp.current=s,Ct=i,On!==null?e=0:(Kn=null,nr=0,e=Bn)}if(e!==0){if(e===2&&(i=jm(t),i!==0&&(r=i,e=hg(t,i))),e===1)throw n=rf,Sl(t,0),ca(t,r),Zr(t,In()),n;if(e===6)ca(t,r);else{if(i=t.current.alternate,!(r&30)&&!LT(i)&&(e=Dp(t,r),e===2&&(s=jm(t),s!==0&&(r=s,e=hg(t,s))),e===1))throw n=rf,Sl(t,0),ca(t,r),Zr(t,In()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Oe(345));case 2:ml(t,Gr,uo);break;case 3:if(ca(t,r),(r&130023424)===r&&(e=U2+500-In(),10<e)){if(vp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hm(ml.bind(null,t,Gr,uo),e);break}ml(t,Gr,uo);break;case 4:if(ca(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ps(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=In()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PT(r/1960))-r,10<r){t.timeoutHandle=Hm(ml.bind(null,t,Gr,uo),r);break}ml(t,Gr,uo);break;case 5:ml(t,Gr,uo);break;default:throw Error(Oe(329))}}}return Zr(t,In()),t.callbackNode===n?f4.bind(null,t):null}function hg(t,e){var n=Rh;return t.current.memoizedState.isDehydrated&&(Sl(t,e).flags|=256),t=Dp(t,e),t!==2&&(e=Gr,Gr=n,e!==null&&fg(e)),t}function fg(t){Gr===null?Gr=t:Gr.push.apply(Gr,t)}function LT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ca(t,e){for(e&=~B2,e&=~d0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ps(e),r=1<<n;t[n]=-1,e&=~r}}function i_(t){if(Ct&6)throw Error(Oe(327));Ju();var e=vp(t,0);if(!(e&1))return Zr(t,In()),null;var n=Dp(t,e);if(t.tag!==0&&n===2){var r=jm(t);r!==0&&(e=r,n=hg(t,r))}if(n===1)throw n=rf,Sl(t,0),ca(t,e),Zr(t,In()),n;if(n===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ml(t,Gr,uo),Zr(t,In()),null}function q2(t,e){var n=Ct;Ct|=1;try{return t(e)}finally{Ct=n,Ct===0&&(dc=In()+500,u0&&za())}}function Rl(t){ga!==null&&ga.tag===0&&!(Ct&6)&&Ju();var e=Ct;Ct|=1;var n=Hi.transition,r=qt;try{if(Hi.transition=null,qt=1,t)return t()}finally{qt=r,Hi.transition=n,Ct=e,!(Ct&6)&&za()}}function z2(){vi=$u.current,an($u)}function Sl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aT(n)),On!==null)for(n=On.return;n!==null;){var r=n;switch(x2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ep();break;case 3:hc(),an(Yr),an(wr),C2();break;case 5:L2(r);break;case 4:hc();break;case 13:an(fn);break;case 19:an(fn);break;case 10:T2(r.type._context);break;case 22:case 23:z2()}n=n.return}if(Kn=t,On=t=Ia(t.current,null),nr=vi=e,Bn=0,rf=null,B2=d0=Cl=0,Gr=Rh=null,wl!==null){for(e=0;e<wl.length;e++)if(n=wl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}wl=null}return t}function d4(t,e){do{var n=On;try{if(I2(),Gd.current=Lp,Pp){for(var r=dn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pp=!1}if(Ll=0,Wn=Fn=dn=null,Lh=!1,ef=0,V2.current=null,n===null||n.return===null){Bn=1,rf=e,On=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=nr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,p=a,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var _=p.alternate;_?(p.updateQueue=_.updateQueue,p.memoizedState=_.memoizedState,p.lanes=_.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=H5(o);if(m!==null){m.flags&=-257,W5(m,o,a,s,e),m.mode&1&&$5(s,h,e),e=m,l=h;var A=e.updateQueue;if(A===null){var N=new Set;N.add(l),e.updateQueue=N}else A.add(l);break e}else{if(!(e&1)){$5(s,h,e),$2();break e}l=Error(Oe(426))}}else if(un&&a.mode&1){var V=H5(o);if(V!==null){!(V.flags&65536)&&(V.flags|=256),W5(V,o,a,s,e),S2(fc(l,a));break e}}s=l=fc(l,a),Bn!==4&&(Bn=2),Rh===null?Rh=[s]:Rh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=XE(s,l,e);F5(s,b);break e;case 1:a=l;var I=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Sa===null||!Sa.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var K=YE(s,a,e);F5(s,K);break e}}s=s.return}while(s!==null)}g4(n)}catch(ee){e=ee,On===n&&n!==null&&(On=n=n.return);continue}break}while(1)}function p4(){var t=Cp.current;return Cp.current=Lp,t===null?Lp:t}function $2(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Kn===null||!(Cl&268435455)&&!(d0&268435455)||ca(Kn,nr)}function Dp(t,e){var n=Ct;Ct|=2;var r=p4();(Kn!==t||nr!==e)&&(uo=null,Sl(t,e));do try{CT();break}catch(i){d4(t,i)}while(1);if(I2(),Ct=n,Cp.current=r,On!==null)throw Error(Oe(261));return Kn=null,nr=0,Bn}function CT(){for(;On!==null;)m4(On)}function RT(){for(;On!==null&&!iI();)m4(On)}function m4(t){var e=y4(t.alternate,t,vi);t.memoizedProps=t.pendingProps,e===null?g4(t):On=e,V2.current=null}function g4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IT(n,e),n!==null){n.flags&=32767,On=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bn=6,On=null;return}}else if(n=AT(n,e,vi),n!==null){On=n;return}if(e=e.sibling,e!==null){On=e;return}On=e=t}while(e!==null);Bn===0&&(Bn=5)}function ml(t,e,n){var r=qt,i=Hi.transition;try{Hi.transition=null,qt=1,OT(t,e,n,r)}finally{Hi.transition=i,qt=r}return null}function OT(t,e,n,r){do Ju();while(ga!==null);if(Ct&6)throw Error(Oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pI(t,s),t===Kn&&(On=Kn=null,nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ad||(Ad=!0,_4(gp,function(){return Ju(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Hi.transition,Hi.transition=null;var o=qt;qt=1;var a=Ct;Ct|=4,V2.current=null,NT(t,n),c4(n,t),eT(zm),yp=!!qm,zm=qm=null,t.current=n,kT(n),sI(),Ct=a,qt=o,Hi.transition=s}else t.current=n;if(Ad&&(Ad=!1,ga=t,Op=i),s=t.pendingLanes,s===0&&(Sa=null),lI(n.stateNode),Zr(t,In()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rp)throw Rp=!1,t=ug,ug=null,t;return Op&1&&t.tag!==0&&Ju(),s=t.pendingLanes,s&1?t===cg?Oh++:(Oh=0,cg=t):Oh=0,za(),null}function Ju(){if(ga!==null){var t=Xb(Op),e=Hi.transition,n=qt;try{if(Hi.transition=null,qt=16>t?16:t,ga===null)var r=!1;else{if(t=ga,ga=null,Op=0,Ct&6)throw Error(Oe(331));var i=Ct;for(Ct|=4,We=t.current;We!==null;){var s=We,o=s.child;if(We.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var h=a[l];for(We=h;We!==null;){var p=We;switch(p.tag){case 0:case 11:case 15:Ch(8,p,s)}var v=p.child;if(v!==null)v.return=p,We=v;else for(;We!==null;){p=We;var _=p.sibling,m=p.return;if(a4(p),p===h){We=null;break}if(_!==null){_.return=m,We=_;break}We=m}}}var A=s.alternate;if(A!==null){var N=A.child;if(N!==null){A.child=null;do{var V=N.sibling;N.sibling=null,N=V}while(N!==null)}}We=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,We=o;else e:for(;We!==null;){if(s=We,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ch(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,We=b;break e}We=s.return}}var I=t.current;for(We=I;We!==null;){o=We;var M=o.child;if(o.subtreeFlags&2064&&M!==null)M.return=o,We=M;else e:for(o=I;We!==null;){if(a=We,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:f0(9,a)}}catch(ee){bn(a,a.return,ee)}if(a===o){We=null;break e}var K=a.sibling;if(K!==null){K.return=a.return,We=K;break e}We=a.return}}if(Ct=i,za(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(i0,t)}catch{}r=!0}return r}finally{qt=n,Hi.transition=e}}return!1}function s_(t,e,n){e=fc(n,e),e=XE(t,e,1),t=xa(t,e,1),e=Pr(),t!==null&&(vf(t,1,e),Zr(t,e))}function bn(t,e,n){if(t.tag===3)s_(t,t,n);else for(;e!==null;){if(e.tag===3){s_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sa===null||!Sa.has(r))){t=fc(n,t),t=YE(e,t,1),e=xa(e,t,1),t=Pr(),e!==null&&(vf(e,1,t),Zr(e,t));break}}e=e.return}}function DT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pr(),t.pingedLanes|=t.suspendedLanes&n,Kn===t&&(nr&n)===n&&(Bn===4||Bn===3&&(nr&130023424)===nr&&500>In()-U2?Sl(t,0):B2|=n),Zr(t,e)}function v4(t,e){e===0&&(t.mode&1?(e=md,md<<=1,!(md&130023424)&&(md=4194304)):e=1);var n=Pr();t=Eo(t,e),t!==null&&(vf(t,e,n),Zr(t,n))}function MT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),v4(t,n)}function jT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(e),v4(t,n)}var y4;y4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yr.current)Xr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xr=!1,ST(t,e,n);Xr=!!(t.flags&131072)}else Xr=!1,un&&e.flags&1048576&&EE(e,Ap,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qd(t,e),t=e.pendingProps;var i=lc(e,wr.current);Yu(e,n),i=O2(null,e,r,t,i,n);var s=D2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jr(r)?(s=!0,xp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,k2(e),i.updater=h0,e.stateNode=i,i._reactInternals=e,Jm(e,r,t,n),e=tg(null,e,r,!0,s,n)):(e.tag=0,un&&s&&E2(e),kr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=VT(r),t=cs(r,t),i){case 0:e=eg(null,e,r,t,n);break e;case 1:e=Q5(null,e,r,t,n);break e;case 11:e=G5(null,e,r,t,n);break e;case 14:e=K5(null,e,r,cs(r.type,t),n);break e}throw Error(Oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cs(r,i),eg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cs(r,i),Q5(t,e,r,i,n);case 3:e:{if(t4(e),t===null)throw Error(Oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,NE(t,e),Np(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=fc(Error(Oe(423)),e),e=X5(t,e,r,n,i);break e}else if(r!==i){i=fc(Error(Oe(424)),e),e=X5(t,e,r,n,i);break e}else for(_i=Ea(e.stateNode.containerInfo.firstChild),Ei=e,un=!0,ds=null,n=IE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uc(),r===i){e=xo(t,e,n);break e}kr(t,e,r,n)}e=e.child}return e;case 5:return kE(e),t===null&&Qm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,$m(r,i)?o=null:s!==null&&$m(r,s)&&(e.flags|=32),e4(t,e),kr(t,e,o,n),e.child;case 6:return t===null&&Qm(e),null;case 13:return n4(t,e,n);case 4:return P2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cc(e,null,r,n):kr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cs(r,i),G5(t,e,r,i,n);case 7:return kr(t,e,e.pendingProps,n),e.child;case 8:return kr(t,e,e.pendingProps.children,n),e.child;case 12:return kr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,en(Ip,r._currentValue),r._currentValue=o,s!==null)if(gs(s.value,o)){if(s.children===i.children&&!Yr.current){e=xo(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=yo(-1,n&-n),l.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?l.next=l:(l.next=p.next,p.next=l),h.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}kr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yu(e,n),i=Wi(i),r=r(i),e.flags|=1,kr(t,e,r,n),e.child;case 14:return r=e.type,i=cs(r,e.pendingProps),i=cs(r.type,i),K5(t,e,r,i,n);case 15:return JE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cs(r,i),Qd(t,e),e.tag=1,Jr(r)?(t=!0,xp(e)):t=!1,Yu(e,n),QE(e,r,i),Jm(e,r,i,n),tg(null,e,r,!0,t,n);case 19:return r4(t,e,n);case 22:return ZE(t,e,n)}throw Error(Oe(156,e.tag))};function _4(t,e){return Wb(t,e)}function FT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(t,e,n,r){return new FT(t,e,n,r)}function H2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VT(t){if(typeof t=="function")return H2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===c2)return 11;if(t===h2)return 14}return 2}function Ia(t,e){var n=t.alternate;return n===null?(n=$i(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")H2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ou:return Al(n.children,i,s,e);case u2:o=8,i|=8;break;case Em:return t=$i(12,n,e,i|2),t.elementType=Em,t.lanes=s,t;case xm:return t=$i(13,n,e,i),t.elementType=xm,t.lanes=s,t;case Sm:return t=$i(19,n,e,i),t.elementType=Sm,t.lanes=s,t;case kb:return p0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tb:o=10;break e;case Nb:o=9;break e;case c2:o=11;break e;case h2:o=14;break e;case aa:o=16,r=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=$i(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Al(t,e,n,r){return t=$i(7,t,r,e),t.lanes=n,t}function p0(t,e,n,r){return t=$i(22,t,r,e),t.elementType=kb,t.lanes=n,t.stateNode={isHidden:!1},t}function z1(t,e,n){return t=$i(6,t,null,e),t.lanes=n,t}function $1(t,e,n){return e=$i(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=S1(0),this.expirationTimes=S1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function W2(t,e,n,r,i,s,o,a,l){return t=new BT(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$i(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},k2(s),t}function UT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ru,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function w4(t){if(!t)return Da;t=t._reactInternals;e:{if(Bl(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var n=t.type;if(Jr(n))return wE(t,n,e)}return e}function b4(t,e,n,r,i,s,o,a,l){return t=W2(n,r,!0,t,i,s,o,a,l),t.context=w4(null),n=t.current,r=Pr(),i=Aa(n),s=yo(r,i),s.callback=e??null,xa(n,s,i),t.current.lanes=i,vf(t,i,r),Zr(t,r),t}function m0(t,e,n,r){var i=e.current,s=Pr(),o=Aa(i);return n=w4(n),e.context===null?e.context=n:e.pendingContext=n,e=yo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xa(i,e,o),t!==null&&(ms(t,i,o,s),Wd(t,i,o)),o}function Mp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function G2(t,e){o_(t,e),(t=t.alternate)&&o_(t,e)}function qT(){return null}var E4=typeof reportError=="function"?reportError:function(t){console.error(t)};function K2(t){this._internalRoot=t}g0.prototype.render=K2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));m0(t,e,null,null)};g0.prototype.unmount=K2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rl(function(){m0(null,t,null,null)}),e[bo]=null}};function g0(t){this._internalRoot=t}g0.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ua.length&&e!==0&&e<ua[n].priority;n++);ua.splice(n,0,t),n===0&&tE(t)}};function Q2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function v0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a_(){}function zT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Mp(o);s.call(h)}}var o=b4(e,r,t,0,null,!1,!1,"",a_);return t._reactRootContainer=o,t[bo]=o.current,Qh(t.nodeType===8?t.parentNode:t),Rl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=Mp(l);a.call(h)}}var l=W2(t,0,!1,null,null,!1,!1,"",a_);return t._reactRootContainer=l,t[bo]=l.current,Qh(t.nodeType===8?t.parentNode:t),Rl(function(){m0(e,l,n,r)}),l}function y0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Mp(o);a.call(l)}}m0(e,o,t,i)}else o=zT(n,e,t,i,r);return Mp(o)}Yb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vh(e.pendingLanes);n!==0&&(p2(e,n|1),Zr(e,In()),!(Ct&6)&&(dc=In()+500,za()))}break;case 13:Rl(function(){var r=Eo(t,1);if(r!==null){var i=Pr();ms(r,t,1,i)}}),G2(t,1)}};m2=function(t){if(t.tag===13){var e=Eo(t,134217728);if(e!==null){var n=Pr();ms(e,t,134217728,n)}G2(t,134217728)}};Jb=function(t){if(t.tag===13){var e=Aa(t),n=Eo(t,e);if(n!==null){var r=Pr();ms(n,t,e,r)}G2(t,e)}};Zb=function(){return qt};eE=function(t,e){var n=qt;try{return qt=t,e()}finally{qt=n}};Om=function(t,e,n){switch(e){case"input":if(Tm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=l0(r);if(!i)throw Error(Oe(90));Lb(r),Tm(r,i)}}}break;case"textarea":Rb(t,n);break;case"select":e=n.value,e!=null&&Gu(t,!!n.multiple,e,!1)}};Bb=q2;Ub=Rl;var $T={usingClientEntryPoint:!1,Events:[_f,Fu,l0,Fb,Vb,q2]},lh={findFiberByHostInstance:_l,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HT={bundleType:lh.bundleType,version:lh.version,rendererPackageName:lh.rendererPackageName,rendererConfig:lh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ko.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$b(t),t===null?null:t.stateNode},findFiberByHostInstance:lh.findFiberByHostInstance||qT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{i0=Id.inject(HT),Ds=Id}catch{}}Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$T;Ai.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Q2(e))throw Error(Oe(200));return UT(t,e,null,n)};Ai.createRoot=function(t,e){if(!Q2(t))throw Error(Oe(299));var n=!1,r="",i=E4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=W2(t,1,!1,null,null,n,!1,r,i),t[bo]=e.current,Qh(t.nodeType===8?t.parentNode:t),new K2(e)};Ai.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=$b(e),t=t===null?null:t.stateNode,t};Ai.flushSync=function(t){return Rl(t)};Ai.hydrate=function(t,e,n){if(!v0(e))throw Error(Oe(200));return y0(null,t,e,!0,n)};Ai.hydrateRoot=function(t,e,n){if(!Q2(t))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=E4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=b4(e,null,t,1,n??null,i,!1,s,o),t[bo]=e.current,Qh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new g0(e)};Ai.render=function(t,e,n){if(!v0(e))throw Error(Oe(200));return y0(null,t,e,!1,n)};Ai.unmountComponentAtNode=function(t){if(!v0(t))throw Error(Oe(40));return t._reactRootContainer?(Rl(function(){y0(null,null,t,!1,function(){t._reactRootContainer=null,t[bo]=null})}),!0):!1};Ai.unstable_batchedUpdates=q2;Ai.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!v0(n))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return y0(t,e,n,!1,r)};Ai.version="18.3.1-next-f1338f8080-20240426";function x4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x4)}catch(t){console.error(t)}}x4(),xb.exports=Ai;var WT=xb.exports,l_=WT;wm.createRoot=l_.createRoot,wm.hydrateRoot=l_.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},A4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,p=s>>2,v=(s&3)<<4|a>>4;let _=(a&15)<<2|h>>6,m=h&63;l||(m=64,o||(_=64)),r.push(n[p],n[v],n[_],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(S4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||h==null||v==null)throw new KT;const _=s<<2|a>>4;if(r.push(_),h!==64){const m=a<<4&240|h>>2;if(r.push(m),v!==64){const A=h<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QT=function(t){const e=S4(t);return A4.encodeByteArray(e,!0)},jp=function(t){return QT(t).replace(/\./g,"")},I4=function(t){try{return A4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=()=>XT().__FIREBASE_DEFAULTS__,JT=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&I4(t[1]);return e&&JSON.parse(e)},_0=()=>{try{return YT()||JT()||ZT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},T4=t=>{var e,n;return(n=(e=_0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},eN=t=>{const e=T4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N4=()=>{var t;return(t=_0())===null||t===void 0?void 0:t.config},k4=t=>{var e;return(e=_0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[jp(JSON.stringify(n)),jp(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(br())}function iN(){var t;const e=(t=_0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lN(){const t=br();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uN(){return!iN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cN(){try{return typeof indexedDB=="object"}catch{return!1}}function hN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="FirebaseError";class Po extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=fN,Object.setPrototypeOf(this,Po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bf.prototype.create)}}class bf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?dN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Po(i,a,r)}}function dN(t,e){return t.replace(pN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pN=/\{\$([^}]+)}/g;function mN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(u_(s)&&u_(o)){if(!Fp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function u_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _h(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function wh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gN(t,e){const n=new vN(t,e);return n.subscribe.bind(n)}class vN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=H1),i.error===void 0&&(i.error=H1),i.complete===void 0&&(i.complete=H1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function H1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t){return t&&t._delegate?t._delegate:t}class Ol{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bN(e))try{this.getOrInitializeService({instanceIdentifier:gl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gl){return this.instances.has(e)}getOptions(e=gl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gl){return this.component?this.component.multipleInstances?e:gl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wN(t){return t===gl?void 0:t}function bN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _N(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(kt||(kt={}));const xN={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},SN=kt.INFO,AN={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},IN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=AN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class X2{constructor(e){this.name=e,this._logLevel=SN,this._logHandler=IN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const TN=(t,e)=>e.some(n=>t instanceof n);let c_,h_;function NN(){return c_||(c_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kN(){return h_||(h_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P4=new WeakMap,dg=new WeakMap,L4=new WeakMap,W1=new WeakMap,Y2=new WeakMap;function PN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ta(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&P4.set(n,t)}).catch(()=>{}),Y2.set(e,t),e}function LN(t){if(dg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});dg.set(t,e)}let pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CN(t){pg=t(pg)}function RN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(G1(this),e,...n);return L4.set(r,e.sort?e.sort():[e]),Ta(r)}:kN().includes(t)?function(...e){return t.apply(G1(this),e),Ta(P4.get(this))}:function(...e){return Ta(t.apply(G1(this),e))}}function ON(t){return typeof t=="function"?RN(t):(t instanceof IDBTransaction&&LN(t),TN(t,NN())?new Proxy(t,pg):t)}function Ta(t){if(t instanceof IDBRequest)return PN(t);if(W1.has(t))return W1.get(t);const e=ON(t);return e!==t&&(W1.set(t,e),Y2.set(e,t)),e}const G1=t=>Y2.get(t);function DN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ta(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ta(o.result),l.oldVersion,l.newVersion,Ta(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const MN=["get","getKey","getAll","getAllKeys","count"],jN=["put","add","delete","clear"],K1=new Map;function f_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(K1.get(e))return K1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let h=l.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&l.done]))[0]};return K1.set(e,s),s}CN(t=>({...t,get:(e,n,r)=>f_(e,n)||t.get(e,n,r),has:(e,n)=>!!f_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mg="@firebase/app",d_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new X2("@firebase/app"),BN="@firebase/app-compat",UN="@firebase/analytics-compat",qN="@firebase/analytics",zN="@firebase/app-check-compat",$N="@firebase/app-check",HN="@firebase/auth",WN="@firebase/auth-compat",GN="@firebase/database",KN="@firebase/data-connect",QN="@firebase/database-compat",XN="@firebase/functions",YN="@firebase/functions-compat",JN="@firebase/installations",ZN="@firebase/installations-compat",ek="@firebase/messaging",tk="@firebase/messaging-compat",nk="@firebase/performance",rk="@firebase/performance-compat",ik="@firebase/remote-config",sk="@firebase/remote-config-compat",ok="@firebase/storage",ak="@firebase/storage-compat",lk="@firebase/firestore",uk="@firebase/vertexai-preview",ck="@firebase/firestore-compat",hk="firebase",fk="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="[DEFAULT]",dk={[mg]:"fire-core",[BN]:"fire-core-compat",[qN]:"fire-analytics",[UN]:"fire-analytics-compat",[$N]:"fire-app-check",[zN]:"fire-app-check-compat",[HN]:"fire-auth",[WN]:"fire-auth-compat",[GN]:"fire-rtdb",[KN]:"fire-data-connect",[QN]:"fire-rtdb-compat",[XN]:"fire-fn",[YN]:"fire-fn-compat",[JN]:"fire-iid",[ZN]:"fire-iid-compat",[ek]:"fire-fcm",[tk]:"fire-fcm-compat",[nk]:"fire-perf",[rk]:"fire-perf-compat",[ik]:"fire-rc",[sk]:"fire-rc-compat",[ok]:"fire-gcs",[ak]:"fire-gcs-compat",[lk]:"fire-fst",[ck]:"fire-fst-compat",[uk]:"fire-vertex","fire-js":"fire-js",[hk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new Map,pk=new Map,vg=new Map;function p_(t,e){try{t.container.addComponent(e)}catch(n){So.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pc(t){const e=t.name;if(vg.has(e))return So.debug(`There were multiple attempts to register component ${e}.`),!1;vg.set(e,t);for(const n of Vp.values())p_(n,t);for(const n of pk.values())p_(n,t);return!0}function J2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function po(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new bf("app","Firebase",mk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=fk;function C4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Na.create("bad-app-name",{appName:String(i)});if(n||(n=N4()),!n)throw Na.create("no-options");const s=Vp.get(i);if(s){if(Fp(n,s.options)&&Fp(r,s.config))return s;throw Na.create("duplicate-app",{appName:i})}const o=new EN(i);for(const l of vg.values())o.addComponent(l);const a=new gk(n,r,o);return Vp.set(i,a),a}function R4(t=gg){const e=Vp.get(t);if(!e&&t===gg&&N4())return C4();if(!e)throw Na.create("no-app",{appName:t});return e}function ka(t,e,n){var r;let i=(r=dk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),So.warn(a.join(" "));return}pc(new Ol(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="firebase-heartbeat-database",yk=1,sf="firebase-heartbeat-store";let Q1=null;function O4(){return Q1||(Q1=DN(vk,yk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Na.create("idb-open",{originalErrorMessage:t.message})})),Q1}async function _k(t){try{const n=(await O4()).transaction(sf),r=await n.objectStore(sf).get(D4(t));return await n.done,r}catch(e){if(e instanceof Po)So.warn(e.message);else{const n=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});So.warn(n.message)}}}async function m_(t,e){try{const r=(await O4()).transaction(sf,"readwrite");await r.objectStore(sf).put(e,D4(t)),await r.done}catch(n){if(n instanceof Po)So.warn(n.message);else{const r=Na.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});So.warn(r.message)}}}function D4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=1024,bk=30*24*60*60*1e3;class Ek{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Sk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=g_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=bk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){So.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g_(),{heartbeatsToSend:r,unsentEntries:i}=xk(this._heartbeatsCache.heartbeats),s=jp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return So.warn(n),""}}}function g_(){return new Date().toISOString().substring(0,10)}function xk(t,e=wk){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),v_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),v_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Sk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cN()?hN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _k(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return m_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function v_(t){return jp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t){pc(new Ol("platform-logger",e=>new FN(e),"PRIVATE")),pc(new Ol("heartbeat",e=>new Ek(e),"PRIVATE")),ka(mg,d_,t),ka(mg,d_,"esm2017"),ka("fire-js","")}Ak("");var Ik="firebase",Tk="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ka(Ik,Tk,"app");function Z2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function M4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nk=M4,j4=new bf("auth","Firebase",M4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=new X2("@firebase/auth");function kk(t,...e){Bp.logLevel<=kt.WARN&&Bp.warn(`Auth (${Nc}): ${t}`,...e)}function Zd(t,...e){Bp.logLevel<=kt.ERROR&&Bp.error(`Auth (${Nc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,...e){throw ev(t,...e)}function js(t,...e){return ev(t,...e)}function F4(t,e,n){const r=Object.assign(Object.assign({},Nk()),{[e]:n});return new bf("auth","Firebase",r).create(e,{appName:t.name})}function Pa(t){return F4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ev(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return j4.create(t,...e)}function ht(t,e,...n){if(!t)throw ev(e,...n)}function mo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zd(e),new Error(e)}function Ao(t,e){t||mo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Pk(){return y_()==="http:"||y_()==="https:"}function y_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pk()||oN()||"connection"in navigator)?navigator.onLine:!0}function Ck(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ao(n>e,"Short delay should be less than long delay!"),this.isMobile=rN()||aN()}get(){return Lk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t,e){Ao(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=new xf(3e4,6e4);function Ul(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $a(t,e,n,r,i={}){return B4(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ef(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:l},s);return sN()||(h.referrerPolicy="no-referrer"),V4.fetch()(U4(t,t.config.apiHost,n,a),h)})}async function B4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Rk),e);try{const i=new Mk(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Td(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,h]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Td(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Td(t,"user-disabled",o);const p=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw F4(t,p,h);vs(t,p)}}catch(i){if(i instanceof Po)throw i;vs(t,"network-request-failed",{message:String(i)})}}async function w0(t,e,n,r,i={}){const s=await $a(t,e,n,r,i);return"mfaPendingCredential"in s&&vs(t,"multi-factor-auth-required",{_serverResponse:s}),s}function U4(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?tv(t.config,i):`${t.config.apiScheme}://${i}`}function Dk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(js(this.auth,"network-request-failed")),Ok.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Td(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=js(t,e,r);return i.customData._tokenResponse=n,i}function __(t){return t!==void 0&&t.enterprise!==void 0}class jk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Dk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Fk(t,e){return $a(t,"GET","/v2/recaptchaConfig",Ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(t,e){return $a(t,"POST","/v1/accounts:delete",e)}async function q4(t,e){return $a(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bk(t,e=!1){const n=Dn(t),r=await n.getIdToken(e),i=nv(r);ht(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Dh(X1(i.auth_time)),issuedAtTime:Dh(X1(i.iat)),expirationTime:Dh(X1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function X1(t){return Number(t)*1e3}function nv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{const i=I4(n);return i?JSON.parse(i):(Zd("Failed to decode base64 JWT payload"),null)}catch(i){return Zd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function w_(t){const e=nv(t);return ht(e,"internal-error"),ht(typeof e.exp<"u","internal-error"),ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function of(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Po&&Uk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Uk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dh(this.lastLoginAt),this.creationTime=Dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(t){var e;const n=t.auth,r=await t.getIdToken(),i=await of(t,q4(n,{idToken:r}));ht(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?z4(s.providerUserInfo):[],a=$k(t.providerData,o),l=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),p=l?h:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _g(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function zk(t){const e=Dn(t);await Up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $k(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function z4(t){return t.map(e=>{var{providerId:n}=e,r=Z2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk(t,e){const n=await B4(t,{},async()=>{const r=Ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=U4(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",V4.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Wk(t,e){return $a(t,"POST","/v2/accounts:revokeToken",Ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ht(e.idToken,"internal-error"),ht(typeof e.idToken<"u","internal-error"),ht(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ht(e.length!==0,"internal-error");const n=w_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Hk(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Zu;return r&&(ht(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ht(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ht(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zu,this.toJSON())}_performRefresh(){return mo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,e){ht(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class go{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Z2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _g(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await of(this,this.stsTokenManager.getToken(this.auth,e));return ht(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Bk(this,e)}reload(){return zk(this)}_assign(e){this!==e&&(ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new go(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Up(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(po(this.auth.app))return Promise.reject(Pa(this.auth));const e=await this.getIdToken();return await of(this,Vk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,h,p;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,V=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(h=n.createdAt)!==null&&h!==void 0?h:void 0,I=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:M,emailVerified:K,isAnonymous:ee,providerData:oe,stsTokenManager:C}=n;ht(M&&C,e,"internal-error");const S=Zu.fromJSON(this.name,C);ht(typeof M=="string",e,"internal-error"),ia(v,e.name),ia(_,e.name),ht(typeof K=="boolean",e,"internal-error"),ht(typeof ee=="boolean",e,"internal-error"),ia(m,e.name),ia(A,e.name),ia(N,e.name),ia(V,e.name),ia(b,e.name),ia(I,e.name);const R=new go({uid:M,auth:e,email:_,emailVerified:K,displayName:v,isAnonymous:ee,photoURL:A,phoneNumber:m,tenantId:N,stsTokenManager:S,createdAt:b,lastLoginAt:I});return oe&&Array.isArray(oe)&&(R.providerData=oe.map(j=>Object.assign({},j))),V&&(R._redirectEventId=V),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zu;i.updateFromServerResponse(n);const s=new go({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Up(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ht(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?z4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Zu;a.updateFromIdToken(r);const l=new go({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _g(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,h),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;function vo(t){Ao(t instanceof Function,"Expected a class definition");let e=b_.get(t);return e?(Ao(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,b_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$4.type="NONE";const E_=$4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t,e,n){return`firebase:${t}:${e}:${n}`}class ec{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ep(this.userKey,i.apiKey,s),this.fullPersistenceKey=ep("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?go._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ec(vo(E_),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||vo(E_);const o=ep(r,e.config.apiKey,e.name);let a=null;for(const h of n)try{const p=await h._get(o);if(p){const v=go._fromJSON(e,p);h!==s&&(a=v),s=h;break}}catch{}const l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ec(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new ec(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(X4(e))return"Blackberry";if(Y4(e))return"Webos";if(W4(e))return"Safari";if((e.includes("chrome/")||G4(e))&&!e.includes("edge/"))return"Chrome";if(Q4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function H4(t=br()){return/firefox\//i.test(t)}function W4(t=br()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G4(t=br()){return/crios\//i.test(t)}function K4(t=br()){return/iemobile/i.test(t)}function Q4(t=br()){return/android/i.test(t)}function X4(t=br()){return/blackberry/i.test(t)}function Y4(t=br()){return/webos/i.test(t)}function rv(t=br()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gk(t=br()){var e;return rv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Kk(){return lN()&&document.documentMode===10}function J4(t=br()){return rv(t)||Q4(t)||Y4(t)||X4(t)||/windows phone/i.test(t)||K4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t,e=[]){let n;switch(t){case"Browser":n=x_(br());break;case"Worker":n=`${x_(br())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e={}){return $a(t,"GET","/v2/passwordPolicy",Ul(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=6;class Jk{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Yk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S_(this),this.idTokenSubscription=new S_(this),this.beforeStateQueue=new Qk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ec.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await q4(this,{idToken:e}),r=await go._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(po(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Up(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ck()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(po(this.app))return Promise.reject(Pa(this));const n=e?Dn(e):null;return n&&ht(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ht(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return po(this.app)?Promise.reject(Pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return po(this.app)?Promise.reject(Pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Xk(this),n=new Jk(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Wk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vo(e)||this._popupRedirectResolver;ht(n,this,"argument-error"),this.redirectPersistenceManager=await ec.create(this,[vo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&kk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kc(t){return Dn(t)}class S_{constructor(e){this.auth=e,this.observer=null,this.addObserver=gN(n=>this.observer=n)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function e6(t){b0=t}function e3(t){return b0.loadJS(t)}function t6(){return b0.recaptchaEnterpriseScript}function n6(){return b0.gapiScript}function r6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const i6="recaptcha-enterprise",s6="NO_RECAPTCHA";class o6{constructor(e){this.type=i6,this.auth=kc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Fk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const h=new jk(l);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;__(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(s6)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&__(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=t6();l.length!==0&&(l+=a),e3(l).then(()=>{i(a,s,o)}).catch(h=>{o(h)})}}).catch(a=>{o(a)})})}}async function A_(t,e,n,r=!1){const i=new o6(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function I_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await A_(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await A_(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t,e){const n=J2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Fp(s,e??{}))return i;vs(i,"already-initialized")}return n.initialize({options:e})}function l6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function u6(t,e,n){const r=kc(t);ht(r._canInitEmulator,r,"emulator-config-failed"),ht(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=t3(e),{host:o,port:a}=c6(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||h6()}function t3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function c6(t){const e=t3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:T_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:T_(o)}}}function T_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function h6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mo("not implemented")}_getIdTokenResponse(e){return mo("not implemented")}_linkToIdToken(e,n){return mo("not implemented")}_getReauthenticationResolver(e){return mo("not implemented")}}async function f6(t,e){return $a(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(t,e){return w0(t,"POST","/v1/accounts:signInWithPassword",Ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6(t,e){return w0(t,"POST","/v1/accounts:signInWithEmailLink",Ul(t,e))}async function m6(t,e){return w0(t,"POST","/v1/accounts:signInWithEmailLink",Ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends iv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new af(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new af(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I_(e,n,"signInWithPassword",d6);case"emailLink":return p6(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I_(e,r,"signUpPassword",f6);case"emailLink":return m6(e,{idToken:n,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e){return w0(t,"POST","/v1/accounts:signInWithIdp",Ul(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="http://localhost";class Dl extends iv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Dl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Z2(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Dl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tc(e,n)}buildRequest(){const e={requestUri:g6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ef(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y6(t){const e=_h(wh(t)).link,n=e?_h(wh(e)).deep_link_id:null,r=_h(wh(t)).deep_link_id;return(r?_h(wh(r)).link:null)||r||n||e||t}class sv{constructor(e){var n,r,i,s,o,a;const l=_h(wh(e)),h=(n=l.apiKey)!==null&&n!==void 0?n:null,p=(r=l.oobCode)!==null&&r!==void 0?r:null,v=v6((i=l.mode)!==null&&i!==void 0?i:null);ht(h&&p&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=p,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=y6(e);try{return new sv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this.providerId=Pc.PROVIDER_ID}static credential(e,n){return af._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=sv.parseLink(n);return ht(r,"argument-error"),af._fromEmailAndCode(e,r.code,r.tenantId)}}Pc.PROVIDER_ID="password";Pc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends n3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends Sf{constructor(){super("facebook.com")}static credential(e){return Dl._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ha.credential(e.oauthAccessToken)}catch{return null}}}ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";ha.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Sf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Dl._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fa.credential(n,r)}catch{return null}}}fa.GOOGLE_SIGN_IN_METHOD="google.com";fa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Sf{constructor(){super("github.com")}static credential(e){return Dl._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch{return null}}}da.GITHUB_SIGN_IN_METHOD="github.com";da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Sf{constructor(){super("twitter.com")}static credential(e,n){return Dl._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pa.credential(n,r)}catch{return null}}}pa.TWITTER_SIGN_IN_METHOD="twitter.com";pa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await go._fromIdTokenResponse(e,r,i),o=N_(r);return new mc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=N_(r);return new mc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function N_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends Po{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qp(e,n,r,i)}}function r3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qp._fromErrorAndOperation(t,s,e,r):s})}async function _6(t,e,n=!1){const r=await of(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(t,e,n=!1){const{auth:r}=t;if(po(r.app))return Promise.reject(Pa(r));const i="reauthenticate";try{const s=await of(t,r3(r,i,e,t),n);ht(s.idToken,r,"internal-error");const o=nv(s.idToken);ht(o,r,"internal-error");const{sub:a}=o;return ht(t.uid===a,r,"user-mismatch"),mc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3(t,e,n=!1){if(po(t.app))return Promise.reject(Pa(t));const r="signIn",i=await r3(t,r,e),s=await mc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function b6(t,e){return i3(kc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(t){const e=kc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function k_(t,e,n){return po(t.app)?Promise.reject(Pa(t)):b6(Dn(t),Pc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&E6(t),r})}function x6(t,e,n,r){return Dn(t).onIdTokenChanged(e,n,r)}function S6(t,e,n){return Dn(t).beforeAuthStateChanged(e,n)}function A6(t,e,n,r){return Dn(t).onAuthStateChanged(e,n,r)}function I6(t){return Dn(t).signOut()}const zp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zp,"1"),this.storage.removeItem(zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=1e3,N6=10;class o3 extends s3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=J4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Kk()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,N6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},T6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}o3.type="LOCAL";const k6=o3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3 extends s3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a3.type="SESSION";const l3=a3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new E0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async h=>h(n.origin,s)),l=await P6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}E0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const h=ov("",20);i.port1.start();const p=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(v){const _=v;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(_.data.response);break;default:clearTimeout(p),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(){return window}function C6(t){Fs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(){return typeof Fs().WorkerGlobalScope<"u"&&typeof Fs().importScripts=="function"}async function R6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function O6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D6(){return u3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="firebaseLocalStorageDb",M6=1,$p="firebaseLocalStorage",h3="fbase_key";class Af{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function x0(t,e){return t.transaction([$p],e?"readwrite":"readonly").objectStore($p)}function j6(){const t=indexedDB.deleteDatabase(c3);return new Af(t).toPromise()}function wg(){const t=indexedDB.open(c3,M6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($p,{keyPath:h3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($p)?e(r):(r.close(),await j6(),e(await wg()))})})}async function P_(t,e,n){const r=x0(t,!0).put({[h3]:e,value:n});return new Af(r).toPromise()}async function F6(t,e){const n=x0(t,!1).get(e),r=await new Af(n).toPromise();return r===void 0?null:r.value}function L_(t,e){const n=x0(t,!0).delete(e);return new Af(n).toPromise()}const V6=800,B6=3;class f3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>B6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=E0._getInstance(D6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await R6(),!this.activeServiceWorker)return;this.sender=new L6(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||O6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wg();return await P_(e,zp,"1"),await L_(e,zp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>P_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>F6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=x0(i,!1).getAll();return new Af(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f3.type="LOCAL";const U6=f3;new xf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t,e){return e?vo(e):(ht(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends iv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function z6(t){return i3(t.auth,new av(t),t.bypassAuthState)}function $6(t){const{auth:e,user:n}=t;return ht(n,e,"internal-error"),w6(n,new av(t),t.bypassAuthState)}async function H6(t){const{auth:e,user:n}=t;return ht(n,e,"internal-error"),_6(n,new av(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z6;case"linkViaPopup":case"linkViaRedirect":return H6;case"reauthViaPopup":case"reauthViaRedirect":return $6;default:vs(this.auth,"internal-error")}}resolve(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6=new xf(2e3,1e4);class Hu extends d3{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hu.currentPopupAction&&Hu.currentPopupAction.cancel(),Hu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ht(e,this.auth,"internal-error"),e}async onExecution(){Ao(this.filter.length===1,"Popup operations only handle one event");const e=ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W6.get())};e()}}Hu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="pendingRedirect",tp=new Map;class K6 extends d3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tp.get(this.auth._key());if(!e){try{const r=await Q6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tp.set(this.auth._key(),e)}return this.bypassAuthState||tp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q6(t,e){const n=J6(e),r=Y6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function X6(t,e){tp.set(t._key(),e)}function Y6(t){return vo(t._redirectPersistence)}function J6(t){return ep(G6,t.config.apiKey,t.name)}async function Z6(t,e,n=!1){if(po(t.app))return Promise.reject(Pa(t));const r=kc(t),i=q6(r,e),o=await new K6(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=10*60*1e3;class tP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!p3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(js(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eP&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(e))}saveEventToCache(e){this.cachedEventUids.add(C_(e)),this.lastProcessedEventTime=Date.now()}}function C_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function p3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(t,e={}){return $a(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sP=/^https?/;async function oP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rP(t);for(const n of e)try{if(aP(n))return}catch{}vs(t,"unauthorized-domain")}function aP(t){const e=yg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!sP.test(n))return!1;if(iP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=new xf(3e4,6e4);function R_(){const t=Fs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uP(t){return new Promise((e,n)=>{var r,i,s;function o(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),n(js(t,"network-request-failed"))},timeout:lP.get()})}if(!((i=(r=Fs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Fs().gapi)===null||s===void 0)&&s.load)o();else{const a=r6("iframefcb");return Fs()[a]=()=>{gapi.load?o():n(js(t,"network-request-failed"))},e3(`${n6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw np=null,e})}let np=null;function cP(t){return np=np||uP(t),np}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new xf(5e3,15e3),fP="__/auth/iframe",dP="emulator/auth/iframe",pP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gP(t){const e=t.config;ht(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tv(e,dP):`https://${t.config.authDomain}/${fP}`,r={apiKey:e.apiKey,appName:t.name,v:Nc},i=mP.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ef(r).slice(1)}`}async function vP(t){const e=await cP(t),n=Fs().gapi;return ht(n,t,"internal-error"),e.open({where:document.body,url:gP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pP,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=js(t,"network-request-failed"),a=Fs().setTimeout(()=>{s(o)},hP.get());function l(){Fs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_P=500,wP=600,bP="_blank",EP="http://localhost";class O_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xP(t,e,n,r=_P,i=wP){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},yP),{width:r.toString(),height:i.toString(),top:s,left:o}),h=br().toLowerCase();n&&(a=G4(h)?bP:n),H4(h)&&(e=e||EP,l.scrollbars="yes");const p=Object.entries(l).reduce((_,[m,A])=>`${_}${m}=${A},`,"");if(Gk(h)&&a!=="_self")return SP(e||"",a),new O_(null);const v=window.open(e||"",a,p);ht(v,t,"popup-blocked");try{v.focus()}catch{}return new O_(v)}function SP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="__/auth/handler",IP="emulator/auth/handler",TP=encodeURIComponent("fac");async function D_(t,e,n,r,i,s){ht(t.config.authDomain,t,"auth-domain-config-required"),ht(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nc,eventId:i};if(e instanceof n3){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries(s||{}))o[p]=v}if(e instanceof Sf){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const p of Object.keys(a))a[p]===void 0&&delete a[p];const l=await t._getAppCheckToken(),h=l?`#${TP}=${encodeURIComponent(l)}`:"";return`${NP(t)}?${Ef(a).slice(1)}${h}`}function NP({config:t}){return t.emulator?tv(t,IP):`https://${t.authDomain}/${AP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="webStorageSupport";class kP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l3,this._completeRedirectFn=Z6,this._overrideRedirectResult=X6}async _openPopup(e,n,r,i){var s;Ao((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await D_(e,n,r,yg(),i);return xP(e,o,ov())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await D_(e,n,r,yg(),i);return C6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ao(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vP(e),r=new tP(e);return n.register("authEvent",i=>(ht(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Y1,{type:Y1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Y1];o!==void 0&&n(!!o),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return J4()||W4()||rv()}}const PP=kP;var M_="@firebase/auth",j_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RP(t){pc(new Ol("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ht(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z4(t)},h=new Zk(r,i,s,l);return l6(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pc(new Ol("auth-internal",e=>{const n=kc(e.getProvider("auth").getImmediate());return(r=>new LP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ka(M_,j_,CP(t)),ka(M_,j_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=5*60,DP=k4("authIdTokenMaxAge")||OP;let F_=null;const MP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DP)return;const i=n==null?void 0:n.token;F_!==i&&(F_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jP(t=R4()){const e=J2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=a6(t,{popupRedirectResolver:PP,persistence:[U6,k6,l3]}),r=k4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=MP(s.toString());S6(n,o,()=>o(n.currentUser)),x6(n,a=>o(a))}}const i=T4("auth");return i&&u6(n,`http://${i}`),n}function FP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}e6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=js("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",FP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RP("Browser");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Il,m3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function R(){}R.prototype=S.prototype,C.D=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(j,E,T){for(var k=Array(arguments.length-2),W=2;W<arguments.length;W++)k[W-2]=arguments[W];return S.prototype[E].apply(j,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,S,R){R||(R=0);var j=Array(16);if(typeof S=="string")for(var E=0;16>E;++E)j[E]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(E=0;16>E;++E)j[E]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],E=C.g[2];var T=C.g[3],k=S+(T^R&(E^T))+j[0]+3614090360&4294967295;S=R+(k<<7&4294967295|k>>>25),k=T+(E^S&(R^E))+j[1]+3905402710&4294967295,T=S+(k<<12&4294967295|k>>>20),k=E+(R^T&(S^R))+j[2]+606105819&4294967295,E=T+(k<<17&4294967295|k>>>15),k=R+(S^E&(T^S))+j[3]+3250441966&4294967295,R=E+(k<<22&4294967295|k>>>10),k=S+(T^R&(E^T))+j[4]+4118548399&4294967295,S=R+(k<<7&4294967295|k>>>25),k=T+(E^S&(R^E))+j[5]+1200080426&4294967295,T=S+(k<<12&4294967295|k>>>20),k=E+(R^T&(S^R))+j[6]+2821735955&4294967295,E=T+(k<<17&4294967295|k>>>15),k=R+(S^E&(T^S))+j[7]+4249261313&4294967295,R=E+(k<<22&4294967295|k>>>10),k=S+(T^R&(E^T))+j[8]+1770035416&4294967295,S=R+(k<<7&4294967295|k>>>25),k=T+(E^S&(R^E))+j[9]+2336552879&4294967295,T=S+(k<<12&4294967295|k>>>20),k=E+(R^T&(S^R))+j[10]+4294925233&4294967295,E=T+(k<<17&4294967295|k>>>15),k=R+(S^E&(T^S))+j[11]+2304563134&4294967295,R=E+(k<<22&4294967295|k>>>10),k=S+(T^R&(E^T))+j[12]+1804603682&4294967295,S=R+(k<<7&4294967295|k>>>25),k=T+(E^S&(R^E))+j[13]+4254626195&4294967295,T=S+(k<<12&4294967295|k>>>20),k=E+(R^T&(S^R))+j[14]+2792965006&4294967295,E=T+(k<<17&4294967295|k>>>15),k=R+(S^E&(T^S))+j[15]+1236535329&4294967295,R=E+(k<<22&4294967295|k>>>10),k=S+(E^T&(R^E))+j[1]+4129170786&4294967295,S=R+(k<<5&4294967295|k>>>27),k=T+(R^E&(S^R))+j[6]+3225465664&4294967295,T=S+(k<<9&4294967295|k>>>23),k=E+(S^R&(T^S))+j[11]+643717713&4294967295,E=T+(k<<14&4294967295|k>>>18),k=R+(T^S&(E^T))+j[0]+3921069994&4294967295,R=E+(k<<20&4294967295|k>>>12),k=S+(E^T&(R^E))+j[5]+3593408605&4294967295,S=R+(k<<5&4294967295|k>>>27),k=T+(R^E&(S^R))+j[10]+38016083&4294967295,T=S+(k<<9&4294967295|k>>>23),k=E+(S^R&(T^S))+j[15]+3634488961&4294967295,E=T+(k<<14&4294967295|k>>>18),k=R+(T^S&(E^T))+j[4]+3889429448&4294967295,R=E+(k<<20&4294967295|k>>>12),k=S+(E^T&(R^E))+j[9]+568446438&4294967295,S=R+(k<<5&4294967295|k>>>27),k=T+(R^E&(S^R))+j[14]+3275163606&4294967295,T=S+(k<<9&4294967295|k>>>23),k=E+(S^R&(T^S))+j[3]+4107603335&4294967295,E=T+(k<<14&4294967295|k>>>18),k=R+(T^S&(E^T))+j[8]+1163531501&4294967295,R=E+(k<<20&4294967295|k>>>12),k=S+(E^T&(R^E))+j[13]+2850285829&4294967295,S=R+(k<<5&4294967295|k>>>27),k=T+(R^E&(S^R))+j[2]+4243563512&4294967295,T=S+(k<<9&4294967295|k>>>23),k=E+(S^R&(T^S))+j[7]+1735328473&4294967295,E=T+(k<<14&4294967295|k>>>18),k=R+(T^S&(E^T))+j[12]+2368359562&4294967295,R=E+(k<<20&4294967295|k>>>12),k=S+(R^E^T)+j[5]+4294588738&4294967295,S=R+(k<<4&4294967295|k>>>28),k=T+(S^R^E)+j[8]+2272392833&4294967295,T=S+(k<<11&4294967295|k>>>21),k=E+(T^S^R)+j[11]+1839030562&4294967295,E=T+(k<<16&4294967295|k>>>16),k=R+(E^T^S)+j[14]+4259657740&4294967295,R=E+(k<<23&4294967295|k>>>9),k=S+(R^E^T)+j[1]+2763975236&4294967295,S=R+(k<<4&4294967295|k>>>28),k=T+(S^R^E)+j[4]+1272893353&4294967295,T=S+(k<<11&4294967295|k>>>21),k=E+(T^S^R)+j[7]+4139469664&4294967295,E=T+(k<<16&4294967295|k>>>16),k=R+(E^T^S)+j[10]+3200236656&4294967295,R=E+(k<<23&4294967295|k>>>9),k=S+(R^E^T)+j[13]+681279174&4294967295,S=R+(k<<4&4294967295|k>>>28),k=T+(S^R^E)+j[0]+3936430074&4294967295,T=S+(k<<11&4294967295|k>>>21),k=E+(T^S^R)+j[3]+3572445317&4294967295,E=T+(k<<16&4294967295|k>>>16),k=R+(E^T^S)+j[6]+76029189&4294967295,R=E+(k<<23&4294967295|k>>>9),k=S+(R^E^T)+j[9]+3654602809&4294967295,S=R+(k<<4&4294967295|k>>>28),k=T+(S^R^E)+j[12]+3873151461&4294967295,T=S+(k<<11&4294967295|k>>>21),k=E+(T^S^R)+j[15]+530742520&4294967295,E=T+(k<<16&4294967295|k>>>16),k=R+(E^T^S)+j[2]+3299628645&4294967295,R=E+(k<<23&4294967295|k>>>9),k=S+(E^(R|~T))+j[0]+4096336452&4294967295,S=R+(k<<6&4294967295|k>>>26),k=T+(R^(S|~E))+j[7]+1126891415&4294967295,T=S+(k<<10&4294967295|k>>>22),k=E+(S^(T|~R))+j[14]+2878612391&4294967295,E=T+(k<<15&4294967295|k>>>17),k=R+(T^(E|~S))+j[5]+4237533241&4294967295,R=E+(k<<21&4294967295|k>>>11),k=S+(E^(R|~T))+j[12]+1700485571&4294967295,S=R+(k<<6&4294967295|k>>>26),k=T+(R^(S|~E))+j[3]+2399980690&4294967295,T=S+(k<<10&4294967295|k>>>22),k=E+(S^(T|~R))+j[10]+4293915773&4294967295,E=T+(k<<15&4294967295|k>>>17),k=R+(T^(E|~S))+j[1]+2240044497&4294967295,R=E+(k<<21&4294967295|k>>>11),k=S+(E^(R|~T))+j[8]+1873313359&4294967295,S=R+(k<<6&4294967295|k>>>26),k=T+(R^(S|~E))+j[15]+4264355552&4294967295,T=S+(k<<10&4294967295|k>>>22),k=E+(S^(T|~R))+j[6]+2734768916&4294967295,E=T+(k<<15&4294967295|k>>>17),k=R+(T^(E|~S))+j[13]+1309151649&4294967295,R=E+(k<<21&4294967295|k>>>11),k=S+(E^(R|~T))+j[4]+4149444226&4294967295,S=R+(k<<6&4294967295|k>>>26),k=T+(R^(S|~E))+j[11]+3174756917&4294967295,T=S+(k<<10&4294967295|k>>>22),k=E+(S^(T|~R))+j[2]+718787259&4294967295,E=T+(k<<15&4294967295|k>>>17),k=R+(T^(E|~S))+j[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(E+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+E&4294967295,C.g[3]=C.g[3]+T&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var R=S-this.blockSize,j=this.B,E=this.h,T=0;T<S;){if(E==0)for(;T<=R;)i(this,C,T),T+=this.blockSize;if(typeof C=="string"){for(;T<S;)if(j[E++]=C.charCodeAt(T++),E==this.blockSize){i(this,j),E=0;break}}else for(;T<S;)if(j[E++]=C[T++],E==this.blockSize){i(this,j),E=0;break}}this.h=E,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var R=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=R&255,R/=256;for(this.u(C),C=Array(16),S=R=0;4>S;++S)for(var j=0;32>j;j+=8)C[R++]=this.g[S]>>>j&255;return C};function s(C,S){var R=a;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function o(C,S){this.h=S;for(var R=[],j=!0,E=C.length-1;0<=E;E--){var T=C[E]|0;j&&T==S||(R[E]=T,j=!1)}this.g=R}var a={};function l(C){return-128<=C&&128>C?s(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return v;if(0>C)return V(h(-C));for(var S=[],R=1,j=0;C>=R;j++)S[j]=C/R|0,R*=4294967296;return new o(S,0)}function p(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return V(p(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=h(Math.pow(S,8)),j=v,E=0;E<C.length;E+=8){var T=Math.min(8,C.length-E),k=parseInt(C.substring(E,E+T),S);8>T?(T=h(Math.pow(S,T)),j=j.j(T).add(h(k))):(j=j.j(R),j=j.add(h(k)))}return j}var v=l(0),_=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(N(this))return-V(this).m();for(var C=0,S=1,R=0;R<this.g.length;R++){var j=this.i(R);C+=(0<=j?j:4294967296+j)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(A(this))return"0";if(N(this))return"-"+V(this).toString(C);for(var S=h(Math.pow(C,6)),R=this,j="";;){var E=K(R,S).g;R=b(R,E.j(S));var T=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=E,A(R))return T+j;for(;6>T.length;)T="0"+T;j=T+j}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function A(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function N(C){return C.h==-1}t.l=function(C){return C=b(this,C),N(C)?-1:A(C)?0:1};function V(C){for(var S=C.g.length,R=[],j=0;j<S;j++)R[j]=~C.g[j];return new o(R,~C.h).add(_)}t.abs=function(){return N(this)?V(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],j=0,E=0;E<=S;E++){var T=j+(this.i(E)&65535)+(C.i(E)&65535),k=(T>>>16)+(this.i(E)>>>16)+(C.i(E)>>>16);j=k>>>16,T&=65535,k&=65535,R[E]=k<<16|T}return new o(R,R[R.length-1]&-2147483648?-1:0)};function b(C,S){return C.add(V(S))}t.j=function(C){if(A(this)||A(C))return v;if(N(this))return N(C)?V(this).j(V(C)):V(V(this).j(C));if(N(C))return V(this.j(V(C)));if(0>this.l(m)&&0>C.l(m))return h(this.m()*C.m());for(var S=this.g.length+C.g.length,R=[],j=0;j<2*S;j++)R[j]=0;for(j=0;j<this.g.length;j++)for(var E=0;E<C.g.length;E++){var T=this.i(j)>>>16,k=this.i(j)&65535,W=C.i(E)>>>16,ce=C.i(E)&65535;R[2*j+2*E]+=k*ce,I(R,2*j+2*E),R[2*j+2*E+1]+=T*ce,I(R,2*j+2*E+1),R[2*j+2*E+1]+=k*W,I(R,2*j+2*E+1),R[2*j+2*E+2]+=T*W,I(R,2*j+2*E+2)}for(j=0;j<S;j++)R[j]=R[2*j+1]<<16|R[2*j];for(j=S;j<2*S;j++)R[j]=0;return new o(R,0)};function I(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function M(C,S){this.g=C,this.h=S}function K(C,S){if(A(S))throw Error("division by zero");if(A(C))return new M(v,v);if(N(C))return S=K(V(C),S),new M(V(S.g),V(S.h));if(N(S))return S=K(C,V(S)),new M(V(S.g),S.h);if(30<C.g.length){if(N(C)||N(S))throw Error("slowDivide_ only works with positive integers.");for(var R=_,j=S;0>=j.l(C);)R=ee(R),j=ee(j);var E=oe(R,1),T=oe(j,1);for(j=oe(j,2),R=oe(R,2);!A(j);){var k=T.add(j);0>=k.l(C)&&(E=E.add(R),T=k),j=oe(j,1),R=oe(R,1)}return S=b(C,E.j(S)),new M(E,S)}for(E=v;0<=C.l(S);){for(R=Math.max(1,Math.floor(C.m()/S.m())),j=Math.ceil(Math.log(R)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),T=h(R),k=T.j(S);N(k)||0<k.l(C);)R-=j,T=h(R),k=T.j(S);A(T)&&(T=_),E=E.add(T),C=b(C,k)}return new M(E,C)}t.A=function(C){return K(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],j=0;j<S;j++)R[j]=this.i(j)&C.i(j);return new o(R,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],j=0;j<S;j++)R[j]=this.i(j)|C.i(j);return new o(R,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],j=0;j<S;j++)R[j]=this.i(j)^C.i(j);return new o(R,this.h^C.h)};function ee(C){for(var S=C.g.length+1,R=[],j=0;j<S;j++)R[j]=C.i(j)<<1|C.i(j-1)>>>31;return new o(R,C.h)}function oe(C,S){var R=S>>5;S%=32;for(var j=C.g.length-R,E=[],T=0;T<j;T++)E[T]=0<S?C.i(T+R)>>>S|C.i(T+R+1)<<32-S:C.i(T+R);return new o(E,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,m3=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,Il=o}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var Nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g3,bh,v3,rp,bg,y3,_3,w3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,x){return c==Array.prototype||c==Object.prototype||(c[y]=x.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nd=="object"&&Nd];for(var y=0;y<c.length;++y){var x=c[y];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(c,y){if(y)e:{var x=r;c=c.split(".");for(var B=0;B<c.length-1;B++){var re=c[B];if(!(re in x))break e;x=x[re]}c=c[c.length-1],B=x[c],y=y(B),y!=B&&y!=null&&e(x,c,{configurable:!0,writable:!0,value:y})}}function s(c,y){c instanceof String&&(c+="");var x=0,B=!1,re={next:function(){if(!B&&x<c.length){var pe=x++;return{value:y(pe,c[pe]),done:!1}}return B=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}i("Array.prototype.values",function(c){return c||function(){return s(this,function(y,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function h(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,x){return c.call.apply(c.bind,arguments)}function v(c,y,x){if(!c)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,B),c.apply(y,re)}}return function(){return c.apply(y,arguments)}}function _(c,y,x){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,_.apply(null,arguments)}function m(c,y){var x=Array.prototype.slice.call(arguments,1);return function(){var B=x.slice();return B.push.apply(B,arguments),c.apply(this,B)}}function A(c,y){function x(){}x.prototype=y.prototype,c.aa=y.prototype,c.prototype=new x,c.prototype.constructor=c,c.Qb=function(B,re,pe){for(var Pe=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)Pe[dt-2]=arguments[dt];return y.prototype[re].apply(B,Pe)}}function N(c){const y=c.length;if(0<y){const x=Array(y);for(let B=0;B<y;B++)x[B]=c[B];return x}return[]}function V(c,y){for(let x=1;x<arguments.length;x++){const B=arguments[x];if(l(B)){const re=c.length||0,pe=B.length||0;c.length=re+pe;for(let Pe=0;Pe<pe;Pe++)c[re+Pe]=B[Pe]}else c.push(B)}}class b{constructor(y,x){this.i=y,this.j=x,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function I(c){return/^[\s\xa0]*$/.test(c)}function M(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function K(c){return K[" "](c),c}K[" "]=function(){};var ee=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function oe(c,y,x){for(const B in c)y.call(x,c[B],B,c)}function C(c,y){for(const x in c)y.call(void 0,c[x],x,c)}function S(c){const y={};for(const x in c)y[x]=c[x];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(c,y){let x,B;for(let re=1;re<arguments.length;re++){B=arguments[re];for(x in B)c[x]=B[x];for(let pe=0;pe<R.length;pe++)x=R[pe],Object.prototype.hasOwnProperty.call(B,x)&&(c[x]=B[x])}}function E(c){var y=1;c=c.split(":");const x=[];for(;0<y&&c.length;)x.push(c.shift()),y--;return c.length&&x.push(c.join(":")),x}function T(c){a.setTimeout(()=>{throw c},0)}function k(){var c=le;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,x){const B=ce.get();B.set(y,x),this.h?this.h.next=B:this.g=B,this.h=B}}var ce=new b(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(y,x){this.h=y,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,Y=!1,le=new W,he=()=>{const c=a.Promise.resolve(void 0);ve=()=>{c.then(Re)}};var Re=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(x){T(x)}var y=ce;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Y=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};a.addEventListener("test",x,y),a.removeEventListener("test",x,y)}catch{}return c}();function J(c,y){if($.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var x=this.type=c.type,B=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ee){e:{try{K(y.nodeName);var re=!0;break e}catch{}re=!1}re||(y=null)}}else x=="mouseover"?y=c.fromElement:x=="mouseout"&&(y=c.toElement);this.relatedTarget=y,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&J.aa.h.call(this)}}A(J,$);var ie={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),ye=0;function _e(c,y,x,B,re){this.listener=c,this.proxy=null,this.src=y,this.type=x,this.capture=!!B,this.ha=re,this.key=++ye,this.da=this.fa=!1}function De(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c){this.src=c,this.g={},this.h=0}Le.prototype.add=function(c,y,x,B,re){var pe=c.toString();c=this.g[pe],c||(c=this.g[pe]=[],this.h++);var Pe=je(c,y,B,re);return-1<Pe?(y=c[Pe],x||(y.fa=!1)):(y=new _e(y,this.src,pe,!!B,re),y.fa=x,c.push(y)),y};function Ve(c,y){var x=y.type;if(x in c.g){var B=c.g[x],re=Array.prototype.indexOf.call(B,y,void 0),pe;(pe=0<=re)&&Array.prototype.splice.call(B,re,1),pe&&(De(y),c.g[x].length==0&&(delete c.g[x],c.h--))}}function je(c,y,x,B){for(var re=0;re<c.length;++re){var pe=c[re];if(!pe.da&&pe.listener==y&&pe.capture==!!x&&pe.ha==B)return re}return-1}var et="closure_lm_"+(1e6*Math.random()|0),Ee={};function X(c,y,x,B,re){if(B&&B.once)return Ce(c,y,x,B,re);if(Array.isArray(y)){for(var pe=0;pe<y.length;pe++)X(c,y[pe],x,B,re);return null}return x=bt(x),c&&c[de]?c.K(y,x,h(B)?!!B.capture:!!B,re):ft(c,y,x,!1,B,re)}function ft(c,y,x,B,re,pe){if(!y)throw Error("Invalid event type");var Pe=h(re)?!!re.capture:!!re,dt=lt(c);if(dt||(c[et]=dt=new Le(c)),x=dt.add(y,x,B,Pe,pe),x.proxy)return x;if(B=Ke(),x.proxy=B,B.src=c,B.listener=x,c.addEventListener)Q||(re=Pe),re===void 0&&(re=!1),c.addEventListener(y.toString(),B,re);else if(c.attachEvent)c.attachEvent(Be(y.toString()),B);else if(c.addListener&&c.removeListener)c.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ke(){function c(x){return y.call(c.src,c.listener,x)}const y=Je;return c}function Ce(c,y,x,B,re){if(Array.isArray(y)){for(var pe=0;pe<y.length;pe++)Ce(c,y[pe],x,B,re);return null}return x=bt(x),c&&c[de]?c.L(y,x,h(B)?!!B.capture:!!B,re):ft(c,y,x,!0,B,re)}function Me(c,y,x,B,re){if(Array.isArray(y))for(var pe=0;pe<y.length;pe++)Me(c,y[pe],x,B,re);else B=h(B)?!!B.capture:!!B,x=bt(x),c&&c[de]?(c=c.i,y=String(y).toString(),y in c.g&&(pe=c.g[y],x=je(pe,x,B,re),-1<x&&(De(pe[x]),Array.prototype.splice.call(pe,x,1),pe.length==0&&(delete c.g[y],c.h--)))):c&&(c=lt(c))&&(y=c.g[y.toString()],c=-1,y&&(c=je(y,x,B,re)),(x=-1<c?y[c]:null)&&Ue(x))}function Ue(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[de])Ve(y.i,c);else{var x=c.type,B=c.proxy;y.removeEventListener?y.removeEventListener(x,B,c.capture):y.detachEvent?y.detachEvent(Be(x),B):y.addListener&&y.removeListener&&y.removeListener(B),(x=lt(y))?(Ve(x,c),x.h==0&&(x.src=null,y[et]=null)):De(c)}}}function Be(c){return c in Ee?Ee[c]:Ee[c]="on"+c}function Je(c,y){if(c.da)c=!0;else{y=new J(y,this);var x=c.listener,B=c.ha||c.src;c.fa&&Ue(c),c=x.call(B,y)}return c}function lt(c){return c=c[et],c instanceof Le?c:null}var gt="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(c){return typeof c=="function"?c:(c[gt]||(c[gt]=function(y){return c.handleEvent(y)}),c[gt])}function st(){O.call(this),this.i=new Le(this),this.M=this,this.F=null}A(st,O),st.prototype[de]=!0,st.prototype.removeEventListener=function(c,y,x,B){Me(this,c,y,x,B)};function vt(c,y){var x,B=c.F;if(B)for(x=[];B;B=B.F)x.push(B);if(c=c.M,B=y.type||y,typeof y=="string")y=new $(y,c);else if(y instanceof $)y.target=y.target||c;else{var re=y;y=new $(B,c),j(y,re)}if(re=!0,x)for(var pe=x.length-1;0<=pe;pe--){var Pe=y.g=x[pe];re=nt(Pe,B,!0,y)&&re}if(Pe=y.g=c,re=nt(Pe,B,!0,y)&&re,re=nt(Pe,B,!1,y)&&re,x)for(pe=0;pe<x.length;pe++)Pe=y.g=x[pe],re=nt(Pe,B,!1,y)&&re}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var x=c.g[y],B=0;B<x.length;B++)De(x[B]);delete c.g[y],c.h--}}this.F=null},st.prototype.K=function(c,y,x,B){return this.i.add(String(c),y,!1,x,B)},st.prototype.L=function(c,y,x,B){return this.i.add(String(c),y,!0,x,B)};function nt(c,y,x,B){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var re=!0,pe=0;pe<y.length;++pe){var Pe=y[pe];if(Pe&&!Pe.da&&Pe.capture==x){var dt=Pe.listener,Ft=Pe.ha||Pe.src;Pe.fa&&Ve(c.i,Pe),re=dt.call(Ft,B)!==!1&&re}}return re&&!B.defaultPrevented}function xt(c,y,x){if(typeof c=="function")x&&(c=_(c,x));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:a.setTimeout(c,y||0)}function ze(c){c.g=xt(()=>{c.g=null,c.i&&(c.i=!1,ze(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class qn extends O{constructor(y,x){super(),this.m=y,this.l=x,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ze(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function St(c){O.call(this),this.h=c,this.g={}}A(St,O);var Dr=[];function Mt(c){oe(c.g,function(y,x){this.g.hasOwnProperty(x)&&Ue(y)},c),c.g={}}St.prototype.N=function(){St.aa.N.call(this),Mt(this)},St.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=a.JSON.stringify,Ti=a.JSON.parse,Rt=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Qi(){}Qi.prototype.h=null;function tn(c){return c.h||(c.h=c.i())}function Mr(){}var Er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yt(){$.call(this,"d")}A(Yt,$);function ut(){$.call(this,"c")}A(ut,$);var At={},ws=null;function gn(){return ws=ws||new st}At.La="serverreachability";function ri(c){$.call(this,At.La,c)}A(ri,$);function or(c){const y=gn();vt(y,new ri(y))}At.STAT_EVENT="statevent";function tt(c,y){$.call(this,At.STAT_EVENT,c),this.stat=y}A(tt,$);function Gt(c){const y=gn();vt(y,new tt(y,c))}At.Ma="timingevent";function ii(c,y){$.call(this,At.Ma,c),this.size=y}A(ii,$);function Pn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},y)}function nn(){this.g=!0}nn.prototype.xa=function(){this.g=!1};function vn(c,y,x,B,re,pe){c.info(function(){if(c.g)if(pe)for(var Pe="",dt=pe.split("&"),Ft=0;Ft<dt.length;Ft++){var pt=dt[Ft].split("=");if(1<pt.length){var Kt=pt[0];pt=pt[1];var En=Kt.split("_");Pe=2<=En.length&&En[1]=="type"?Pe+(Kt+"="+pt+"&"):Pe+(Kt+"=redacted&")}}else Pe=null;else Pe=pe;return"XMLHTTP REQ ("+B+") [attempt "+re+"]: "+y+`
`+x+`
`+Pe})}function xr(c,y,x,B,re,pe,Pe){c.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+re+"]: "+y+`
`+x+`
`+pe+" "+Pe})}function si(c,y,x,B){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+oi(c,x)+(B?" "+B:"")})}function Xi(c,y){c.info(function(){return"TIMEOUT: "+y})}nn.prototype.info=function(){};function oi(c,y){if(!c.g)return y;if(!y)return null;try{var x=JSON.parse(y);if(x){for(c=0;c<x.length;c++)if(Array.isArray(x[c])){var B=x[c];if(!(2>B.length)){var re=B[1];if(Array.isArray(re)&&!(1>re.length)){var pe=re[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Pe=1;Pe<re.length;Pe++)re[Pe]=""}}}}return $t(x)}catch{return y}}var ar={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fr;function Qn(){}A(Qn,Qi),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Fr=new Qn;function Mn(c,y,x,B){this.j=c,this.i=y,this.l=x,this.R=B||1,this.U=new St(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bs}function bs(){this.i=null,this.g="",this.h=!1}var Hs={},Es={};function xs(c,y,x){c.L=1,c.v=Do(Br(y)),c.m=x,c.P=!0,Ws(c,null)}function Ws(c,y){c.F=Date.now(),Lo(c),c.A=Br(c.v);var x=c.A,B=c.R;Array.isArray(B)||(B=[String(B)]),eu(x.i,"t",B),c.C=0,x=c.j.J,c.h=new bs,c.g=G(c.j,x?y:null,!c.m),0<c.O&&(c.M=new qn(_(c.Y,c,c.g),c.O)),y=c.U,x=c.g,B=c.ca;var re="readystatechange";Array.isArray(re)||(re&&(Dr[0]=re.toString()),re=Dr);for(var pe=0;pe<re.length;pe++){var Pe=X(x,re[pe],B||y.handleEvent,!1,y.h||y);if(!Pe)break;y.g[Pe.key]=Pe}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),or(),vn(c.i,c.u,c.A,c.l,c.R,c.m)}Mn.prototype.ca=function(c){c=c.target;const y=this.M;y&&ci(c)==3?y.j():this.Y(c)},Mn.prototype.Y=function(c){try{if(c==this.g)e:{const En=ci(this.g);var y=this.g.Ba();const Ri=this.g.Z();if(!(3>En)&&(En!=3||this.g&&(this.h.h||this.g.oa()||es(this.g)))){this.J||En!=4||y==7||(y==8||0>=Ri?or(3):or(2)),Co(this);var x=this.g.Z();this.X=x;t:if(Ga(this)){var B=es(this.g);c="";var re=B.length,pe=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ai(this),Ks(this);var Pe="";break t}this.h.i=new a.TextDecoder}for(y=0;y<re;y++)this.h.h=!0,c+=this.h.i.decode(B[y],{stream:!(pe&&y==re-1)});B.length=0,this.h.g+=c,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=x==200,xr(this.i,this.u,this.A,this.l,this.R,En,x),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Ft=this.g;if((dt=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(dt)){var pt=dt;break t}}pt=null}if(x=pt)si(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ka(this,x);else{this.o=!1,this.s=3,Gt(12),ai(this),Ks(this);break e}}if(this.P){x=!0;let Xn;for(;!this.J&&this.C<Pe.length;)if(Xn=Fc(this,Pe),Xn==Es){En==4&&(this.s=4,Gt(14),x=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==Hs){this.s=4,Gt(15),si(this.i,this.l,Pe,"[Invalid Chunk]"),x=!1;break}else si(this.i,this.l,Xn,null),Ka(this,Xn);if(Ga(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),En!=4||Pe.length!=0||this.h.h||(this.s=1,Gt(16),x=!1),this.o=this.o&&x,!x)si(this.i,this.l,Pe,"[Invalid Chunked Response]"),ai(this),Ks(this);else if(0<Pe.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),ol(Kt),Kt.M=!0,Gt(11))}}else si(this.i,this.l,Pe,null),Ka(this,Pe);En==4&&ai(this),this.o&&!this.J&&(En==4?Ho(this.j,this):(this.o=!1,Lo(this)))}else hi(this.g),x==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),ai(this),Ks(this)}}}catch{}finally{}};function Ga(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Fc(c,y){var x=c.C,B=y.indexOf(`
`,x);return B==-1?Es:(x=Number(y.substring(x,B)),isNaN(x)?Hs:(B+=1,B+x>y.length?Es:(y=y.slice(B,B+x),c.C=B+x,y)))}Mn.prototype.cancel=function(){this.J=!0,ai(this)};function Lo(c){c.S=Date.now()+c.I,Gs(c,c.I)}function Gs(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Pn(_(c.ba,c),y)}function Co(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Mn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Xi(this.i,this.A),this.L!=2&&(or(),Gt(17)),ai(this),this.s=2,Ks(this)):Gs(this,this.S-c)};function Ks(c){c.j.G==0||c.J||Ho(c.j,c)}function ai(c){Co(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Mt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ka(c,y){try{var x=c.j;if(x.G!=0&&(x.g==c||rn(x.h,c))){if(!c.K&&rn(x.h,c)&&x.G==3){try{var B=x.Da.g.parse(y)}catch{B=null}if(Array.isArray(B)&&B.length==3){var re=B;if(re[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<c.F)Ci(x),ns(x);else break e;$o(x),Gt(18)}}else x.za=re[1],0<x.za-x.T&&37500>re[2]&&x.F&&x.v==0&&!x.C&&(x.C=Pn(_(x.Za,x),6e3));if(1>=Xl(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else fi(x,11)}else if((c.K||x.g==c)&&Ci(x),!I(y))for(re=x.Da.g.parse(y),y=0;y<re.length;y++){let pt=re[y];if(x.T=pt[0],pt=pt[1],x.G==2)if(pt[0]=="c"){x.K=pt[1],x.ia=pt[2];const Kt=pt[3];Kt!=null&&(x.la=Kt,x.j.info("VER="+x.la));const En=pt[4];En!=null&&(x.Aa=En,x.j.info("SVER="+x.Aa));const Ri=pt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(B=1.5*Ri,x.L=B,x.j.info("backChannelRequestTimeoutMs_="+B)),B=x;const Xn=c.g;if(Xn){const is=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var pe=B.h;pe.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Ro(pe,pe.h),pe.h=null))}if(B.D){const eo=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;eo&&(B.ya=eo,jt(B.I,B.D,eo))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-c.F,x.j.info("Handshake RTT: "+x.R+"ms")),B=x;var Pe=c;if(B.qa=P(B,B.J?B.ia:null,B.W),Pe.K){Qa(B.h,Pe);var dt=Pe,Ft=B.L;Ft&&(dt.I=Ft),dt.B&&(Co(dt),Lo(dt)),B.g=Pe}else zo(B);0<x.i.length&&Is(x)}else pt[0]!="stop"&&pt[0]!="close"||fi(x,7);else x.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?fi(x,7):rl(x):pt[0]!="noop"&&x.l&&x.l.ta(pt),x.v=0)}}or(4)}catch{}}var Kl=class{constructor(c,y){this.g=c,this.map=y}};function Ql(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xl(c){return c.h?1:c.g?c.g.size:0}function rn(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ro(c,y){c.g?c.g.add(y):c.h=y}function Qa(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ql.prototype.cancel=function(){if(this.i=Xa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xa(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const x of c.g.values())y=y.concat(x.D);return y}return N(c.i)}function Ya(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var y=[],x=c.length,B=0;B<x;B++)y.push(c[B]);return y}y=[],x=0;for(B in c)y[x++]=c[B];return y}function Vc(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var y=[];c=c.length;for(var x=0;x<c;x++)y.push(x);return y}y=[],x=0;for(const B in c)y[x++]=B;return y}}}function Vr(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var x=Vc(c),B=Ya(c),re=B.length,pe=0;pe<re;pe++)y.call(void 0,B[pe],x&&x[pe],c)}var Xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lr(c,y){if(c){c=c.split("&");for(var x=0;x<c.length;x++){var B=c[x].indexOf("="),re=null;if(0<=B){var pe=c[x].substring(0,B);re=c[x].substring(B+1)}else pe=c[x];y(pe,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function li(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof li){this.h=c.h,Oo(this,c.j),this.o=c.o,this.g=c.g,Ys(this,c.s),this.l=c.l;var y=c.i,x=new yn;x.i=y.i,y.g&&(x.g=new Map(y.g),x.h=y.h),Yl(this,x),this.m=c.m}else c&&(y=String(c).match(Xs))?(this.h=!1,Oo(this,y[1]||"",!0),this.o=Yi(y[2]||""),this.g=Yi(y[3]||"",!0),Ys(this,y[4]),this.l=Yi(y[5]||"",!0),Yl(this,y[6]||"",!0),this.m=Yi(y[7]||"")):(this.h=!1,this.i=new yn(null,this.h))}li.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Js(y,Jl,!0),":");var x=this.g;return(x||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Js(y,Jl,!0),"@"),c.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&c.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(Js(x,x.charAt(0)=="/"?Mo:Ji,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",Js(x,Zl)),c.join("")};function Br(c){return new li(c)}function Oo(c,y,x){c.j=x?Yi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ys(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Yl(c,y,x){y instanceof yn?(c.i=y,ki(c.i,c.h)):(x||(y=Js(y,jo)),c.i=new yn(y,c.h))}function jt(c,y,x){c.i.set(y,x)}function Do(c){return jt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Yi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Js(c,y,x){return typeof c=="string"?(c=encodeURI(c).replace(y,Bc),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Jl=/[#\/\?@]/g,Ji=/[#\?:]/g,Mo=/[#\?]/g,jo=/[#\?@]/g,Zl=/#/g;function yn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ni(c){c.g||(c.g=new Map,c.h=0,c.i&&lr(c.i,function(y,x){c.add(decodeURIComponent(y.replace(/\+/g," ")),x)}))}t=yn.prototype,t.add=function(c,y){Ni(this),this.i=null,c=Ss(this,c);var x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(y),this.h+=1,this};function Ja(c,y){Ni(c),y=Ss(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ct(c,y){return Ni(c),y=Ss(c,y),c.g.has(y)}t.forEach=function(c,y){Ni(this),this.g.forEach(function(x,B){x.forEach(function(re){c.call(y,re,B,this)},this)},this)},t.na=function(){Ni(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),x=[];for(let B=0;B<y.length;B++){const re=c[B];for(let pe=0;pe<re.length;pe++)x.push(y[B])}return x},t.V=function(c){Ni(this);let y=[];if(typeof c=="string")ct(this,c)&&(y=y.concat(this.g.get(Ss(this,c))));else{c=Array.from(this.g.values());for(let x=0;x<c.length;x++)y=y.concat(c[x])}return y},t.set=function(c,y){return Ni(this),this.i=null,c=Ss(this,c),ct(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function eu(c,y,x){Ja(c,y),0<x.length&&(c.i=null,c.g.set(Ss(c,y),N(x)),c.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var x=0;x<y.length;x++){var B=y[x];const pe=encodeURIComponent(String(B)),Pe=this.V(B);for(B=0;B<Pe.length;B++){var re=pe;Pe[B]!==""&&(re+="="+encodeURIComponent(String(Pe[B]))),c.push(re)}}return this.i=c.join("&")};function Ss(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ki(c,y){y&&!c.j&&(Ni(c),c.i=null,c.g.forEach(function(x,B){var re=B.toLowerCase();B!=re&&(Ja(this,B),eu(this,re,x))},c)),c.j=y}function tu(c,y){const x=new nn;if(a.Image){const B=new Image;B.onload=m(Sr,x,"TestLoadImage: loaded",!0,y,B),B.onerror=m(Sr,x,"TestLoadImage: error",!1,y,B),B.onabort=m(Sr,x,"TestLoadImage: abort",!1,y,B),B.ontimeout=m(Sr,x,"TestLoadImage: timeout",!1,y,B),a.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=c}else y(!1)}function nu(c,y){const x=new nn,B=new AbortController,re=setTimeout(()=>{B.abort(),Sr(x,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:B.signal}).then(pe=>{clearTimeout(re),pe.ok?Sr(x,"TestPingServer: ok",!0,y):Sr(x,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(re),Sr(x,"TestPingServer: error",!1,y)})}function Sr(c,y,x,B,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),B(x)}catch{}}function Za(){this.g=new Rt}function Uc(c,y,x){const B=x||"";try{Vr(c,function(re,pe){let Pe=re;h(re)&&(Pe=$t(re)),y.push(B+pe+"="+encodeURIComponent(Pe))})}catch(re){throw y.push(B+"type="+encodeURIComponent("_badmap")),re}}function Fo(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Fo,Qi),Fo.prototype.g=function(){return new Vo(this.l,this.j)},Fo.prototype.i=function(c){return function(){return c}}({});function Vo(c,y){st.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Vo,st),t=Vo.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ur(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ui(this):Ur(this),this.readyState==3&&Bo(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ui(this))},t.Qa=function(c){this.g&&(this.response=c,ui(this))},t.ga=function(){this.g&&ui(this)};function ui(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ur(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var x=y.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=y.next();return c.join(`\r
`)};function Ur(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ru(c){let y="";return oe(c,function(x,B){y+=B,y+=":",y+=x,y+=`\r
`}),y}function Zi(c,y,x){e:{for(B in x){var B=!1;break e}B=!0}B||(x=ru(x),typeof c=="string"?x!=null&&encodeURIComponent(String(x)):jt(c,y,x))}function Ht(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ht,st);var Uo=/^https?$/i,iu=["POST","PUT"];t=Ht.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,x,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fr.g(),this.v=this.o?tn(this.o):tn(Fr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(pe){el(this,pe);return}if(c=x||"",x=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var re in B)x.set(re,B[re]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const pe of B.keys())x.set(pe,B.get(pe));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(x.keys()).find(pe=>pe.toLowerCase()=="content-type"),re=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iu,y,void 0))||B||re||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Pe]of x)this.g.setRequestHeader(pe,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pi(this),this.u=!0,this.g.send(c),this.u=!1}catch(pe){el(this,pe)}};function el(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,tl(c),Ar(c)}function tl(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),Ar(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),Ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nl(this):this.bb())},t.bb=function(){nl(this)};function nl(c){if(c.h&&typeof o<"u"&&(!c.v[1]||ci(c)!=4||c.Z()!=2)){if(c.u&&ci(c)==4)xt(c.Ea,0,c);else if(vt(c,"readystatechange"),ci(c)==4){c.h=!1;try{const Pe=c.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var x;if(!(x=y)){var B;if(B=Pe===0){var re=String(c.D).match(Xs)[1]||null;!re&&a.self&&a.self.location&&(re=a.self.location.protocol.slice(0,-1)),B=!Uo.test(re?re.toLowerCase():"")}x=B}if(x)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var pe=2<ci(c)?c.g.statusText:""}catch{pe=""}c.l=pe+" ["+c.Z()+"]",tl(c)}}finally{Ar(c)}}}}function Ar(c,y){if(c.g){Pi(c);const x=c.g,B=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||vt(c,"ready");try{x.onreadystatechange=B}catch{}}}function Pi(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ci(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ti(y)}};function es(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hi(c){const y={};c=(c.g&&2<=ci(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<c.length;B++){if(I(c[B]))continue;var x=E(c[B]);const re=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const pe=y[re]||[];y[re]=pe,pe.push(x)}C(y,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(c,y,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||y}function As(c){this.Aa=0,this.i=[],this.j=new nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ts("baseRetryDelayMs",5e3,c),this.cb=ts("retryDelaySeedMs",1e4,c),this.Wa=ts("forwardChannelMaxRetries",2,c),this.wa=ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ql(c&&c.concurrentRequestLimit),this.Da=new Za,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=As.prototype,t.la=8,t.G=1,t.connect=function(c,y,x,B){Gt(0),this.W=c,this.H=y||{},x&&B!==void 0&&(this.H.OSID=x,this.H.OAID=B),this.F=this.X,this.I=P(this,null,this.W),Is(this)};function rl(c){if(su(c),c.G==3){var y=c.U++,x=Br(c.I);if(jt(x,"SID",c.K),jt(x,"RID",y),jt(x,"TYPE","terminate"),Li(c,x),y=new Mn(c,c.j,y),y.L=2,y.v=Do(Br(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=y.v,x=!0),x||(y.g=G(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Lo(y)}d(c)}function ns(c){c.g&&(ol(c),c.g.cancel(),c.g=null)}function su(c){ns(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ci(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Is(c){if(!Qs(c.h)&&!c.s){c.s=!0;var y=c.Ga;ve||he(),Y||(ve(),Y=!0),le.add(y,c),c.B=0}}function il(c,y){return Xl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Pn(_(c.Ga,c,y),rs(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const re=new Mn(this,this.j,c);let pe=this.o;if(this.S&&(pe?(pe=S(pe),j(pe,this.S)):pe=this.S),this.m!==null||this.O||(re.H=pe,pe=null),this.P)e:{for(var y=0,x=0;x<this.i.length;x++){t:{var B=this.i[x];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(y+=B,4096<y){y=x;break e}if(y===4096||x===this.i.length-1){y=x+1;break e}}y=1e3}else y=1e3;y=qo(this,re,y),x=Br(this.I),jt(x,"RID",c),jt(x,"CVER",22),this.D&&jt(x,"X-HTTP-Session-Id",this.D),Li(this,x),pe&&(this.O?y="headers="+encodeURIComponent(String(ru(pe)))+"&"+y:this.m&&Zi(x,this.m,pe)),Ro(this.h,re),this.Ua&&jt(x,"TYPE","init"),this.P?(jt(x,"$req",y),jt(x,"SID","null"),re.T=!0,xs(re,x,null)):xs(re,x,y),this.G=2}}else this.G==3&&(c?sl(this,c):this.i.length==0||Qs(this.h)||sl(this))};function sl(c,y){var x;y?x=y.l:x=c.U++;const B=Br(c.I);jt(B,"SID",c.K),jt(B,"RID",x),jt(B,"AID",c.T),Li(c,B),c.m&&c.o&&Zi(B,c.m,c.o),x=new Mn(c,c.j,x,c.B+1),c.m===null&&(x.H=c.o),y&&(c.i=y.D.concat(c.i)),y=qo(c,x,1e3),x.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ro(c.h,x),xs(x,B,y)}function Li(c,y){c.H&&oe(c.H,function(x,B){jt(y,B,x)}),c.l&&Vr({},function(x,B){jt(y,B,x)})}function qo(c,y,x){x=Math.min(c.i.length,x);var B=c.l?_(c.l.Na,c.l,c):null;e:{var re=c.i;let pe=-1;for(;;){const Pe=["count="+x];pe==-1?0<x?(pe=re[0].g,Pe.push("ofs="+pe)):pe=0:Pe.push("ofs="+pe);let dt=!0;for(let Ft=0;Ft<x;Ft++){let pt=re[Ft].g;const Kt=re[Ft].map;if(pt-=pe,0>pt)pe=Math.max(0,re[Ft].g-100),dt=!1;else try{Uc(Kt,Pe,"req"+pt+"_")}catch{B&&B(Kt)}}if(dt){B=Pe.join("&");break e}}}return c=c.i.splice(0,x),y.D=c,B}function zo(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ve||he(),Y||(ve(),Y=!0),le.add(y,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Pn(_(c.Fa,c),rs(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Zs(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Pn(_(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),ns(this),Zs(this))};function ol(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Zs(c){c.g=new Mn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Br(c.qa);jt(y,"RID","rpc"),jt(y,"SID",c.K),jt(y,"AID",c.T),jt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&jt(y,"TO",c.ja),jt(y,"TYPE","xmlhttp"),Li(c,y),c.m&&c.o&&Zi(y,c.m,c.o),c.L&&(c.g.I=c.L);var x=c.g;c=c.ia,x.L=1,x.v=Do(Br(y)),x.m=null,x.P=!0,Ws(x,c)}t.Za=function(){this.C!=null&&(this.C=null,ns(this),$o(this),Gt(19))};function Ci(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Ho(c,y){var x=null;if(c.g==y){Ci(c),ol(c),c.g=null;var B=2}else if(rn(c.h,y))x=y.D,Qa(c.h,y),B=1;else return;if(c.G!=0){if(y.o)if(B==1){x=y.m?y.m.length:0,y=Date.now()-y.F;var re=c.B;B=gn(),vt(B,new ii(B,x)),Is(c)}else zo(c);else if(re=y.s,re==3||re==0&&0<y.X||!(B==1&&il(c,y)||B==2&&$o(c)))switch(x&&0<x.length&&(y=c.h,y.i=y.i.concat(x)),re){case 1:fi(c,5);break;case 4:fi(c,10);break;case 3:fi(c,6);break;default:fi(c,2)}}}function rs(c,y){let x=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(x*=2),x*y}function fi(c,y){if(c.j.info("Error code "+y),y==2){var x=_(c.fb,c),B=c.Xa;const re=!B;B=new li(B||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Oo(B,"https"),Do(B),re?tu(B.toString(),x):nu(B.toString(),x)}else Gt(2);c.G=0,c.l&&c.l.sa(y),d(c),su(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function d(c){if(c.G=0,c.ka=[],c.l){const y=Xa(c.h);(y.length!=0||c.i.length!=0)&&(V(c.ka,y),V(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function P(c,y,x){var B=x instanceof li?Br(x):new li(x);if(B.g!="")y&&(B.g=y+"."+B.g),Ys(B,B.s);else{var re=a.location;B=re.protocol,y=y?y+"."+re.hostname:re.hostname,re=+re.port;var pe=new li(null);B&&Oo(pe,B),y&&(pe.g=y),re&&Ys(pe,re),x&&(pe.l=x),B=pe}return x=c.D,y=c.ya,x&&y&&jt(B,x,y),jt(B,"VER",c.la),Li(c,B),B}function G(c,y,x){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ht(new Fo({eb:x})):new Ht(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Z(){}t=Z.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ue(){}ue.prototype.g=function(c,y){return new we(c,y)};function we(c,y){st.call(this),this.g=new As(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!I(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Qe(this)}A(we,st),we.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},we.prototype.close=function(){rl(this.g)},we.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.u&&(x={},x.__data__=$t(c),c=x);y.i.push(new Kl(y.Ya++,c)),y.G==3&&Is(y)},we.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,we.aa.N.call(this)};function Te(c){Yt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const x in y){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}A(Te,Yt);function $e(){ut.call(this),this.status=1}A($e,ut);function Qe(c){this.g=c}A(Qe,Z),Qe.prototype.ua=function(){vt(this.g,"a")},Qe.prototype.ta=function(c){vt(this.g,new Te(c))},Qe.prototype.sa=function(c){vt(this.g,new $e)},Qe.prototype.ra=function(){vt(this.g,"b")},ue.prototype.createWebChannel=ue.prototype.g,we.prototype.send=we.prototype.o,we.prototype.open=we.prototype.m,we.prototype.close=we.prototype.close,w3=function(){return new ue},_3=function(){return gn()},y3=At,bg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,rp=ar,jr.COMPLETE="complete",v3=jr,Mr.EventType=Er,Er.OPEN="a",Er.CLOSE="b",Er.ERROR="c",Er.MESSAGE="d",st.prototype.listen=st.prototype.K,bh=Mr,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,g3=Ht}).apply(typeof Nd<"u"?Nd:typeof self<"u"?self:typeof window<"u"?window:{});const B_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new X2("@firebase/firestore");function uh(){return Ml.logLevel}function Xe(t,...e){if(Ml.logLevel<=kt.DEBUG){const n=e.map(lv);Ml.debug(`Firestore (${Lc}): ${t}`,...n)}}function Io(t,...e){if(Ml.logLevel<=kt.ERROR){const n=e.map(lv);Ml.error(`Firestore (${Lc}): ${t}`,...n)}}function gc(t,...e){if(Ml.logLevel<=kt.WARN){const n=e.map(lv);Ml.warn(`Firestore (${Lc}): ${t}`,...n)}}function lv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t="Unexpected state"){const e=`FIRESTORE (${Lc}) INTERNAL ASSERTION FAILED: `+t;throw Io(e),new Error(e)}function zt(t,e){t||mt()}function wt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends Po{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gr.UNAUTHENTICATED))}shutdown(){}}class BP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UP{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){zt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new La;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new La,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new La)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(zt(typeof r.accessToken=="string"),new b3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zt(e===null||typeof e=="string"),new gr(e)}}class qP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new qP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $P{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){zt(this.o===void 0);const r=s=>{s.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Xe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(zt(typeof n.token=="string"),this.R=n.token,new $P(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=WP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ot(t,e){return t<e?-1:t>e?1:0}function vc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ze(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ze(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ze(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Un(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Un(0,0))}static max(){return new _t(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n,r){n===void 0?n=0:n>e.length&&mt(),r===void 0?r=e.length-n:r>e.length-n&&mt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class cn extends lf{construct(e,n,r){return new cn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ze(Ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new cn(n)}static emptyPath(){return new cn([])}}const GP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends lf{construct(e,n,r){return new tr(e,n,r)}static isValidIdentifier(e){return GP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ze(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ze(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ze(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ze(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(n)}static emptyPath(){return new tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.path=e}static fromPath(e){return new it(cn.fromString(e))}static fromName(e){return new it(cn.fromString(e).popFirst(5))}static empty(){return new it(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return cn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new cn(e.slice()))}}function KP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_t.fromTimestamp(r===1e9?new Un(n+1,0):new Un(n,r));return new Ma(i,it.empty(),e)}function QP(t){return new Ma(t.readTime,t.key,-1)}class Ma{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ma(_t.min(),it.empty(),-1)}static max(){return new Ma(_t.max(),it.empty(),-1)}}function XP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=it.comparator(t.documentKey,e.documentKey),n!==0?n:Ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(t){if(t.code!==Ne.FAILED_PRECONDITION||t.message!==YP)throw t;Xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ke((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ke?n:ke.resolve(n)}catch(n){return ke.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ke.reject(n)}static resolve(e){return new ke((n,r)=>{n(e)})}static reject(e){return new ke((n,r)=>{r(e)})}static waitFor(e){return new ke((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ke.resolve(!1);for(const r of e)n=n.next(i=>i?ke.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ke((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const h=l;n(e[h]).next(p=>{o[h]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new ke((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ZP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}uv.oe=-1;function S0(t){return t==null}function Hp(t){return t===0&&1/t==-1/0}function eL(t){return typeof t=="number"&&Number.isInteger(t)&&!Hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ql(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.comparator=e,this.root=n||er.EMPTY}insert(e,n){return new mn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kd(this.root,e,this.comparator,!0)}}class kd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class er{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??er.RED,this.left=i??er.EMPTY,this.right=s??er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new er(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rr(this.comparator);return n.data=e,n}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new wi([])}unionWith(e){let n=new rr(tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new S3("Invalid base64 string: "+s):s}}(e);return new sr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const tL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(t){if(zt(!!t),typeof t=="string"){let e=0;const n=tL.exec(t);if(zt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:An(t.seconds),nanos:An(t.nanos)}}function An(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jl(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hv(t){const e=t.mapValue.fields.__previous_value__;return cv(e)?hv(e):e}function uf(t){const e=ja(t.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n,r,i,s,o,a,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=h}}class cf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cv(t)?4:iL(t)?9007199254740991:rL(t)?10:11:mt()}function qs(t,e){if(t===e)return!0;const n=Fl(t);if(n!==Fl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uf(t).isEqual(uf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ja(i.timestampValue),a=ja(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return jl(i.bytesValue).isEqual(jl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return An(i.geoPointValue.latitude)===An(s.geoPointValue.latitude)&&An(i.geoPointValue.longitude)===An(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return An(i.integerValue)===An(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=An(i.doubleValue),a=An(s.doubleValue);return o===a?Hp(o)===Hp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return vc(t.arrayValue.values||[],e.arrayValue.values||[],qs);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(U_(o)!==U_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!qs(o[l],a[l])))return!1;return!0}(t,e);default:return mt()}}function hf(t,e){return(t.values||[]).find(n=>qs(n,e))!==void 0}function yc(t,e){if(t===e)return 0;const n=Fl(t),r=Fl(e);if(n!==r)return Ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=An(s.integerValue||s.doubleValue),l=An(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return z_(t.timestampValue,e.timestampValue);case 4:return z_(uf(t),uf(e));case 5:return Ot(t.stringValue,e.stringValue);case 6:return function(s,o){const a=jl(s),l=jl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let h=0;h<a.length&&h<l.length;h++){const p=Ot(a[h],l[h]);if(p!==0)return p}return Ot(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ot(An(s.latitude),An(o.latitude));return a!==0?a:Ot(An(s.longitude),An(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,h,p;const v=s.fields||{},_=o.fields||{},m=(a=v.value)===null||a===void 0?void 0:a.arrayValue,A=(l=_.value)===null||l===void 0?void 0:l.arrayValue,N=Ot(((h=m==null?void 0:m.values)===null||h===void 0?void 0:h.length)||0,((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0);return N!==0?N:$_(m,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Pd.mapValue&&o===Pd.mapValue)return 0;if(s===Pd.mapValue)return 1;if(o===Pd.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),h=o.fields||{},p=Object.keys(h);l.sort(),p.sort();for(let v=0;v<l.length&&v<p.length;++v){const _=Ot(l[v],p[v]);if(_!==0)return _;const m=yc(a[l[v]],h[p[v]]);if(m!==0)return m}return Ot(l.length,p.length)}(t.mapValue,e.mapValue);default:throw mt()}}function z_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ot(t,e);const n=ja(t),r=ja(e),i=Ot(n.seconds,r.seconds);return i!==0?i:Ot(n.nanos,r.nanos)}function $_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=yc(n[i],r[i]);if(s)return s}return Ot(n.length,r.length)}function _c(t){return Eg(t)}function Eg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ja(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return it.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Eg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Eg(n.fields[o])}`;return i+"}"}(t.mapValue):mt()}function xg(t){return!!t&&"integerValue"in t}function fv(t){return!!t&&"arrayValue"in t}function H_(t){return!!t&&"nullValue"in t}function W_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ip(t){return!!t&&"mapValue"in t}function rL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Mh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ql(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ip(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mh(n)}setAll(e){let n=tr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Mh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ip(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ip(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ql(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Qr(Mh(this.value))}}function A3(t){const e=[];return ql(t.fields,(n,r)=>{const i=new tr([n]);if(ip(r)){const s=A3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new wi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yr(e,0,_t.min(),_t.min(),_t.min(),Qr.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,_t.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,_t.min(),_t.min(),Qr.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,_t.min(),_t.min(),Qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.position=e,this.inclusive=n}}function G_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=it.comparator(it.fromName(o.referenceValue),n.key):r=yc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function K_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n="asc"){this.field=e,this.dir=n}}function sL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{}class Vn extends I3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aL(e,n,r):n==="array-contains"?new cL(e,r):n==="in"?new hL(e,r):n==="not-in"?new fL(e,r):n==="array-contains-any"?new dL(e,r):new Vn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lL(e,r):new uL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yc(n,this.value)):n!==null&&Fl(this.value)===Fl(n)&&this.matchesComparison(yc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zs extends I3{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new zs(e,n)}matches(e){return T3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function T3(t){return t.op==="and"}function N3(t){return oL(t)&&T3(t)}function oL(t){for(const e of t.filters)if(e instanceof zs)return!1;return!0}function Sg(t){if(t instanceof Vn)return t.field.canonicalString()+t.op.toString()+_c(t.value);if(N3(t))return t.filters.map(e=>Sg(e)).join(",");{const e=t.filters.map(n=>Sg(n)).join(",");return`${t.op}(${e})`}}function k3(t,e){return t instanceof Vn?function(r,i){return i instanceof Vn&&r.op===i.op&&r.field.isEqual(i.field)&&qs(r.value,i.value)}(t,e):t instanceof zs?function(r,i){return i instanceof zs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&k3(o,i.filters[a]),!0):!1}(t,e):void mt()}function P3(t){return t instanceof Vn?function(n){return`${n.field.canonicalString()} ${n.op} ${_c(n.value)}`}(t):t instanceof zs?function(n){return n.op.toString()+" {"+n.getFilters().map(P3).join(" ,")+"}"}(t):"Filter"}class aL extends Vn{constructor(e,n,r){super(e,n,r),this.key=it.fromName(r.referenceValue)}matches(e){const n=it.comparator(e.key,this.key);return this.matchesComparison(n)}}class lL extends Vn{constructor(e,n){super(e,"in",n),this.keys=L3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uL extends Vn{constructor(e,n){super(e,"not-in",n),this.keys=L3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function L3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>it.fromName(r.referenceValue))}class cL extends Vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fv(n)&&hf(n.arrayValue,this.value)}}class hL extends Vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hf(this.value.arrayValue,n)}}class fL extends Vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hf(this.value.arrayValue,n)}}class dL extends Vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Q_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pL(t,e,n,r,i,s,o)}function dv(t){const e=wt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),S0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_c(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_c(r)).join(",")),e.ue=n}return e.ue}function pv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!k3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!K_(t.startAt,e.startAt)&&K_(t.endAt,e.endAt)}function Ag(t){return it.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mL(t,e,n,r,i,s,o,a){return new A0(t,e,n,r,i,s,o,a)}function mv(t){return new A0(t)}function X_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gL(t){return t.collectionGroup!==null}function jh(t){const e=wt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rr(tr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Gp(s,r))}),n.has(tr.keyField().canonicalString())||e.ce.push(new Gp(tr.keyField(),r))}return e.ce}function Vs(t){const e=wt(t);return e.le||(e.le=vL(e,jh(t))),e.le}function vL(t,e){if(t.limitType==="F")return Q_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Gp(i.field,s)});const n=t.endAt?new Wp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wp(t.startAt.position,t.startAt.inclusive):null;return Q_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ig(t,e,n){return new A0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function I0(t,e){return pv(Vs(t),Vs(e))&&t.limitType===e.limitType}function C3(t){return`${dv(Vs(t))}|lt:${t.limitType}`}function Au(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>P3(i)).join(", ")}]`),S0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_c(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_c(i)).join(",")),`Target(${r})`}(Vs(t))}; limitType=${t.limitType})`}function T0(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):it.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of jh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const h=G_(o,a,l);return o.inclusive?h<=0:h<0}(r.startAt,jh(r),i)||r.endAt&&!function(o,a,l){const h=G_(o,a,l);return o.inclusive?h>=0:h>0}(r.endAt,jh(r),i))}(t,e)}function yL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function R3(t){return(e,n)=>{let r=!1;for(const i of jh(t)){const s=_L(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _L(t,e,n){const r=t.field.isKeyField()?it.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),h=a.data.field(s);return l!==null&&h!==null?yc(l,h):mt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ql(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return x3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=new mn(it.comparator);function To(){return wL}const O3=new mn(it.comparator);function Eh(...t){let e=O3;for(const n of t)e=e.insert(n.key,n);return e}function D3(t){let e=O3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function El(){return Fh()}function M3(){return Fh()}function Fh(){return new Cc(t=>t.toString(),(t,e)=>t.isEqual(e))}const bL=new mn(it.comparator),EL=new rr(it.comparator);function Nt(...t){let e=EL;for(const n of t)e=e.add(n);return e}const xL=new rr(Ot);function SL(){return xL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hp(e)?"-0":e}}function j3(t){return{integerValue:""+t}}function AL(t,e){return eL(e)?j3(e):gv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this._=void 0}}function IL(t,e,n){return t instanceof ff?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&cv(s)&&(s=hv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof df?V3(t,e):t instanceof pf?B3(t,e):function(i,s){const o=F3(i,s),a=Y_(o)+Y_(i.Pe);return xg(o)&&xg(i.Pe)?j3(a):gv(i.serializer,a)}(t,e)}function TL(t,e,n){return t instanceof df?V3(t,e):t instanceof pf?B3(t,e):n}function F3(t,e){return t instanceof Kp?function(r){return xg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ff extends N0{}class df extends N0{constructor(e){super(),this.elements=e}}function V3(t,e){const n=U3(e);for(const r of t.elements)n.some(i=>qs(i,r))||n.push(r);return{arrayValue:{values:n}}}class pf extends N0{constructor(e){super(),this.elements=e}}function B3(t,e){let n=U3(e);for(const r of t.elements)n=n.filter(i=>!qs(i,r));return{arrayValue:{values:n}}}class Kp extends N0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Y_(t){return An(t.integerValue||t.doubleValue)}function U3(t){return fv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n){this.field=e,this.transform=n}}function kL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof df&&i instanceof df||r instanceof pf&&i instanceof pf?vc(r.elements,i.elements,qs):r instanceof Kp&&i instanceof Kp?qs(r.Pe,i.Pe):r instanceof ff&&i instanceof ff}(t.transform,e.transform)}class PL{constructor(e,n){this.version=e,this.transformResults=n}}class Lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class k0{}function q3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new P0(t.key,Lr.none()):new Nf(t.key,t.data,Lr.none());{const n=t.data,r=Qr.empty();let i=new rr(tr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ha(t.key,r,new wi(i.toArray()),Lr.none())}}function LL(t,e,n){t instanceof Nf?function(i,s,o){const a=i.value.clone(),l=Z_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ha?function(i,s,o){if(!sp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Z_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(z3(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Vh(t,e,n,r){return t instanceof Nf?function(s,o,a,l){if(!sp(s.precondition,o))return a;const h=s.value.clone(),p=ew(s.fieldTransforms,l,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ha?function(s,o,a,l){if(!sp(s.precondition,o))return a;const h=ew(s.fieldTransforms,l,o),p=o.data;return p.setAll(z3(s)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(s,o,a){return sp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function CL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=F3(r.transform,i||null);s!=null&&(n===null&&(n=Qr.empty()),n.set(r.field,s))}return n||null}function J_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vc(r,i,(s,o)=>kL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nf extends k0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ha extends k0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function z3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Z_(t,e,n){const r=new Map;zt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,TL(o,a,n[i]))}return r}function ew(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,IL(s,o,e))}return r}class P0 extends k0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RL extends k0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&LL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=M3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=q3(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Nt())}isEqual(e){return this.batchId===e.batchId&&vc(this.mutations,e.mutations,(n,r)=>J_(n,r))&&vc(this.baseMutations,e.baseMutations,(n,r)=>J_(n,r))}}class vv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){zt(e.mutations.length===r.length);let i=function(){return bL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new vv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,Pt;function jL(t){switch(t){default:return mt();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function $3(t){if(t===void 0)return Io("GRPC error has no .code"),Ne.UNKNOWN;switch(t){case Rn.OK:return Ne.OK;case Rn.CANCELLED:return Ne.CANCELLED;case Rn.UNKNOWN:return Ne.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return Ne.INTERNAL;case Rn.UNAVAILABLE:return Ne.UNAVAILABLE;case Rn.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case Rn.NOT_FOUND:return Ne.NOT_FOUND;case Rn.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case Rn.ABORTED:return Ne.ABORTED;case Rn.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case Rn.DATA_LOSS:return Ne.DATA_LOSS;default:return mt()}}(Pt=Rn||(Rn={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new Il([4294967295,4294967295],0);function tw(t){const e=FL().encode(t),n=new m3;return n.update(e),new Uint8Array(n.digest())}function nw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Il([n,r],0),new Il([i,s],0)]}class yv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xh(`Invalid padding: ${n}`);if(r<0)throw new xh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Il.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Il.fromNumber(r)));return i.compare(VL)===1&&(i=new Il([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=tw(e),[r,i]=nw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new yv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=tw(e),[r,i]=nw(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,kf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new L0(_t.min(),i,new mn(Ot),To(),Nt())}}class kf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new kf(r,n,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class H3{constructor(e,n){this.targetId=e,this.me=n}}class W3{constructor(e,n,r=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rw{constructor(){this.fe=0,this.ge=sw(),this.pe=sr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Nt(),n=Nt(),r=Nt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:mt()}}),new kf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=sw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,zt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class BL{constructor(e){this.Le=e,this.Be=new Map,this.ke=To(),this.qe=iw(),this.Qe=new mn(Ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:mt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Ag(s))if(r===0){const o=new it(s.path);this.Ue(n,o,yr.newNoDocument(o,_t.min()))}else zt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=jl(r).toUint8Array()}catch(l){if(l instanceof S3)return gc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new yv(o,i,s)}catch(l){return gc(l instanceof xh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Ag(a.target)){const l=new it(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,yr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Nt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const h=this.Je(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new L0(e,n,this.Qe,this.ke,r);return this.ke=To(),this.qe=iw(),this.Qe=new mn(Ot),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rr(Ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Xe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function iw(){return new mn(it.comparator)}function sw(){return new mn(it.comparator)}const UL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),qL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),zL=(()=>({and:"AND",or:"OR"}))();class $L{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tg(t,e){return t.useProto3Json||S0(e)?e:{value:e}}function Qp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HL(t,e){return Qp(t,e.toTimestamp())}function Bs(t){return zt(!!t),_t.fromTimestamp(function(n){const r=ja(n);return new Un(r.seconds,r.nanos)}(t))}function _v(t,e){return Ng(t,e).canonicalString()}function Ng(t,e){const n=function(i){return new cn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function K3(t){const e=cn.fromString(t);return zt(Z3(e)),e}function kg(t,e){return _v(t.databaseId,e.path)}function J1(t,e){const n=K3(e);if(n.get(1)!==t.databaseId.projectId)throw new Ze(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ze(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new it(X3(n))}function Q3(t,e){return _v(t.databaseId,e)}function WL(t){const e=K3(t);return e.length===4?cn.emptyPath():X3(e)}function Pg(t){return new cn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function X3(t){return zt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ow(t,e,n){return{name:kg(t,e),fields:n.value.mapValue.fields}}function GL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:mt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(zt(p===void 0||typeof p=="string"),sr.fromBase64String(p||"")):(zt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),sr.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(h){const p=h.code===void 0?Ne.UNKNOWN:$3(h.code);return new Ze(p,h.message||"")}(o);n=new W3(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=J1(t,r.document.name),s=Bs(r.document.updateTime),o=r.document.createTime?Bs(r.document.createTime):_t.min(),a=new Qr({mapValue:{fields:r.document.fields}}),l=yr.newFoundDocument(i,s,o,a),h=r.targetIds||[],p=r.removedTargetIds||[];n=new op(h,p,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=J1(t,r.document),s=r.readTime?Bs(r.readTime):_t.min(),o=yr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new op([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=J1(t,r.document),s=r.removedTargetIds||[];n=new op([],s,i,null)}else{if(!("filter"in e))return mt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new ML(i,s),a=r.targetId;n=new H3(a,o)}}return n}function KL(t,e){let n;if(e instanceof Nf)n={update:ow(t,e.key,e.value)};else if(e instanceof P0)n={delete:kg(t,e.key)};else if(e instanceof Ha)n={update:ow(t,e.key,e.data),updateMask:rC(e.fieldMask)};else{if(!(e instanceof RL))return mt();n={verify:kg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ff)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof df)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw mt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:HL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:mt()}(t,e.precondition)),n}function QL(t,e){return t&&t.length>0?(zt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Bs(i.updateTime):Bs(s);return o.isEqual(_t.min())&&(o=Bs(s)),new PL(o,i.transformResults||[])}(n,e))):[]}function XL(t,e){return{documents:[Q3(t,e.path)]}}function YL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Q3(t,i);const s=function(h){if(h.length!==0)return J3(zs.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(p=>function(_){return{field:Iu(_.field),direction:eC(_.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Tg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function JL(t){let e=WL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){zt(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(v){const _=Y3(v);return _ instanceof zs&&N3(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(v){return v.map(_=>function(A){return new Gp(Tu(A.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let a=null;n.limit&&(a=function(v){let _;return _=typeof v=="object"?v.value:v,S0(_)?null:_}(n.limit));let l=null;n.startAt&&(l=function(v){const _=!!v.before,m=v.values||[];return new Wp(m,_)}(n.startAt));let h=null;return n.endAt&&(h=function(v){const _=!v.before,m=v.values||[];return new Wp(m,_)}(n.endAt)),mL(e,i,o,s,a,"F",l,h)}function ZL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Y3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tu(n.unaryFilter.field);return Vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tu(n.unaryFilter.field);return Vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Tu(n.unaryFilter.field);return Vn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Tu(n.unaryFilter.field);return Vn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(t):t.fieldFilter!==void 0?function(n){return Vn.create(Tu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zs.create(n.compositeFilter.filters.map(r=>Y3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return mt()}}(n.compositeFilter.op))}(t):mt()}function eC(t){return UL[t]}function tC(t){return qL[t]}function nC(t){return zL[t]}function Iu(t){return{fieldPath:t.canonicalString()}}function Tu(t){return tr.fromServerFormat(t.fieldPath)}function J3(t){return t instanceof Vn?function(n){if(n.op==="=="){if(W_(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NAN"}};if(H_(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W_(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NOT_NAN"}};if(H_(n.value))return{unaryFilter:{field:Iu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(n.field),op:tC(n.op),value:n.value}}}(t):t instanceof zs?function(n){const r=n.getFilters().map(i=>J3(i));return r.length===1?r[0]:{compositeFilter:{op:nC(n.op),filters:r}}}(t):mt()}function rC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Z3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,r,i,s=_t.min(),o=_t.min(),a=sr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.ct=e}}function sC(t){const e=JL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ig(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this.un=new aC}addToCollectionParentIndex(e,n){return this.un.add(n),ke.resolve()}getCollectionParents(e,n){return ke.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ke.resolve()}deleteFieldIndex(e,n){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,n){return ke.resolve()}getDocumentsMatchingTarget(e,n){return ke.resolve(null)}getIndexType(e,n){return ke.resolve(0)}getFieldIndexes(e,n){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,n){return ke.resolve(Ma.min())}getMinOffsetFromCollectionGroup(e,n){return ke.resolve(Ma.min())}updateCollectionGroup(e,n,r){return ke.resolve()}updateIndexEntries(e,n){return ke.resolve()}}class aC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rr(cn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(cn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new wc(0)}static kn(){return new wc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.changes=new Cc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ke.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Vh(r.mutation,i,wi.empty(),Un.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Nt()){const i=El();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Eh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=El();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Nt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=To();const o=Fh(),a=function(){return Fh()}();return n.forEach((l,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Ha)?s=s.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),Vh(p.mutation,h,p.mutation.getFieldMask(),Un.now())):o.set(h.key,wi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,p)=>o.set(h,p)),n.forEach((h,p)=>{var v;return a.set(h,new uC(p,(v=o.get(h))!==null&&v!==void 0?v:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fh();let i=new mn((o,a)=>o-a),s=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const h=n.get(l);if(h===null)return;let p=r.get(l)||wi.empty();p=a.applyToLocalView(h,p),r.set(l,p);const v=(i.get(a.batchId)||Nt()).add(l);i=i.insert(a.batchId,v)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),h=l.key,p=l.value,v=M3();p.forEach(_=>{if(!s.has(_)){const m=q3(n.get(_),r.get(_));m!==null&&v.set(_,m),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,v))}return ke.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return it.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ke.resolve(El());let a=-1,l=s;return o.next(h=>ke.forEach(h,(p,v)=>(a<v.largestBatchId&&(a=v.largestBatchId),s.get(p)?ke.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{l=l.insert(p,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,Nt())).next(p=>({batchId:a,changes:D3(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new it(n)).next(r=>{let i=Eh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Eh();return this.indexManager.getCollectionParents(e,s).next(a=>ke.forEach(a,l=>{const h=function(v,_){return new A0(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((v,_)=>{o=o.insert(v,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,yr.newInvalidDocument(p)))});let a=Eh();return o.forEach((l,h)=>{const p=s.get(l);p!==void 0&&Vh(p.mutation,h,wi.empty(),Un.now()),T0(n,h)&&(a=a.insert(l,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ke.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Bs(i.createTime)}}(n)),ke.resolve()}getNamedQuery(e,n){return ke.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:sC(i.bundledQuery),readTime:Bs(i.readTime)}}(n)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.overlays=new mn(it.comparator),this.Ir=new Map}getOverlay(e,n){return ke.resolve(this.overlays.get(n))}getOverlays(e,n){const r=El();return ke.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ke.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ke.resolve()}getOverlaysForCollection(e,n,r){const i=El(),s=n.length+1,o=new it(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,h=l.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ke.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new mn((h,p)=>h-p);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=El(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const a=El(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,p)=>a.set(h,p)),!(a.size()>=i)););return ke.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new DL(n,r));let s=this.Ir.get(n);s===void 0&&(s=Nt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return ke.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.Tr=new rr(Hn.Er),this.dr=new rr(Hn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Hn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Hn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new it(new cn([])),r=new Hn(n,e),i=new Hn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new it(new cn([])),r=new Hn(n,e),i=new Hn(n,e+1);let s=Nt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Hn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Hn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return it.comparator(e.key,n.key)||Ot(e.wr,n.wr)}static Ar(e,n){return Ot(e.wr,n.wr)||it.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rr(Hn.Er)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Hn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ke.resolve(o)}lookupMutationBatch(e,n){return ke.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Hn(n,0),i=new Hn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rr(Ot);return n.forEach(i=>{const s=new Hn(i,0),o=new Hn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),ke.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;it.isDocumentKey(s)||(s=s.child(""));const o=new Hn(new it(s),0);let a=new rr(Ot);return this.br.forEachWhile(l=>{const h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(l.wr)),!0)},o),ke.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){zt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ke.forEach(n.mutations,i=>{const s=new Hn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Hn(n,0),i=this.br.firstAfterOrEqual(r);return ke.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.Mr=e,this.docs=function(){return new mn(it.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ke.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=To();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yr.newInvalidDocument(i))}),ke.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=To();const o=n.path,a=new it(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:p}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||XP(QP(p),r)<=0||(i.has(p.key)||T0(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ke.resolve(s)}getAllFromCollectionGroup(e,n,r,i){mt()}Or(e,n){return ke.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gC(this)}getSize(e){return ke.resolve(this.size)}}class gC extends lC{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ke.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.persistence=e,this.Nr=new Cc(n=>dv(n),pv),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Lr=0,this.Br=new wv,this.targetCount=0,this.kr=wc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ke.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new wc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ke.resolve()}updateTargetData(e,n){return this.Kn(n),ke.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ke.waitFor(s).next(()=>i)}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ke.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ke.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ke.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ke.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ke.resolve(r)}containsKey(e,n){return ke.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new uv(0),this.Kr=!1,this.Kr=!0,this.$r=new dC,this.referenceDelegate=e(this),this.Ur=new vC(this),this.indexManager=new oC,this.remoteDocumentCache=function(i){return new mC(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new iC(n),this.Gr=new hC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new pC(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Xe("MemoryPersistence","Starting transaction:",e);const i=new _C(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ke.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class _C extends JP{constructor(e){super(),this.currentSequenceNumber=e}}class bv{constructor(e){this.persistence=e,this.Jr=new wv,this.Yr=null}static Zr(e){return new bv(e)}get Xr(){if(this.Yr)return this.Yr;throw mt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ke.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ke.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.Xr,r=>{const i=it.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,_t.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ke.or([()=>ke.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Nt(),i=Nt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ev(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return uN()?8:ZP(br())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new wC;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(uh()<=kt.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",Au(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ke.resolve()):(uh()<=kt.DEBUG&&Xe("QueryEngine","Query:",Au(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(uh()<=kt.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",Au(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vs(n))):ke.resolve())}Yi(e,n){if(X_(n))return ke.resolve(null);let r=Vs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ig(n,null,"F"),r=Vs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Nt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const h=this.ts(n,a);return this.ns(n,h,o,l.readTime)?this.Yi(e,Ig(n,null,"F")):this.rs(e,h,n,l)}))})))}Zi(e,n,r,i){return X_(n)||i.isEqual(_t.min())?ke.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ke.resolve(null):(uh()<=kt.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Au(n)),this.rs(e,o,n,KP(i,-1)).next(a=>a))})}ts(e,n){let r=new rr(R3(e));return n.forEach((i,s)=>{T0(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return uh()<=kt.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",Au(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ma.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new mn(Ot),this._s=new Cc(s=>dv(s),pv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function xC(t,e,n,r){return new EC(t,e,n,r)}async function ex(t,e){const n=wt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Nt();for(const h of i){o.push(h.batchId);for(const p of h.mutations)l=l.add(p.key)}for(const h of s){a.push(h.batchId);for(const p of h.mutations)l=l.add(p.key)}return n.localDocuments.getDocuments(r,l).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:a}))})})}function SC(t,e){const n=wt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,h,p){const v=h.batch,_=v.keys();let m=ke.resolve();return _.forEach(A=>{m=m.next(()=>p.getEntry(l,A)).next(N=>{const V=h.docVersions.get(A);zt(V!==null),N.version.compareTo(V)<0&&(v.applyToRemoteDocument(N,h),N.isValidDocument()&&(N.setReadTime(h.commitVersion),p.addEntry(N)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,v))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Nt();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(l=l.add(a.batch.mutations[h].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tx(t){const e=wt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function AC(t,e){const n=wt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((p,v)=>{const _=i.get(v);if(!_)return;a.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,v).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,v)));let m=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?m=m.withResumeToken(sr.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):p.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(p.resumeToken,r)),i=i.insert(v,m),function(N,V,b){return N.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(_,m,p)&&a.push(n.Ur.updateTargetData(s,m))});let l=To(),h=Nt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(IC(s,o,e.documentUpdates).next(p=>{l=p.Ps,h=p.Is})),!r.isEqual(_t.min())){const p=n.Ur.getLastRemoteSnapshotVersion(s).next(v=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return ke.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(n.os=i,s))}function IC(t,e,n){let r=Nt(),i=Nt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=To();return n.forEach((a,l)=>{const h=s.get(a);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_t.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",h.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function TC(t,e){const n=wt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function NC(t,e){const n=wt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ke.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new va(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Lg(t,e,n){const r=wt(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Tf(o))throw o;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function aw(t,e,n){const r=wt(t);let i=_t.min(),s=Nt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,h,p){const v=wt(l),_=v._s.get(p);return _!==void 0?ke.resolve(v.os.get(_)):v.Ur.getTargetData(h,p)}(r,o,Vs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:_t.min(),n?s:Nt())).next(a=>(kC(r,yL(e),a),{documents:a,Ts:s})))}function kC(t,e,n){let r=t.us.get(e)||_t.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class lw{constructor(){this.activeTargetIds=SL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PC{constructor(){this.so=new lw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new lw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld=null;function Z1(){return Ld===null?Ld=function(){return 268435456+Math.round(2147483648*Math.random())}():Ld++,"0x"+Ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class OC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Z1(),l=this.xo(n,r.toUriEncodedString());Xe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,o),this.No(n,l,h,i).then(p=>(Xe("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw gc("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=CC[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Z1();return new Promise((o,a)=>{const l=new g3;l.setWithCredentials(!0),l.listenOnce(v3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rp.NO_ERROR:const p=l.getResponseJson();Xe(hr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case rp.TIMEOUT:Xe(hr,`RPC '${e}' ${s} timed out`),a(new Ze(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case rp.HTTP_ERROR:const v=l.getStatus();if(Xe(hr,`RPC '${e}' ${s} failed with status:`,v,"response text:",l.getResponseText()),v>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);const m=_==null?void 0:_.error;if(m&&m.status&&m.message){const A=function(V){const b=V.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(b)>=0?b:Ne.UNKNOWN}(m.status);a(new Ze(A,m.message))}else a(new Ze(Ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ze(Ne.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{Xe(hr,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);Xe(hr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}Bo(e,n,r){const i=Z1(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=w3(),a=_3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const p=s.join("");Xe(hr,`Creating RPC '${e}' stream ${i}: ${p}`,l);const v=o.createWebChannel(p,l);let _=!1,m=!1;const A=new RC({Io:V=>{m?Xe(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(_||(Xe(hr,`Opening RPC '${e}' stream ${i} transport.`),v.open(),_=!0),Xe(hr,`RPC '${e}' stream ${i} sending:`,V),v.send(V))},To:()=>v.close()}),N=(V,b,I)=>{V.listen(b,M=>{try{I(M)}catch(K){setTimeout(()=>{throw K},0)}})};return N(v,bh.EventType.OPEN,()=>{m||(Xe(hr,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),N(v,bh.EventType.CLOSE,()=>{m||(m=!0,Xe(hr,`RPC '${e}' stream ${i} transport closed`),A.So())}),N(v,bh.EventType.ERROR,V=>{m||(m=!0,gc(hr,`RPC '${e}' stream ${i} transport errored:`,V),A.So(new Ze(Ne.UNAVAILABLE,"The operation could not be completed")))}),N(v,bh.EventType.MESSAGE,V=>{var b;if(!m){const I=V.data[0];zt(!!I);const M=I,K=M.error||((b=M[0])===null||b===void 0?void 0:b.error);if(K){Xe(hr,`RPC '${e}' stream ${i} received error:`,K);const ee=K.status;let oe=function(R){const j=Rn[R];if(j!==void 0)return $3(j)}(ee),C=K.message;oe===void 0&&(oe=Ne.INTERNAL,C="Unknown error status: "+ee+" with message "+K.message),m=!0,A.So(new Ze(oe,C)),v.close()}else Xe(hr,`RPC '${e}' stream ${i} received:`,I),A.bo(I)}}),N(a,y3.STAT_EVENT,V=>{V.stat===bg.PROXY?Xe(hr,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===bg.NOPROXY&&Xe(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){return new $L(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new nx(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Ne.RESOURCE_EXHAUSTED?(Io(n.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ze(Ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DC extends rx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=GL(this.serializer,e),r=function(s){if(!("targetChange"in s))return _t.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_t.min():o.readTime?Bs(o.readTime):_t.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Pg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Ag(l)?{documents:XL(s,l)}:{query:YL(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=G3(s,o.resumeToken);const h=Tg(s,o.expectedCount);h!==null&&(a.expectedCount=h)}else if(o.snapshotVersion.compareTo(_t.min())>0){a.readTime=Qp(s,o.snapshotVersion.toTimestamp());const h=Tg(s,o.expectedCount);h!==null&&(a.expectedCount=h)}return a}(this.serializer,e);const r=ZL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Pg(this.serializer),n.removeTarget=e,this.a_(n)}}class MC extends rx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return zt(!!e.streamToken),this.lastStreamToken=e.streamToken,zt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=QL(e.writeResults,e.commitTime),r=Bs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Pg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>KL(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ze(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ng(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ze(Ne.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ng(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ze(Ne.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class FC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Io(n),this.D_=!1):Xe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{zl(this)&&(Xe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const h=wt(l);h.L_.add(4),await Pf(h),h.q_.set("Unknown"),h.L_.delete(4),await R0(h)}(this))})}),this.q_=new FC(r,i)}}async function R0(t){if(zl(t))for(const e of t.B_)await e(!0)}async function Pf(t){for(const e of t.B_)await e(!1)}function ix(t,e){const n=wt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Iv(n)?Av(n):Rc(n).r_()&&Sv(n,e))}function xv(t,e){const n=wt(t),r=Rc(n);n.N_.delete(e),r.r_()&&sx(n,e),n.N_.size===0&&(r.r_()?r.o_():zl(n)&&n.q_.set("Unknown"))}function Sv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rc(t).A_(e)}function sx(t,e){t.Q_.xe(e),Rc(t).R_(e)}function Av(t){t.Q_=new BL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Rc(t).start(),t.q_.v_()}function Iv(t){return zl(t)&&!Rc(t).n_()&&t.N_.size>0}function zl(t){return wt(t).L_.size===0}function ox(t){t.Q_=void 0}async function BC(t){t.q_.set("Online")}async function UC(t){t.N_.forEach((e,n)=>{Sv(t,e)})}async function qC(t,e){ox(t),Iv(t)?(t.q_.M_(e),Av(t)):t.q_.set("Unknown")}async function zC(t,e,n){if(t.q_.set("Online"),e instanceof W3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xp(t,r)}else if(e instanceof op?t.Q_.Ke(e):e instanceof H3?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_t.min()))try{const r=await tx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){const p=s.N_.get(h);p&&s.N_.set(h,p.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,h)=>{const p=s.N_.get(l);if(!p)return;s.N_.set(l,p.withResumeToken(sr.EMPTY_BYTE_STRING,p.snapshotVersion)),sx(s,l);const v=new va(p.target,l,h,p.sequenceNumber);Sv(s,v)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Xe("RemoteStore","Failed to raise snapshot:",r),await Xp(t,r)}}async function Xp(t,e,n){if(!Tf(e))throw e;t.L_.add(1),await Pf(t),t.q_.set("Offline"),n||(n=()=>tx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Xe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await R0(t)})}function ax(t,e){return e().catch(n=>Xp(t,n,e))}async function O0(t){const e=wt(t),n=Fa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;$C(e);)try{const i=await TC(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,HC(e,i)}catch(i){await Xp(e,i)}lx(e)&&ux(e)}function $C(t){return zl(t)&&t.O_.length<10}function HC(t,e){t.O_.push(e);const n=Fa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function lx(t){return zl(t)&&!Fa(t).n_()&&t.O_.length>0}function ux(t){Fa(t).start()}async function WC(t){Fa(t).p_()}async function GC(t){const e=Fa(t);for(const n of t.O_)e.m_(n.mutations)}async function KC(t,e,n){const r=t.O_.shift(),i=vv.from(r,e,n);await ax(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await O0(t)}async function QC(t,e){e&&Fa(t).V_&&await async function(r,i){if(function(o){return jL(o)&&o!==Ne.ABORTED}(i.code)){const s=r.O_.shift();Fa(r).s_(),await ax(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await O0(r)}}(t,e),lx(t)&&ux(t)}async function cw(t,e){const n=wt(t);n.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const r=zl(n);n.L_.add(3),await Pf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await R0(n)}async function XC(t,e){const n=wt(t);e?(n.L_.delete(2),await R0(n)):e||(n.L_.add(2),await Pf(n),n.q_.set("Unknown"))}function Rc(t){return t.K_||(t.K_=function(n,r,i){const s=wt(n);return s.w_(),new DC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:BC.bind(null,t),Ro:UC.bind(null,t),mo:qC.bind(null,t),d_:zC.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Iv(t)?Av(t):t.q_.set("Unknown")):(await t.K_.stop(),ox(t))})),t.K_}function Fa(t){return t.U_||(t.U_=function(n,r,i){const s=wt(n);return s.w_(),new MC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:WC.bind(null,t),mo:QC.bind(null,t),f_:GC.bind(null,t),g_:KC.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await O0(t)):(await t.U_.stop(),t.O_.length>0&&(Xe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new La,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Tv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nv(t,e){if(Io("AsyncQueue",`${e}: ${t}`),Tf(t))return new Ze(Ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||it.comparator(n.key,r.key):(n,r)=>it.comparator(n.key,r.key),this.keyedMap=Eh(),this.sortedSet=new mn(this.comparator)}static emptySet(e){return new nc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.W_=new mn(it.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):mt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class bc{constructor(e,n,r,i,s,o,a,l,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new bc(e,n,nc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&I0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class JC{constructor(){this.queries=fw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=wt(n),s=i.queries;i.queries=fw(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ze(Ne.ABORTED,"Firestore shutting down"))}}function fw(){return new Cc(t=>C3(t),I0)}async function cx(t,e){const n=wt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new YC,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Nv(o,`Initialization of query '${Au(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&kv(n)}async function hx(t,e){const n=wt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ZC(t,e){const n=wt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&kv(n)}function eR(t,e,n){const r=wt(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function kv(t){t.Y_.forEach(e=>{e.next()})}var Cg,dw;(dw=Cg||(Cg={})).ea="default",dw.Cache="cache";class fx{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Cg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.key=e}}class px{constructor(e){this.key=e}}class tR{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Nt(),this.mutatedKeys=Nt(),this.Aa=R3(e),this.Ra=new nc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new hw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,v)=>{const _=i.get(p),m=T0(this.query,v)?v:null,A=!!_&&this.mutatedKeys.has(_.key),N=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let V=!1;_&&m?_.data.isEqual(m.data)?A!==N&&(r.track({type:3,doc:m}),V=!0):this.ga(_,m)||(r.track({type:2,doc:m}),V=!0,(l&&this.Aa(m,l)>0||h&&this.Aa(m,h)<0)&&(a=!0)):!_&&m?(r.track({type:0,doc:m}),V=!0):_&&!m&&(r.track({type:1,doc:_}),V=!0,(l||h)&&(a=!0)),V&&(m?(o=o.add(m),s=N?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((p,v)=>function(m,A){const N=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return N(m)-N(A)}(p.type,v.type)||this.Aa(p.doc,v.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,h=l!==this.Ea;return this.Ea=l,o.length!==0||h?{snapshot:new bc(this.query,e.Ra,s,o,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Nt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new px(r))}),this.da.forEach(r=>{e.has(r)||n.push(new dx(r))}),n}ba(e){this.Ta=e.Ts,this.da=Nt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return bc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class nR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class rR{constructor(e){this.key=e,this.va=!1}}class iR{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Cc(a=>C3(a),I0),this.Ma=new Map,this.xa=new Set,this.Oa=new mn(it.comparator),this.Na=new Map,this.La=new wv,this.Ba={},this.ka=new Map,this.qa=wc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function sR(t,e,n=!0){const r=wx(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await mx(r,e,n,!0),i}async function oR(t,e){const n=wx(t);await mx(n,e,!0,!1)}async function mx(t,e,n,r){const i=await NC(t.localStore,Vs(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await aR(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ix(t.remoteStore,i),a}async function aR(t,e,n,r,i){t.Ka=(v,_,m)=>async function(N,V,b,I){let M=V.view.ma(b);M.ns&&(M=await aw(N.localStore,V.query,!1).then(({documents:C})=>V.view.ma(C,M)));const K=I&&I.targetChanges.get(V.targetId),ee=I&&I.targetMismatches.get(V.targetId)!=null,oe=V.view.applyChanges(M,N.isPrimaryClient,K,ee);return mw(N,V.targetId,oe.wa),oe.snapshot}(t,v,_,m);const s=await aw(t.localStore,e,!0),o=new tR(e,s.Ts),a=o.ma(s.documents),l=kf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(a,t.isPrimaryClient,l);mw(t,n,h.wa);const p=new nR(e,n,o);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function lR(t,e,n){const r=wt(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!I0(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Lg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&xv(r.remoteStore,i.targetId),Rg(r,i.targetId)}).catch(If)):(Rg(r,i.targetId),await Lg(r.localStore,i.targetId,!0))}async function uR(t,e){const n=wt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xv(n.remoteStore,r.targetId))}async function cR(t,e,n){const r=vR(t);try{const i=await function(o,a){const l=wt(o),h=Un.now(),p=a.reduce((m,A)=>m.add(A.key),Nt());let v,_;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let A=To(),N=Nt();return l.cs.getEntries(m,p).next(V=>{A=V,A.forEach((b,I)=>{I.isValidDocument()||(N=N.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,A)).next(V=>{v=V;const b=[];for(const I of a){const M=CL(I,v.get(I.key).overlayedDocument);M!=null&&b.push(new Ha(I.key,M,A3(M.value.mapValue),Lr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,h,b,a)}).next(V=>{_=V;const b=V.applyToLocalDocumentSet(v,N);return l.documentOverlayCache.saveOverlays(m,V.batchId,b)})}).then(()=>({batchId:_.batchId,changes:D3(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let h=o.Ba[o.currentUser.toKey()];h||(h=new mn(Ot)),h=h.insert(a,l),o.Ba[o.currentUser.toKey()]=h}(r,i.batchId,n),await Lf(r,i.changes),await O0(r.remoteStore)}catch(i){const s=Nv(i,"Failed to persist write");n.reject(s)}}async function gx(t,e){const n=wt(t);try{const r=await AC(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(zt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?zt(o.va):i.removedDocuments.size>0&&(zt(o.va),o.va=!1))}),await Lf(n,r,e)}catch(r){await If(r)}}function pw(t,e,n){const r=wt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=wt(o);l.onlineState=a;let h=!1;l.queries.forEach((p,v)=>{for(const _ of v.j_)_.Z_(a)&&(h=!0)}),h&&kv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hR(t,e,n){const r=wt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new mn(it.comparator);o=o.insert(s,yr.newNoDocument(s,_t.min()));const a=Nt().add(s),l=new L0(_t.min(),new Map,new mn(Ot),o,a);await gx(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Pv(r)}else await Lg(r.localStore,e,!1).then(()=>Rg(r,e,n)).catch(If)}async function fR(t,e){const n=wt(t),r=e.batch.batchId;try{const i=await SC(n.localStore,e);yx(n,r,null),vx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lf(n,i)}catch(i){await If(i)}}async function dR(t,e,n){const r=wt(t);try{const i=await function(o,a){const l=wt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return l.mutationQueue.lookupMutationBatch(h,a).next(v=>(zt(v!==null),p=v.keys(),l.mutationQueue.removeMutationBatch(h,v))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,p,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>l.localDocuments.getDocuments(h,p))})}(r.localStore,e);yx(r,e,n),vx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lf(r,i)}catch(i){await If(i)}}function vx(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function yx(t,e,n){const r=wt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Rg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||_x(t,r)})}function _x(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(xv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Pv(t))}function mw(t,e,n){for(const r of n)r instanceof dx?(t.La.addReference(r.key,e),pR(t,r)):r instanceof px?(Xe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||_x(t,r.key)):mt()}function pR(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Xe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Pv(t))}function Pv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new it(cn.fromString(e)),r=t.qa.next();t.Na.set(r,new rR(n)),t.Oa=t.Oa.insert(n,r),ix(t.remoteStore,new va(Vs(mv(n.path)),r,"TargetPurposeLimboResolution",uv.oe))}}async function Lf(t,e,n){const r=wt(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const v=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(l.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(l.targetId,v?"current":"not-current")}if(h){i.push(h);const v=Ev.Wi(l.targetId,h);s.push(v)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,h){const p=wt(l);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ke.forEach(h,_=>ke.forEach(_.$i,m=>p.persistence.referenceDelegate.addReference(v,_.targetId,m)).next(()=>ke.forEach(_.Ui,m=>p.persistence.referenceDelegate.removeReference(v,_.targetId,m)))))}catch(v){if(!Tf(v))throw v;Xe("LocalStore","Failed to update sequence numbers: "+v)}for(const v of h){const _=v.targetId;if(!v.fromCache){const m=p.os.get(_),A=m.snapshotVersion,N=m.withLastLimboFreeSnapshotVersion(A);p.os=p.os.insert(_,N)}}}(r.localStore,s))}async function mR(t,e){const n=wt(t);if(!n.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const r=await ex(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ze(Ne.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lf(n,r.hs)}}function gR(t,e){const n=wt(t),r=n.Na.get(e);if(r&&r.va)return Nt().add(r.key);{let i=Nt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function wx(t){const e=wt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hR.bind(null,e),e.Ca.d_=ZC.bind(null,e.eventManager),e.Ca.$a=eR.bind(null,e.eventManager),e}function vR(t){const e=wt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dR.bind(null,e),e}class Yp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=C0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return xC(this.persistence,new bC,e.initialUser,this.serializer)}Ga(e){return new yC(bv.Zr,this.serializer)}Wa(e){return new PC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yp.provider={build:()=>new Yp};class Og{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mR.bind(null,this.syncEngine),await XC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JC}()}createDatastore(e){const n=C0(e.databaseInfo.databaseId),r=function(s){return new OC(s)}(e.databaseInfo);return function(s,o,a,l){return new jC(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new VC(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>pw(this.syncEngine,n,0),function(){return uw.D()?new uw:new LC}())}createSyncEngine(e,n){return function(i,s,o,a,l,h,p){const v=new iR(i,s,o,a,l,h);return p&&(v.Qa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=wt(i);Xe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Pf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Og.provider={build:()=>new Og};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Io("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gr.UNAUTHENTICATED,this.clientId=E3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Xe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Xe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new La;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tm(t,e){t.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ex(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _R(t);Xe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cw(e.remoteStore,i)),t._onlineComponents=e}async function _R(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Xe("FirestoreClient","Using user provided OfflineComponentProvider");try{await tm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ne.FAILED_PRECONDITION||i.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;gc("Error using user provided cache. Falling back to memory cache: "+n),await tm(t,new Yp)}}else Xe("FirestoreClient","Using default OfflineComponentProvider"),await tm(t,new Yp);return t._offlineComponents}async function Ex(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Xe("FirestoreClient","Using user provided OnlineComponentProvider"),await gw(t,t._uninitializedComponentsProvider._online)):(Xe("FirestoreClient","Using default OnlineComponentProvider"),await gw(t,new Og))),t._onlineComponents}function wR(t){return Ex(t).then(e=>e.syncEngine)}async function Dg(t){const e=await Ex(t),n=e.eventManager;return n.onListen=sR.bind(null,e.syncEngine),n.onUnlisten=lR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uR.bind(null,e.syncEngine),n}function bR(t,e,n={}){const r=new La;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,h){const p=new bx({next:_=>{p.Za(),o.enqueueAndForget(()=>hx(s,v)),_.fromCache&&l.source==="server"?h.reject(new Ze(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),v=new fx(a,p,{includeMetadataChanges:!0,_a:!0});return cx(s,v)}(await Dg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t,e,n){if(!n)throw new Ze(Ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ER(t,e,n,r){if(e===!0&&r===!0)throw new Ze(Ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yw(t){if(!it.isDocumentKey(t))throw new Ze(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _w(t){if(it.isDocumentKey(t))throw new Ze(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":mt()}function xi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ze(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lv(t);throw new Ze(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ze(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ze(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ER("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ze(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ze(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ze(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class D0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ww({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ze(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ww(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VP;switch(r.type){case"firstParty":return new zP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ze(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=vw.get(n);r&&(Xe("ComponentProvider","Removing Datastore"),vw.delete(n),r.terminate())}(this),Promise.resolve()}}function xR(t,e,n,r={}){var i;const s=(t=xi(t,D0))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=gr.MOCK_USER;else{a=nN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Ze(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new gr(h)}t._authCredentials=new BP(new b3(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cf(this.firestore,e,this._query)}}class ei{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ei(this.firestore,e,this._key)}}class Ca extends Cf{constructor(e,n,r){super(e,n,mv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ei(this.firestore,null,new it(e))}withConverter(e){return new Ca(this.firestore,e,this._path)}}function Ls(t,e,...n){if(t=Dn(t),Sx("collection","path",e),t instanceof D0){const r=cn.fromString(e,...n);return _w(r),new Ca(t,null,r)}{if(!(t instanceof ei||t instanceof Ca))throw new Ze(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(cn.fromString(e,...n));return _w(r),new Ca(t.firestore,null,r)}}function xl(t,e,...n){if(t=Dn(t),arguments.length===1&&(e=E3.newId()),Sx("doc","path",e),t instanceof D0){const r=cn.fromString(e,...n);return yw(r),new ei(t,null,new it(r))}{if(!(t instanceof ei||t instanceof Ca))throw new Ze(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(cn.fromString(e,...n));return yw(r),new ei(t.firestore,t instanceof Ca?t.converter:null,new it(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new nx(this,"async_queue_retry"),this.Vu=()=>{const r=em();r&&Xe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new La;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Tf(e))throw e;Xe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Io("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Tv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&mt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Ew(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class No extends D0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new bw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bw(e),this._firestoreClient=void 0,await e}}}function SR(t,e){const n=typeof t=="object"?t:R4(),r=typeof t=="string"?t:e||"(default)",i=J2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=eN("firestore");s&&xR(i,...s)}return i}function M0(t){if(t._terminated)throw new Ze(Ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AR(t),t._firestoreClient}function AR(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,h,p){return new nL(a,l,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,xx(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new yR(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ec(sr.fromBase64String(e))}catch(n){throw new Ze(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ec(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ze(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ze(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ze(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=/^__.*__$/;class TR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nf(e,this.data,n,this.fieldTransforms)}}class Ax{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ha(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ix(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class Ov{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ov(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Ix(this.Cu)&&IR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class NR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||C0(e)}Qu(e,n,r,i=!1){return new Ov({Cu:e,methodName:n,qu:r,path:tr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F0(t){const e=t._freezeSettings(),n=C0(t._databaseId);return new NR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dv(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);jv("Data must be an object, but it was:",o,r);const a=kx(r,o);let l,h;if(s.merge)l=new wi(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const v of s.mergeFields){const _=Mg(e,v,n);if(!o.contains(_))throw new Ze(Ne.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Lx(p,_)||p.push(_)}l=new wi(p),h=o.fieldTransforms.filter(v=>l.covers(v.field))}else l=null,h=o.fieldTransforms;return new TR(new Qr(a),l,h)}class V0 extends j0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof V0}}class Mv extends j0{_toFieldTransform(e){return new NL(e.path,new ff)}isEqual(e){return e instanceof Mv}}function Tx(t,e,n,r){const i=t.Qu(1,e,n);jv("Data must be an object, but it was:",i,r);const s=[],o=Qr.empty();ql(r,(l,h)=>{const p=Fv(e,l,n);h=Dn(h);const v=i.Nu(p);if(h instanceof V0)s.push(p);else{const _=B0(h,v);_!=null&&(s.push(p),o.set(p,_))}});const a=new wi(s);return new Ax(o,a,i.fieldTransforms)}function Nx(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Mg(e,r,n)],l=[i];if(s.length%2!=0)throw new Ze(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)a.push(Mg(e,s[_])),l.push(s[_+1]);const h=[],p=Qr.empty();for(let _=a.length-1;_>=0;--_)if(!Lx(h,a[_])){const m=a[_];let A=l[_];A=Dn(A);const N=o.Nu(m);if(A instanceof V0)h.push(m);else{const V=B0(A,N);V!=null&&(h.push(m),p.set(m,V))}}const v=new wi(h);return new Ax(p,v,o.fieldTransforms)}function B0(t,e){if(Px(t=Dn(t)))return jv("Unsupported field value:",e,t),kx(t,e);if(t instanceof j0)return function(r,i){if(!Ix(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=B0(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Un.fromDate(r);return{timestampValue:Qp(i.serializer,s)}}if(r instanceof Un){const s=new Un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qp(i.serializer,s)}}if(r instanceof Cv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ec)return{bytesValue:G3(i.serializer,r._byteString)};if(r instanceof ei){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:_v(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Rv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return gv(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Lv(r)}`)}(t,e)}function kx(t,e){const n={};return x3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ql(t,(r,i)=>{const s=B0(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Px(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Un||t instanceof Cv||t instanceof Ec||t instanceof ei||t instanceof j0||t instanceof Rv)}function jv(t,e,n){if(!Px(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Lv(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Mg(t,e,n){if((e=Dn(e))instanceof Rf)return e._internalPath;if(typeof e=="string")return Fv(t,e);throw Jp("Field path arguments must be of type string or ",t,!1,void 0,n)}const kR=new RegExp("[~\\*/\\[\\]]");function Fv(t,e,n){if(e.search(kR)>=0)throw Jp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rf(...e.split("."))._internalPath}catch{throw Jp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ze(Ne.INVALID_ARGUMENT,a+t+l)}function Lx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PR extends Cx{data(){return super.data()}}function Rx(t,e){return typeof e=="string"?Fv(t,e):e instanceof Rf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ze(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LR{convertValue(e,n="none"){switch(Fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return An(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw mt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ql(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>An(o.doubleValue));return new Rv(s)}convertGeoPoint(e){return new Cv(An(e.latitude),An(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uf(e));default:return null}}convertTimestamp(e){const n=ja(e);return new Un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=cn.fromString(e);zt(Z3(r));const i=new cf(r.get(1),r.get(3)),s=new it(r.popFirst(5));return i.isEqual(n)||Io(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dx extends Cx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ap extends Dx{data(e={}){return super.data(e)}}class Mx{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ap(this._firestore,this._userDataWriter,r.key,r,new Sh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ze(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ap(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ap(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return a.type!==0&&(h=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:CR(a.type),doc:l,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}class Bv extends LR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,n)}}function jx(t){t=xi(t,Cf);const e=xi(t.firestore,No),n=M0(e),r=new Bv(e);return Ox(t._query),bR(n,t._query).then(i=>new Mx(e,r,t,i))}function RR(t,e,n){t=xi(t,ei);const r=xi(t.firestore,No),i=Vv(t.converter,e,n);return Of(r,[Dv(F0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Lr.none())])}function xw(t,e,n,...r){t=xi(t,ei);const i=xi(t.firestore,No),s=F0(i);let o;return o=typeof(e=Dn(e))=="string"||e instanceof Rf?Nx(s,"updateDoc",t._key,e,n,r):Tx(s,"updateDoc",t._key,e),Of(i,[o.toMutation(t._key,Lr.exists(!0))])}function OR(t){return Of(xi(t.firestore,No),[new P0(t._key,Lr.none())])}function Sw(t,e){const n=xi(t.firestore,No),r=xl(t),i=Vv(t.converter,e);return Of(n,[Dv(F0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Lr.exists(!1))]).then(()=>r)}function nm(t,...e){var n,r,i;t=Dn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Ew(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Ew(e[o])){const v=e[o];e[o]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[o+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[o+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let l,h,p;if(t instanceof ei)h=xi(t.firestore,No),p=mv(t._key.path),l={next:v=>{e[o]&&e[o](DR(h,t,v))},error:e[o+1],complete:e[o+2]};else{const v=xi(t,Cf);h=xi(v.firestore,No),p=v._query;const _=new Bv(h);l={next:m=>{e[o]&&e[o](new Mx(h,_,v,m))},error:e[o+1],complete:e[o+2]},Ox(t._query)}return function(_,m,A,N){const V=new bx(N),b=new fx(m,V,A);return _.asyncQueue.enqueueAndForget(async()=>cx(await Dg(_),b)),()=>{V.Za(),_.asyncQueue.enqueueAndForget(async()=>hx(await Dg(_),b))}}(M0(h),p,a,l)}function Of(t,e){return function(r,i){const s=new La;return r.asyncQueue.enqueueAndForget(async()=>cR(await wR(r),i,s)),s.promise}(M0(t),e)}function DR(t,e,n){const r=n.docs.get(e._key),i=new Bv(t);return new Dx(t,i,e._key,r,new Sh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=F0(e)}set(e,n,r){this._verifyNotCommitted();const i=rm(e,this._firestore),s=Vv(i.converter,n,r),o=Dv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Lr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=rm(e,this._firestore);let o;return o=typeof(n=Dn(n))=="string"||n instanceof Rf?Nx(this._dataReader,"WriteBatch.update",s._key,n,r,i):Tx(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Lr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=rm(e,this._firestore);return this._mutations=this._mutations.concat(new P0(n._key,Lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ze(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rm(t,e){if((t=Dn(t)).firestore!==e)throw new Ze(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Nu(){return new Mv("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){return M0(t=xi(t,No)),new MR(t,e=>Of(t,e))}(function(e,n=!0){(function(i){Lc=i})(Nc),pc(new Ol("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new No(new UP(r.getProvider("auth-internal")),new HP(r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ze(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cf(h.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ka(B_,"4.7.3",e),ka(B_,"4.7.3","esm2017")})();var FR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const VR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BR=(t,e)=>{const n=Ye.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},h)=>Ye.createElement("svg",{ref:h,...FR,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${VR(t)}`,...l},[...e.map(([p,v])=>Ye.createElement(p,v)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n};var ti=BR;const Zp=ti("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ku=ti("Box",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Uv=ti("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),UR=ti("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),qR=ti("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),zR=ti("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),$R=ti("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Aw=ti("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),HR=ti("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),jg=ti("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),WR=ti("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),GR=ti("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),KR=ti("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),qv=ti("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),QR=t=>{const[e,n]=Ye.useState(!1),[r,i]=Ye.useState(""),[s,o]=Ye.useState(Date.now());return Ye.useEffect(()=>{if(!e)return;const a=l=>{const h=Date.now();h-s>50&&i(""),o(h),(l.key.length===1||l.key==="Enter")&&(l.key==="Enter"?r.length>0&&(t(r),i("")):i(p=>p+l.key),l.preventDefault())};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e,r,s,t]),{startListening:()=>n(!0),stopListening:()=>n(!1),isListening:e}},XR=({items:t,onSave:e,onUpdateStock:n})=>{const[r,i]=Ye.useState(!1),[s,o]=Ye.useState(null),[a,l]=Ye.useState(null),[h,p]=Ye.useState(!1),[v,_]=Ye.useState(""),[m,A]=Ye.useState("info"),[N,V]=Ye.useState(1),[b,I]=Ye.useState("select-mode"),M=E=>{try{if(b!=="scan-item"){C("Por favor, seleccione primero una operación","info");return}const T=E.replace(/'/g,"-").trim(),k=t.find(W=>W.code===T);if(!k){console.error("Códigos disponibles en el inventario:",t.map(W=>W.code)),C(`Producto no encontrado en el inventario. Código escaneado: ${T}`,"error");return}l(k),I("enter-quantity"),C(`Producto encontrado: ${k.name}. Ingrese la cantidad.`,"success")}catch(T){console.error("Error al procesar el código:",T),C("Error al procesar el código de barras","error")}},{startListening:K,stopListening:ee,isListening:oe}=QR(M),C=(E,T)=>{_(E),A(T),p(!0),setTimeout(()=>p(!1),3e3)},S=E=>{o(E),I("scan-item"),C(`Modo ${E==="add"?"agregar":"retirar"} activado. Escanee el producto.`,"info")},R=async()=>{if(!(!a||!s))try{const E=s==="add"?a.quantity+N:a.quantity-N;if(E<0){C("No hay suficiente stock para retirar esa cantidad","error");return}await n(a.id,E,s,N),C(`Stock ${s==="add"?"agregado":"retirado"} exitosamente`,"success"),j()}catch{C("Error al actualizar el stock","error")}},j=()=>{o(null),l(null),V(1),I("select-mode")};return Ye.useEffect(()=>{r?K():(ee(),j())},[r]),q.jsxs("div",{className:"p-6 space-y-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Módulo de Escaneo"}),q.jsxs("button",{onClick:()=>i(!r),className:`flex items-center px-4 py-2 rounded-md ${r?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"} transition-colors duration-200`,children:[q.jsx(jg,{className:"w-5 h-5 mr-2"}),r?"Detener Escaneo":"Iniciar Escaneo"]})]}),r&&q.jsxs("div",{className:"space-y-4",children:[b==="select-mode"&&q.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[q.jsxs("button",{onClick:()=>S("add"),className:"flex items-center justify-center p-4 bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300 rounded-lg hover:bg-green-200 dark:hover:bg-green-800/50",children:[q.jsx(HR,{className:"w-6 h-6 mr-2"}),"Agregar Productos"]}),q.jsxs("button",{onClick:()=>S("remove"),className:"flex items-center justify-center p-4 bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-800/50",children:[q.jsx(zR,{className:"w-6 h-6 mr-2"}),"Retirar Productos"]})]}),b==="scan-item"&&q.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[q.jsxs("div",{className:"text-center",children:[q.jsx(jg,{className:"w-12 h-12 mx-auto mb-4 text-blue-500"}),q.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Escanee el código de barras del producto"}),q.jsxs("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:["Modo: ",s==="add"?"Agregar":"Retirar"," productos"]})]}),q.jsx("button",{onClick:j,className:"mt-4 w-full py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:"Cambiar modo"})]}),b==="enter-quantity"&&a&&q.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:q.jsxs("div",{className:"space-y-4",children:[q.jsxs("div",{children:[q.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:a.name}),q.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Stock actual: ",a.quantity]})]}),q.jsxs("div",{children:[q.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Cantidad a ",s==="add"?"agregar":"retirar"]}),q.jsx("input",{type:"number",min:"1",value:N,onChange:E=>V(Math.max(1,parseInt(E.target.value)||0)),className:"mt-1 block w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:text-white"})]}),q.jsxs("div",{className:"flex space-x-3",children:[q.jsx("button",{onClick:R,className:"flex-1 py-2 px-4 text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Confirmar"}),q.jsx("button",{onClick:j,className:"flex-1 py-2 px-4 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500",children:"Cancelar"})]})]})})]}),h&&q.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-lg shadow-lg ${m==="success"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":m==="error"?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"} transition-all duration-300`,children:q.jsxs("div",{className:"flex items-center",children:[m==="success"?q.jsx(Uv,{className:"w-5 h-5 mr-2"}):m==="error"?q.jsx(KR,{className:"w-5 h-5 mr-2"}):q.jsx(Zp,{className:"w-5 h-5 mr-2"}),q.jsx("p",{children:v})]})})]})};var zv={},U0={},Or={};Object.defineProperty(Or,"__esModule",{value:!0});function YR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var JR=function t(e,n){YR(this,t),this.data=e,this.text=n.text||e,this.options=n};Or.default=JR;Object.defineProperty(U0,"__esModule",{value:!0});U0.CODE39=void 0;var ZR=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),eO=Or,tO=nO(eO);function nO(t){return t&&t.__esModule?t:{default:t}}function rO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function sO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var oO=function(t){sO(e,t);function e(n,r){return rO(this,e),n=n.toUpperCase(),r.mod43&&(n+=uO(cO(n))),iO(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return ZR(e,[{key:"encode",value:function(){for(var r=im("*"),i=0;i<this.data.length;i++)r+=im(this.data[i])+"0";return r+=im("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(tO.default),Fx=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],aO=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function im(t){return lO(Vx(t))}function lO(t){return aO[t].toString(2)}function uO(t){return Fx[t]}function Vx(t){return Fx.indexOf(t)}function cO(t){for(var e=0,n=0;n<t.length;n++)e+=Vx(t[n]);return e=e%43,e}U0.CODE39=oO;var Rs={},$v={},Oc={},ln={};Object.defineProperty(ln,"__esModule",{value:!0});var ch;function sm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bx=ln.SET_A=0,Ux=ln.SET_B=1,qx=ln.SET_C=2;ln.SHIFT=98;var hO=ln.START_A=103,fO=ln.START_B=104,dO=ln.START_C=105;ln.MODULO=103;ln.STOP=106;ln.FNC1=207;ln.SET_BY_CODE=(ch={},sm(ch,hO,Bx),sm(ch,fO,Ux),sm(ch,dO,qx),ch);ln.SWAP={101:Bx,100:Ux,99:qx};ln.A_START_CHAR=String.fromCharCode(208);ln.B_START_CHAR=String.fromCharCode(209);ln.C_START_CHAR=String.fromCharCode(210);ln.A_CHARS="[\0-_È-Ï]";ln.B_CHARS="[ -È-Ï]";ln.C_CHARS="(Ï*[0-9]{2}Ï*)";ln.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(Oc,"__esModule",{value:!0});var pO=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),mO=Or,gO=vO(mO),gi=ln;function vO(t){return t&&t.__esModule?t:{default:t}}function yO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _O(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bO=function(t){wO(e,t);function e(n,r){yO(this,e);var i=_O(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return i.bytes=n.split("").map(function(s){return s.charCodeAt(0)}),i}return pO(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,s=gi.SET_BY_CODE[i];if(s===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(gi.FNC1);var o=e.next(r,1,s);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+o.result+e.getBar((o.checksum+i)%gi.MODULO)+e.getBar(gi.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return gi.BARS[r]?gi.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===gi.SET_A){var s=r.shift();return s<32?s+64:s-32}else return i===gi.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,i,s){if(!r.length)return{result:"",checksum:0};var o=void 0,a=void 0;if(r[0]>=200){a=r.shift()-105;var l=gi.SWAP[a];l!==void 0?o=e.next(r,i+1,l):((s===gi.SET_A||s===gi.SET_B)&&a===gi.SHIFT&&(r[0]=s===gi.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),o=e.next(r,i+1,s))}else a=e.correctIndex(r,s),o=e.next(r,i+1,s);var h=e.getBar(a),p=a*i;return{result:h+o.result,checksum:p+o.checksum}}}]),e}(gO.default);Oc.default=bO;var Hv={};Object.defineProperty(Hv,"__esModule",{value:!0});var Ra=ln,zx=function(e){return e.match(new RegExp("^"+Ra.A_CHARS+"*"))[0].length},$x=function(e){return e.match(new RegExp("^"+Ra.B_CHARS+"*"))[0].length},Hx=function(e){return e.match(new RegExp("^"+Ra.C_CHARS+"*"))[0]};function Wv(t,e){var n=e?Ra.A_CHARS:Ra.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+String.fromCharCode(204)+Wx(t.substring(r[1].length));var i=t.match(new RegExp("^"+n+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+Wv(t.substring(i.length),!e)}function Wx(t){var e=Hx(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=zx(t)>=$x(t);return e+String.fromCharCode(r?206:205)+Wv(t,r)}Hv.default=function(t){var e=void 0,n=Hx(t).length;if(n>=2)e=Ra.C_START_CHAR+Wx(t);else{var r=zx(t)>$x(t);e=(r?Ra.A_START_CHAR:Ra.B_START_CHAR)+Wv(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,s){return String.fromCharCode(203)+s})};Object.defineProperty($v,"__esModule",{value:!0});var EO=Oc,xO=Gx(EO),SO=Hv,AO=Gx(SO);function Gx(t){return t&&t.__esModule?t:{default:t}}function IO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function om(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function TO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var NO=function(t){TO(e,t);function e(n,r){if(IO(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var i=om(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,AO.default)(n),r));else var i=om(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return om(i)}return e}(xO.default);$v.default=NO;var Gv={};Object.defineProperty(Gv,"__esModule",{value:!0});var kO=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),PO=Oc,LO=CO(PO),Iw=ln;function CO(t){return t&&t.__esModule?t:{default:t}}function RO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function DO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var MO=function(t){DO(e,t);function e(n,r){return RO(this,e),OO(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Iw.A_START_CHAR+n,r))}return kO(e,[{key:"valid",value:function(){return new RegExp("^"+Iw.A_CHARS+"+$").test(this.data)}}]),e}(LO.default);Gv.default=MO;var Kv={};Object.defineProperty(Kv,"__esModule",{value:!0});var jO=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),FO=Oc,VO=BO(FO),Tw=ln;function BO(t){return t&&t.__esModule?t:{default:t}}function UO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $O=function(t){zO(e,t);function e(n,r){return UO(this,e),qO(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Tw.B_START_CHAR+n,r))}return jO(e,[{key:"valid",value:function(){return new RegExp("^"+Tw.B_CHARS+"+$").test(this.data)}}]),e}(VO.default);Kv.default=$O;var Qv={};Object.defineProperty(Qv,"__esModule",{value:!0});var HO=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),WO=Oc,GO=KO(WO),Nw=ln;function KO(t){return t&&t.__esModule?t:{default:t}}function QO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function YO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var JO=function(t){YO(e,t);function e(n,r){return QO(this,e),XO(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Nw.C_START_CHAR+n,r))}return HO(e,[{key:"valid",value:function(){return new RegExp("^"+Nw.C_CHARS+"+$").test(this.data)}}]),e}(GO.default);Qv.default=JO;Object.defineProperty(Rs,"__esModule",{value:!0});Rs.CODE128C=Rs.CODE128B=Rs.CODE128A=Rs.CODE128=void 0;var ZO=$v,e8=q0(ZO),t8=Gv,n8=q0(t8),r8=Kv,i8=q0(r8),s8=Qv,o8=q0(s8);function q0(t){return t&&t.__esModule?t:{default:t}}Rs.CODE128=e8.default;Rs.CODE128A=n8.default;Rs.CODE128B=i8.default;Rs.CODE128C=o8.default;var Kr={},Xv={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.SIDE_BIN="101";Ki.MIDDLE_BIN="01010";Ki.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};Ki.EAN2_STRUCTURE=["LL","LG","GL","GG"];Ki.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];Ki.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var z0={},$l={};Object.defineProperty($l,"__esModule",{value:!0});var a8=Ki,l8=function(e,n,r){var i=e.split("").map(function(o,a){return a8.BINARIES[n[a]]}).map(function(o,a){return o?o[e[a]]:""});if(r){var s=e.length-1;i=i.map(function(o,a){return a<s?o+r:o})}return i.join("")};$l.default=l8;Object.defineProperty(z0,"__esModule",{value:!0});var u8=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wu=Ki,c8=$l,kw=Kx(c8),h8=Or,f8=Kx(h8);function Kx(t){return t&&t.__esModule?t:{default:t}}function d8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p8(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function m8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g8=function(t){m8(e,t);function e(n,r){d8(this,e);var i=p8(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return u8(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,kw.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,kw.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:wu.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:wu.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:wu.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var r=[wu.SIDE_BIN,this.leftEncode(),wu.MIDDLE_BIN,this.rightEncode(),wu.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e}(f8.default);z0.default=g8;Object.defineProperty(Xv,"__esModule",{value:!0});var v8=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),hh=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:t(s,n,r)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(r)}},y8=Ki,_8=z0,w8=b8(_8);function b8(t){return t&&t.__esModule?t:{default:t}}function E8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x8(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function S8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pw=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,s){return s%2?r+i*3:r+i},0);return(10-n%10)%10},A8=function(t){S8(e,t);function e(n,r){E8(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=Pw(n));var i=x8(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.lastChar=r.lastChar,i}return v8(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===Pw(this.data)}},{key:"leftText",value:function(){return hh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=y8.EAN13_STRUCTURE[this.data[0]];return hh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return hh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return hh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=hh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(w8.default);Xv.default=A8;var Yv={};Object.defineProperty(Yv,"__esModule",{value:!0});var I8=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Cd=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:t(s,n,r)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(r)}},T8=z0,N8=k8(T8);function k8(t){return t&&t.__esModule?t:{default:t}}function P8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L8(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function C8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Lw=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,s){return s%2?r+i:r+i*3},0);return(10-n%10)%10},R8=function(t){C8(e,t);function e(n,r){return P8(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=Lw(n)),L8(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return I8(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===Lw(this.data)}},{key:"leftText",value:function(){return Cd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return Cd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return Cd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return Cd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(N8.default);Yv.default=R8;var Jv={};Object.defineProperty(Jv,"__esModule",{value:!0});var O8=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),D8=Ki,M8=$l,j8=Qx(M8),F8=Or,V8=Qx(F8);function Qx(t){return t&&t.__esModule?t:{default:t}}function B8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U8(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function q8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var z8=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,i,s){return s%2?r+i*9:r+i*3},0);return n%10},$8=function(t){q8(e,t);function e(n,r){return B8(this,e),U8(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return O8(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=D8.EAN5_STRUCTURE[z8(this.data)];return{data:"1011"+(0,j8.default)(this.data,r,"01"),text:this.text}}}]),e}(V8.default);Jv.default=$8;var Zv={};Object.defineProperty(Zv,"__esModule",{value:!0});var H8=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),W8=Ki,G8=$l,K8=Xx(G8),Q8=Or,X8=Xx(Q8);function Xx(t){return t&&t.__esModule?t:{default:t}}function Y8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J8(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Z8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var e7=function(t){Z8(e,t);function e(n,r){return Y8(this,e),J8(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return H8(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=W8.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,K8.default)(this.data,r,"01"),text:this.text}}}]),e}(X8.default);Zv.default=e7;var Df={};Object.defineProperty(Df,"__esModule",{value:!0});var t7=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Df.checksum=Fg;var n7=$l,bu=Yx(n7),r7=Or,i7=Yx(r7);function Yx(t){return t&&t.__esModule?t:{default:t}}function s7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function a7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l7=function(t){a7(e,t);function e(n,r){s7(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=Fg(n));var i=o7(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return t7(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Fg(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,bu.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,bu.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,bu.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,bu.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,bu.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,bu.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(i7.default);function Fg(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}Df.default=l7;var ey={};Object.defineProperty(ey,"__esModule",{value:!0});var u7=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c7=$l,h7=Jx(c7),f7=Or,d7=Jx(f7),p7=Df;function Jx(t){return t&&t.__esModule?t:{default:t}}function m7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function am(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function g7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v7=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],y7=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],_7=function(t){g7(e,t);function e(n,r){m7(this,e);var i=am(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(i.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)i.middleDigits=n,i.upcA=Cw(n,"0"),i.text=r.text||""+i.upcA[0]+n+i.upcA[i.upcA.length-1],i.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=n.substring(1,n.length-1),i.upcA=Cw(i.middleDigits,n[0]),i.upcA[i.upcA.length-1]===n[n.length-1])i.isValid=!0;else return am(i);else return am(i);return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return u7(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],i=this.upcA[this.upcA.length-1],s=y7[parseInt(i)][parseInt(r)];return(0,h7.default)(this.middleDigits,s)}}]),e}(d7.default);function Cw(t,e){for(var n=parseInt(t[t.length-1]),r=v7[n],i="",s=0,o=0;o<r.length;o++){var a=r[o];a==="X"?i+=t[s++]:i+=a}return i=""+e+i,""+i+(0,p7.checksum)(i)}ey.default=_7;Object.defineProperty(Kr,"__esModule",{value:!0});Kr.UPCE=Kr.UPC=Kr.EAN2=Kr.EAN5=Kr.EAN8=Kr.EAN13=void 0;var w7=Xv,b7=Dc(w7),E7=Yv,x7=Dc(E7),S7=Jv,A7=Dc(S7),I7=Zv,T7=Dc(I7),N7=Df,k7=Dc(N7),P7=ey,L7=Dc(P7);function Dc(t){return t&&t.__esModule?t:{default:t}}Kr.EAN13=b7.default;Kr.EAN8=x7.default;Kr.EAN5=A7.default;Kr.EAN2=T7.default;Kr.UPC=k7.default;Kr.UPCE=L7.default;var xc={},$0={},Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});Mf.START_BIN="1010";Mf.END_BIN="11101";Mf.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty($0,"__esModule",{value:!0});var C7=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Rd=Mf,R7=Or,O7=D7(R7);function D7(t){return t&&t.__esModule?t:{default:t}}function M7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function F7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var V7=function(t){F7(e,t);function e(){return M7(this,e),j7(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return C7(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(s){return r.encodePair(s)}).join("");return{data:Rd.START_BIN+i+Rd.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=Rd.BINARIES[r[1]];return Rd.BINARIES[r[0]].split("").map(function(s,o){return(s==="1"?"111":"1")+(i[o]==="1"?"000":"0")}).join("")}}]),e}(O7.default);$0.default=V7;var ty={};Object.defineProperty(ty,"__esModule",{value:!0});var B7=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),U7=$0,q7=z7(U7);function z7(t){return t&&t.__esModule?t:{default:t}}function $7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function W7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Rw=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,s){return r+i*(3-s%2*2)},0);return Math.ceil(n/10)*10-n},G7=function(t){W7(e,t);function e(n,r){return $7(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=Rw(n)),H7(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return B7(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===Rw(this.data)}}]),e}(q7.default);ty.default=G7;Object.defineProperty(xc,"__esModule",{value:!0});xc.ITF14=xc.ITF=void 0;var K7=$0,Q7=Zx(K7),X7=ty,Y7=Zx(X7);function Zx(t){return t&&t.__esModule?t:{default:t}}xc.ITF=Q7.default;xc.ITF14=Y7.default;var zi={},Hl={};Object.defineProperty(Hl,"__esModule",{value:!0});var J7=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Z7=Or,eD=tD(Z7);function tD(t){return t&&t.__esModule?t:{default:t}}function nD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rD(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function iD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var sD=function(t){iD(e,t);function e(n,r){return nD(this,e),rD(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return J7(e,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var s=parseInt(this.data[i]),o=s.toString(2);o=oD(o,4-o.length);for(var a=0;a<o.length;a++)r+=o[a]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(eD.default);function oD(t,e){for(var n=0;n<e;n++)t="0"+t;return t}Hl.default=sD;var ny={},Wl={};Object.defineProperty(Wl,"__esModule",{value:!0});Wl.mod10=aD;Wl.mod11=lD;function aD(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function lD(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var i=parseInt(t[t.length-1-r]);e+=n[r%n.length]*i}return(11-e%11)%11}Object.defineProperty(ny,"__esModule",{value:!0});var uD=Hl,cD=fD(uD),hD=Wl;function fD(t){return t&&t.__esModule?t:{default:t}}function dD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pD(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gD=function(t){mD(e,t);function e(n,r){return dD(this,e),pD(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,hD.mod10)(n),r))}return e}(cD.default);ny.default=gD;var ry={};Object.defineProperty(ry,"__esModule",{value:!0});var vD=Hl,yD=wD(vD),_D=Wl;function wD(t){return t&&t.__esModule?t:{default:t}}function bD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ED(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var SD=function(t){xD(e,t);function e(n,r){return bD(this,e),ED(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,_D.mod11)(n),r))}return e}(yD.default);ry.default=SD;var iy={};Object.defineProperty(iy,"__esModule",{value:!0});var AD=Hl,ID=TD(AD),Ow=Wl;function TD(t){return t&&t.__esModule?t:{default:t}}function ND(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kD(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function PD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var LD=function(t){PD(e,t);function e(n,r){return ND(this,e),n+=(0,Ow.mod10)(n),n+=(0,Ow.mod10)(n),kD(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(ID.default);iy.default=LD;var sy={};Object.defineProperty(sy,"__esModule",{value:!0});var CD=Hl,RD=OD(CD),Dw=Wl;function OD(t){return t&&t.__esModule?t:{default:t}}function DD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MD(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var FD=function(t){jD(e,t);function e(n,r){return DD(this,e),n+=(0,Dw.mod11)(n),n+=(0,Dw.mod10)(n),MD(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(RD.default);sy.default=FD;Object.defineProperty(zi,"__esModule",{value:!0});zi.MSI1110=zi.MSI1010=zi.MSI11=zi.MSI10=zi.MSI=void 0;var VD=Hl,BD=jf(VD),UD=ny,qD=jf(UD),zD=ry,$D=jf(zD),HD=iy,WD=jf(HD),GD=sy,KD=jf(GD);function jf(t){return t&&t.__esModule?t:{default:t}}zi.MSI=BD.default;zi.MSI10=qD.default;zi.MSI11=$D.default;zi.MSI1010=WD.default;zi.MSI1110=KD.default;var H0={};Object.defineProperty(H0,"__esModule",{value:!0});H0.pharmacode=void 0;var QD=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),XD=Or,YD=JD(XD);function JD(t){return t&&t.__esModule?t:{default:t}}function ZD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eM(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function tM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var nM=function(t){tM(e,t);function e(n,r){ZD(this,e);var i=eM(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.number=parseInt(n,10),i}return QD(e,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&r!=0;)r%2===0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(YD.default);H0.pharmacode=nM;var W0={};Object.defineProperty(W0,"__esModule",{value:!0});W0.codabar=void 0;var rM=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),iM=Or,sM=oM(iM);function oM(t){return t&&t.__esModule?t:{default:t}}function aM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lM(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cM=function(t){uM(e,t);function e(n,r){aM(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var i=lM(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return rM(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),s=0;s<this.data.length;s++)r.push(i[this.data.charAt(s)]),s!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(sM.default);W0.codabar=cM;var Sc={},G0={},Ff={};Object.defineProperty(Ff,"__esModule",{value:!0});Ff.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","ÿ"];Ff.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];Ff.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(G0,"__esModule",{value:!0});var hM=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Od=Ff,fM=Or,dM=pM(fM);function pM(t){return t&&t.__esModule?t:{default:t}}function mM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gM(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function vM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var yM=function(t){vM(e,t);function e(n,r){return mM(this,e),gM(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return hM(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(a){return Od.MULTI_SYMBOLS[a]||a}),i=r.map(function(a){return e.getEncoding(a)}).join(""),s=e.checksum(r,20),o=e.checksum(r.concat(s),15);return{text:this.text,data:e.getEncoding("ÿ")+i+e.getEncoding(s)+e.getEncoding(o)+e.getEncoding("ÿ")+"1"}}}],[{key:"getEncoding",value:function(r){return Od.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return Od.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return Od.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,i){var s=r.slice().reverse().reduce(function(o,a,l){var h=l%i+1;return o+e.symbolValue(a)*h},0);return e.getSymbol(s%47)}}]),e}(dM.default);G0.default=yM;var oy={};Object.defineProperty(oy,"__esModule",{value:!0});var _M=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wM=G0,bM=EM(wM);function EM(t){return t&&t.__esModule?t:{default:t}}function xM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SM(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function AM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var IM=function(t){AM(e,t);function e(n,r){return xM(this,e),SM(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return _M(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(bM.default);oy.default=IM;Object.defineProperty(Sc,"__esModule",{value:!0});Sc.CODE93FullASCII=Sc.CODE93=void 0;var TM=G0,NM=eS(TM),kM=oy,PM=eS(kM);function eS(t){return t&&t.__esModule?t:{default:t}}Sc.CODE93=NM.default;Sc.CODE93FullASCII=PM.default;var K0={};Object.defineProperty(K0,"__esModule",{value:!0});K0.GenericBarcode=void 0;var LM=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),CM=Or,RM=OM(CM);function OM(t){return t&&t.__esModule?t:{default:t}}function DM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MM(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var FM=function(t){jM(e,t);function e(n,r){return DM(this,e),MM(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return LM(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(RM.default);K0.GenericBarcode=FM;Object.defineProperty(zv,"__esModule",{value:!0});var VM=U0,Dd=Rs,Eu=Kr,Mw=xc,fh=zi,BM=H0,UM=W0,jw=Sc,qM=K0;zv.default={CODE39:VM.CODE39,CODE128:Dd.CODE128,CODE128A:Dd.CODE128A,CODE128B:Dd.CODE128B,CODE128C:Dd.CODE128C,EAN13:Eu.EAN13,EAN8:Eu.EAN8,EAN5:Eu.EAN5,EAN2:Eu.EAN2,UPC:Eu.UPC,UPCE:Eu.UPCE,ITF14:Mw.ITF14,ITF:Mw.ITF,MSI:fh.MSI,MSI10:fh.MSI10,MSI11:fh.MSI11,MSI1010:fh.MSI1010,MSI1110:fh.MSI1110,pharmacode:BM.pharmacode,codabar:UM.codabar,CODE93:jw.CODE93,CODE93FullASCII:jw.CODE93FullASCII,GenericBarcode:qM.GenericBarcode};var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});var zM=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Mc.default=function(t,e){return zM({},t,e)};var ay={};Object.defineProperty(ay,"__esModule",{value:!0});ay.default=$M;function $M(t){var e=[];function n(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}var ly={};Object.defineProperty(ly,"__esModule",{value:!0});ly.default=HM;function HM(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var uy={},cy={},Q0={};Object.defineProperty(Q0,"__esModule",{value:!0});Q0.default=WM;function WM(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var X0={};Object.defineProperty(X0,"__esModule",{value:!0});var GM={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};X0.default=GM;Object.defineProperty(cy,"__esModule",{value:!0});var KM=Q0,QM=tS(KM),XM=X0,Fw=tS(XM);function tS(t){return t&&t.__esModule?t:{default:t}}function YM(t){var e={};for(var n in Fw.default)Fw.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,QM.default)(e),e}cy.default=YM;var hy={},fy={},yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.getTotalWidthOfEncodings=yi.calculateEncodingAttributes=yi.getBarcodePadding=yi.getEncodingHeight=yi.getMaximumHeightOfEncodings=void 0;var JM=Mc,ZM=e9(JM);function e9(t){return t&&t.__esModule?t:{default:t}}function nS(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function rS(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function t9(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],s=(0,ZM.default)(e,i.options),o;s.displayValue?o=i9(i.text,s,n):o=0;var a=i.data.length*s.width;i.width=Math.ceil(Math.max(o,a)),i.height=nS(i,s),i.barcodePadding=rS(o,a,s)}}function n9(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function r9(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function i9(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=r.measureText(t);if(!i)return 0;var s=i.width;return s}yi.getMaximumHeightOfEncodings=r9;yi.getEncodingHeight=nS;yi.getBarcodePadding=rS;yi.calculateEncodingAttributes=t9;yi.getTotalWidthOfEncodings=n9;Object.defineProperty(fy,"__esModule",{value:!0});var s9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o9=Mc,a9=l9(o9),lm=yi;function l9(t){return t&&t.__esModule?t:{default:t}}function u9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c9=function(){function t(e,n,r){u9(this,t),this.canvas=e,this.encodings=n,this.options=r}return s9(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,a9.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,lm.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,lm.getTotalWidthOfEncodings)(this.encodings),i=(0,lm.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var i=this.canvas.getContext("2d"),s=r.data,o;n.textPosition=="top"?o=n.marginTop+n.fontSize+n.textMargin:o=n.marginTop,i.fillStyle=n.lineColor;for(var a=0;a<s.length;a++){var l=a*n.width+r.barcodePadding;s[a]==="1"?i.fillRect(l,o,n.width,n.height):s[a]&&i.fillRect(l,o,n.width,n.height*s[a])}}},{key:"drawCanvasText",value:function(n,r){var i=this.canvas.getContext("2d"),s=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var o,a;n.textPosition=="top"?a=n.marginTop+n.fontSize-n.textMargin:a=n.height+n.textMargin+n.marginTop+n.fontSize,i.font=s,n.textAlign=="left"||r.barcodePadding>0?(o=0,i.textAlign="left"):n.textAlign=="right"?(o=r.width-1,i.textAlign="right"):(o=r.width/2,i.textAlign="center"),i.fillText(r.text,o,a)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();fy.default=c9;var dy={};Object.defineProperty(dy,"__esModule",{value:!0});var h9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f9=Mc,d9=p9(f9),um=yi;function p9(t){return t&&t.__esModule?t:{default:t}}function m9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Md="http://www.w3.org/2000/svg",g9=function(){function t(e,n,r){m9(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return h9(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],s=(0,d9.default)(this.options,i.options),o=this.createGroup(n,s.marginTop,this.svg);this.setGroupOptions(o,s),this.drawSvgBarcode(o,s,i),this.drawSVGText(o,s,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,um.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,um.getTotalWidthOfEncodings)(this.encodings),r=(0,um.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,i){var s=i.data,o;r.textPosition=="top"?o=r.fontSize+r.textMargin:o=0;for(var a=0,l=0,h=0;h<s.length;h++)l=h*r.width+i.barcodePadding,s[h]==="1"?a++:a>0&&(this.drawRect(l-r.width*a,o,r.width*a,r.height,n),a=0);a>0&&this.drawRect(l-r.width*(a-1),o,r.width*a,r.height,n)}},{key:"drawSVGText",value:function(n,r,i){var s=this.document.createElementNS(Md,"text");if(r.displayValue){var o,a;s.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?a=r.fontSize-r.textMargin:a=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||i.barcodePadding>0?(o=0,s.setAttribute("text-anchor","start")):r.textAlign=="right"?(o=i.width-1,s.setAttribute("text-anchor","end")):(o=i.width/2,s.setAttribute("text-anchor","middle")),s.setAttribute("x",o),s.setAttribute("y",a),s.appendChild(this.document.createTextNode(i.text)),n.appendChild(s)}}},{key:"setSvgAttributes",value:function(n,r){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+r),i.setAttribute("xmlns",Md),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,i){var s=this.document.createElementNS(Md,"g");return s.setAttribute("transform","translate("+n+", "+r+")"),i.appendChild(s),s}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,i,s,o){var a=this.document.createElementNS(Md,"rect");return a.setAttribute("x",n),a.setAttribute("y",r),a.setAttribute("width",i),a.setAttribute("height",s),o.appendChild(a),a}}]),t}();dy.default=g9;var py={};Object.defineProperty(py,"__esModule",{value:!0});var v9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function y9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _9=function(){function t(e,n,r){y9(this,t),this.object=e,this.encodings=n,this.options=r}return v9(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();py.default=_9;Object.defineProperty(hy,"__esModule",{value:!0});var w9=fy,b9=my(w9),E9=dy,x9=my(E9),S9=py,A9=my(S9);function my(t){return t&&t.__esModule?t:{default:t}}hy.default={CanvasRenderer:b9.default,SVGRenderer:x9.default,ObjectRenderer:A9.default};var jc={};Object.defineProperty(jc,"__esModule",{value:!0});function gy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vy(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var I9=function(t){yy(e,t);function e(n,r){gy(this,e);var i=vy(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=n,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return e}(Error),T9=function(t){yy(e,t);function e(){gy(this,e);var n=vy(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),N9=function(t){yy(e,t);function e(){gy(this,e);var n=vy(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);jc.InvalidInputException=I9;jc.InvalidElementException=T9;jc.NoElementException=N9;Object.defineProperty(uy,"__esModule",{value:!0});var k9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P9=cy,Vg=iS(P9),L9=hy,Ah=iS(L9),C9=jc;function iS(t){return t&&t.__esModule?t:{default:t}}function _y(t){if(typeof t=="string")return R9(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(_y(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return O9(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,Vg.default)(t),renderer:Ah.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,Vg.default)(t),renderer:Ah.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:Ah.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":k9(t))==="object"&&!t.nodeName)return{element:t,renderer:Ah.default.ObjectRenderer};throw new C9.InvalidElementException}}function R9(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(_y(e[r]));return n}}function O9(t){var e=document.createElement("canvas");return{element:e,options:(0,Vg.default)(t),renderer:Ah.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}uy.default=_y;var wy={};Object.defineProperty(wy,"__esModule",{value:!0});var D9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function M9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var j9=function(){function t(e){M9(this,t),this.api=e}return D9(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),t}();wy.default=j9;var F9=zv,Tl=Wa(F9),V9=Mc,Vf=Wa(V9),B9=ay,sS=Wa(B9),U9=ly,Vw=Wa(U9),q9=uy,z9=Wa(q9),$9=Q0,H9=Wa($9),W9=wy,G9=Wa(W9),oS=jc,K9=X0,aS=Wa(K9);function Wa(t){return t&&t.__esModule?t:{default:t}}var _o=function(){},Y0=function(e,n,r){var i=new _o;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,z9.default)(e),i._encodings=[],i._options=aS.default,i._errorHandler=new G9.default(i),typeof n<"u"&&(r=r||{},r.format||(r.format=uS()),i.options(r)[r.format](n,r).render()),i};Y0.getModule=function(t){return Tl.default[t]};for(var Bw in Tl.default)Tl.default.hasOwnProperty(Bw)&&Q9(Tl.default,Bw);function Q9(t,e){_o.prototype[e]=_o.prototype[e.toUpperCase()]=_o.prototype[e.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var s=(0,Vf.default)(i._options,r);s=(0,H9.default)(s);var o=t[e],a=lS(n,o,s);return i._encodings.push(a),i})}}function lS(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new oS.InvalidInputException(r.constructor.name,t);var i=r.encode();i=(0,sS.default)(i);for(var s=0;s<i.length;s++)i[s].options=(0,Vf.default)(n,i[s].options);return i}function uS(){return Tl.default.CODE128?"CODE128":Object.keys(Tl.default)[0]}_o.prototype.options=function(t){return this._options=(0,Vf.default)(this._options,t),this};_o.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};_o.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,Vf.default)(this._options,t.options);n.format=="auto"&&(n.format=uS()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,i=Tl.default[n.format.toUpperCase()],s=lS(r,i,n);Bg(t,s,n)})}}};_o.prototype.render=function(){if(!this._renderProperties)throw new oS.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Bg(this._renderProperties[t],this._encodings,this._options);else Bg(this._renderProperties,this._encodings,this._options);return this};_o.prototype._defaults=aS.default;function Bg(t,e,n){e=(0,sS.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,Vf.default)(n,e[r].options),(0,Vw.default)(e[r].options);(0,Vw.default)(n);var i=t.renderer,s=new i(t.element,e,n);s.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=Y0);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),Y0(n,t,e)});var X9=Y0,cS={exports:{}},Y9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",J9=Y9,Z9=J9;function hS(){}function fS(){}fS.resetWarningCache=hS;var ej=function(){function t(r,i,s,o,a,l){if(l!==Z9){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:fS,resetWarningCache:hS};return n.PropTypes=n,n};cS.exports=ej();var tj=cS.exports;function lp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lp=function(n){return typeof n}:lp=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},lp(t)}var Pu=by(Ye),nj=by(X9),hn=by(tj);function by(t){return t&&t.__esModule?t:{default:t}}function rj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ij(t,e,n){return e&&Uw(t.prototype,e),n&&Uw(t,n),t}function sj(t,e){return e&&(lp(e)==="object"||typeof e=="function")?e:dS(t)}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ug(t)}function dS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qg(t,e)}function qg(t,e){return qg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},qg(t,e)}var zg,cm=Pu.default.version.split(/[.-]/);cm[0]==="0"&&(cm[1]==="13"||cm[1]==="12")?zg=function(e){return e.getDOMNode()}:zg=function(e){return e};var Ey=function(t){oj(e,t);function e(n){var r;return rj(this,e),r=sj(this,Ug(e).call(this,n)),r.renderElementRef=Pu.default.createRef(),r.update=r.update.bind(dS(r)),r}return ij(e,[{key:"shouldComponentUpdate",value:function(r){var i=this;return Object.keys(e.propTypes).some(function(s){return i.props[s]!==r[s]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var r=zg(this.renderElementRef.current);try{new nj.default(r,this.props.value,Object.assign({text:this.props.text||this.props.value},this.props))}catch(i){window.console.error(i)}}},{key:"render",value:function(){var r=this.props,i=r.id,s=r.className;if(this.props.renderer==="svg")return Pu.default.createElement("svg",{ref:this.renderElementRef,id:i,className:s});if(this.props.renderer==="canvas")return Pu.default.createElement("canvas",{ref:this.renderElementRef,id:i,className:s});if(this.props.renderer==="img")return Pu.default.createElement("img",{ref:this.renderElementRef,id:i,className:s})}}]),e}(Pu.default.Component);Ey.propTypes={value:hn.default.string.isRequired,text:hn.default.string,renderer:hn.default.string,format:hn.default.string,width:hn.default.number,height:hn.default.number,displayValue:hn.default.bool,fontOptions:hn.default.string,font:hn.default.string,textAlign:hn.default.string,textPosition:hn.default.string,textMargin:hn.default.number,fontSize:hn.default.number,background:hn.default.string,lineColor:hn.default.string,margin:hn.default.number,marginTop:hn.default.number,marginBottom:hn.default.number,marginLeft:hn.default.number,marginRight:hn.default.number,id:hn.default.string,className:hn.default.string,ean128:hn.default.bool};Ey.defaultProps={format:"CODE128",renderer:"svg",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,className:"",ean128:!1};var aj=Ey;const pS=cb(aj),lj="modulepreload",uj=function(t){return"/inventario/"+t},qw={},$g=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=uj(s),s in qw)return;qw[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let p=i.length-1;p>=0;p--){const v=i[p];if(v.href===s&&(!o||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const h=document.createElement("link");if(h.rel=o?"stylesheet":lj,o||(h.as="script",h.crossOrigin=""),h.href=s,document.head.appendChild(h),o)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function Ut(t){"@babel/helpers - typeof";return Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(t)}var _r=Uint8Array,bi=Uint16Array,xy=Int32Array,J0=new _r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Z0=new _r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hg=new _r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mS=function(t,e){for(var n=new bi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new xy(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},gS=mS(J0,2),vS=gS.b,Wg=gS.r;vS[28]=258,Wg[258]=28;var yS=mS(Z0,0),cj=yS.b,zw=yS.r,Gg=new bi(32768);for(var on=0;on<32768;++on){var sa=(on&43690)>>1|(on&21845)<<1;sa=(sa&52428)>>2|(sa&13107)<<2,sa=(sa&61680)>>4|(sa&3855)<<4,Gg[on]=((sa&65280)>>8|(sa&255)<<8)>>1}var Us=function(t,e,n){for(var r=t.length,i=0,s=new bi(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new bi(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new bi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var h=i<<4|t[i],p=e-t[i],v=o[t[i]-1]++<<p,_=v|(1<<p)-1;v<=_;++v)a[Gg[v]>>l]=h}else for(a=new bi(r),i=0;i<r;++i)t[i]&&(a[i]=Gg[o[t[i]-1]++]>>15-t[i]);return a},Va=new _r(288);for(var on=0;on<144;++on)Va[on]=8;for(var on=144;on<256;++on)Va[on]=9;for(var on=256;on<280;++on)Va[on]=7;for(var on=280;on<288;++on)Va[on]=8;var mf=new _r(32);for(var on=0;on<32;++on)mf[on]=5;var hj=Us(Va,9,0),fj=Us(Va,9,1),dj=Us(mf,5,0),pj=Us(mf,5,1),hm=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ls=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},fm=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Sy=function(t){return(t+7)/8|0},_S=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new _r(t.subarray(e,n))},mj=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],hs=function(t,e,n){var r=new Error(e||mj[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,hs),!n)throw r;return r},gj=function(t,e,n,r){var i=t.length,s=r?r.length:0;if(!i||e.f&&!e.l)return n||new _r(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new _r(i*3));var h=function(Le){var Ve=n.length;if(Le>Ve){var je=new _r(Math.max(Ve*2,Le));je.set(n),n=je}},p=e.f||0,v=e.p||0,_=e.b||0,m=e.l,A=e.d,N=e.m,V=e.n,b=i*8;do{if(!m){p=ls(t,v,1);var I=ls(t,v+1,3);if(v+=3,I)if(I==1)m=fj,A=pj,N=9,V=5;else if(I==2){var oe=ls(t,v,31)+257,C=ls(t,v+10,15)+4,S=oe+ls(t,v+5,31)+1;v+=14;for(var R=new _r(S),j=new _r(19),E=0;E<C;++E)j[Hg[E]]=ls(t,v+E*3,7);v+=C*3;for(var T=hm(j),k=(1<<T)-1,W=Us(j,T,1),E=0;E<S;){var ce=W[ls(t,v,k)];v+=ce&15;var M=ce>>4;if(M<16)R[E++]=M;else{var fe=0,ve=0;for(M==16?(ve=3+ls(t,v,3),v+=2,fe=R[E-1]):M==17?(ve=3+ls(t,v,7),v+=3):M==18&&(ve=11+ls(t,v,127),v+=7);ve--;)R[E++]=fe}}var Y=R.subarray(0,oe),le=R.subarray(oe);N=hm(Y),V=hm(le),m=Us(Y,N,1),A=Us(le,V,1)}else hs(1);else{var M=Sy(v)+4,K=t[M-4]|t[M-3]<<8,ee=M+K;if(ee>i){l&&hs(0);break}a&&h(_+K),n.set(t.subarray(M,ee),_),e.b=_+=K,e.p=v=ee*8,e.f=p;continue}if(v>b){l&&hs(0);break}}a&&h(_+131072);for(var he=(1<<N)-1,Re=(1<<V)-1,O=v;;O=v){var fe=m[fm(t,v)&he],$=fe>>4;if(v+=fe&15,v>b){l&&hs(0);break}if(fe||hs(2),$<256)n[_++]=$;else if($==256){O=v,m=null;break}else{var Q=$-254;if($>264){var E=$-257,J=J0[E];Q=ls(t,v,(1<<J)-1)+vS[E],v+=J}var ie=A[fm(t,v)&Re],de=ie>>4;ie||hs(3),v+=ie&15;var le=cj[de];if(de>3){var J=Z0[de];le+=fm(t,v)&(1<<J)-1,v+=J}if(v>b){l&&hs(0);break}a&&h(_+131072);var ye=_+Q;if(_<le){var _e=s-le,De=Math.min(le,ye);for(_e+_<0&&hs(3);_<De;++_)n[_]=r[_e+_]}for(;_<ye;++_)n[_]=n[_-le]}}e.l=m,e.p=O,e.b=_,e.f=p,m&&(p=1,e.m=N,e.d=A,e.n=V)}while(!p);return _!=n.length&&o?_S(n,0,_):n.subarray(0,_)},lo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},dh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},dm=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:bS,l:0};if(i==1){var o=new _r(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(ee,oe){return ee.f-oe.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],h=0,p=1,v=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};p!=i-1;)a=n[n[h].f<n[v].f?h++:v++],l=n[h!=p&&n[h].f<n[v].f?h++:v++],n[p++]={s:-1,f:a.f+l.f,l:a,r:l};for(var _=s[0].s,r=1;r<i;++r)s[r].s>_&&(_=s[r].s);var m=new bi(_+1),A=Kg(n[p-1],m,0);if(A>e){var r=0,N=0,V=A-e,b=1<<V;for(s.sort(function(oe,C){return m[C.s]-m[oe.s]||oe.f-C.f});r<i;++r){var I=s[r].s;if(m[I]>e)N+=b-(1<<A-m[I]),m[I]=e;else break}for(N>>=V;N>0;){var M=s[r].s;m[M]<e?N-=1<<e-m[M]++-1:++r}for(;r>=0&&N;--r){var K=s[r].s;m[K]==e&&(--m[K],++N)}A=e}return{t:new _r(m),l:A}},Kg=function(t,e,n){return t.s==-1?Math.max(Kg(t.l,e,n+1),Kg(t.r,e,n+1)):e[t.s]=n},$w=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new bi(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},ph=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},wS=function(t,e,n){var r=n.length,i=Sy(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Hw=function(t,e,n,r,i,s,o,a,l,h,p){lo(e,p++,n),++i[256];for(var v=dm(i,15),_=v.t,m=v.l,A=dm(s,15),N=A.t,V=A.l,b=$w(_),I=b.c,M=b.n,K=$w(N),ee=K.c,oe=K.n,C=new bi(19),S=0;S<I.length;++S)++C[I[S]&31];for(var S=0;S<ee.length;++S)++C[ee[S]&31];for(var R=dm(C,7),j=R.t,E=R.l,T=19;T>4&&!j[Hg[T-1]];--T);var k=h+5<<3,W=ph(i,Va)+ph(s,mf)+o,ce=ph(i,_)+ph(s,N)+o+14+3*T+ph(C,j)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&k<=W&&k<=ce)return wS(e,p,t.subarray(l,l+h));var fe,ve,Y,le;if(lo(e,p,1+(ce<W)),p+=2,ce<W){fe=Us(_,m,0),ve=_,Y=Us(N,V,0),le=N;var he=Us(j,E,0);lo(e,p,M-257),lo(e,p+5,oe-1),lo(e,p+10,T-4),p+=14;for(var S=0;S<T;++S)lo(e,p+3*S,j[Hg[S]]);p+=3*T;for(var Re=[I,ee],O=0;O<2;++O)for(var $=Re[O],S=0;S<$.length;++S){var Q=$[S]&31;lo(e,p,he[Q]),p+=j[Q],Q>15&&(lo(e,p,$[S]>>5&127),p+=$[S]>>12)}}else fe=hj,ve=Va,Y=dj,le=mf;for(var S=0;S<a;++S){var J=r[S];if(J>255){var Q=J>>18&31;dh(e,p,fe[Q+257]),p+=ve[Q+257],Q>7&&(lo(e,p,J>>23&31),p+=J0[Q]);var ie=J&31;dh(e,p,Y[ie]),p+=le[ie],ie>3&&(dh(e,p,J>>5&8191),p+=Z0[ie])}else dh(e,p,fe[J]),p+=ve[J]}return dh(e,p,fe[256]),p+ve[256]},vj=new xy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bS=new _r(0),yj=function(t,e,n,r,i,s){var o=s.z||t.length,a=new _r(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),h=s.l,p=(s.r||0)&7;if(e){p&&(l[0]=s.r>>3);for(var v=vj[e-1],_=v>>13,m=v&8191,A=(1<<n)-1,N=s.p||new bi(32768),V=s.h||new bi(A+1),b=Math.ceil(n/3),I=2*b,M=function(et){return(t[et]^t[et+1]<<b^t[et+2]<<I)&A},K=new xy(25e3),ee=new bi(288),oe=new bi(32),C=0,S=0,R=s.i||0,j=0,E=s.w||0,T=0;R+2<o;++R){var k=M(R),W=R&32767,ce=V[k];if(N[W]=ce,V[k]=W,E<=R){var fe=o-R;if((C>7e3||j>24576)&&(fe>423||!h)){p=Hw(t,l,0,K,ee,oe,S,j,T,R-T,p),j=C=S=0,T=R;for(var ve=0;ve<286;++ve)ee[ve]=0;for(var ve=0;ve<30;++ve)oe[ve]=0}var Y=2,le=0,he=m,Re=W-ce&32767;if(fe>2&&k==M(R-Re))for(var O=Math.min(_,fe)-1,$=Math.min(32767,R),Q=Math.min(258,fe);Re<=$&&--he&&W!=ce;){if(t[R+Y]==t[R+Y-Re]){for(var J=0;J<Q&&t[R+J]==t[R+J-Re];++J);if(J>Y){if(Y=J,le=Re,J>O)break;for(var ie=Math.min(Re,J-2),de=0,ve=0;ve<ie;++ve){var ye=R-Re+ve&32767,_e=N[ye],De=ye-_e&32767;De>de&&(de=De,ce=ye)}}}W=ce,ce=N[W],Re+=W-ce&32767}if(le){K[j++]=268435456|Wg[Y]<<18|zw[le];var Le=Wg[Y]&31,Ve=zw[le]&31;S+=J0[Le]+Z0[Ve],++ee[257+Le],++oe[Ve],E=R+Y,++C}else K[j++]=t[R],++ee[t[R]]}}for(R=Math.max(R,E);R<o;++R)K[j++]=t[R],++ee[t[R]];p=Hw(t,l,h,K,ee,oe,S,j,T,R-T,p),h||(s.r=p&7|l[p/8|0]<<3,p-=7,s.h=V,s.p=N,s.i=R,s.w=E)}else{for(var R=s.w||0;R<o+h;R+=65535){var je=R+65535;je>=o&&(l[p/8|0]=h,je=o),p=wS(l,p+1,t.subarray(R,je))}s.i=o}return _S(a,0,r+Sy(p)+i)},ES=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},_j=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new _r(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return yj(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},xS=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},wj=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=ES();i.p(e.dictionary),xS(t,2,i.d())}},bj=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&hs(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&hs(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Qg(t,e){e||(e={});var n=ES();n.p(t);var r=_j(t,e,e.dictionary?6:2,4);return wj(r,e),xS(r,r.length-4,n.d()),r}function Ej(t,e){return gj(t.subarray(bj(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var xj=typeof TextDecoder<"u"&&new TextDecoder,Sj=0;try{xj.decode(bS,{stream:!0}),Sj=1}catch{}var at=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function pm(){at.console&&typeof at.console.log=="function"&&at.console.log.apply(at.console,arguments)}var Xt={log:pm,warn:function(t){at.console&&(typeof at.console.warn=="function"?at.console.warn.apply(at.console,arguments):pm.call(null,arguments))},error:function(t){at.console&&(typeof at.console.error=="function"?at.console.error.apply(at.console,arguments):pm(t))}};function mm(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){vl(r.response,e,n)},r.onerror=function(){Xt.error("could not download file")},r.send()}function Ww(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function jd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Bh,Xg,vl=at.saveAs||((typeof window>"u"?"undefined":Ut(window))!=="object"||window!==at?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=at.URL||at.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Ww(i.href)?mm(t,e,n):jd(i,i.target="_blank"):jd(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){jd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Ww(t))mm(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){jd(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Ut(s)!=="object"&&(Xt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return mm(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(at.HTMLElement)||at.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Ut(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var p=a.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},a.readAsDataURL(t)}else{var l=at.URL||at.webkitURL,h=l.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){l.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function SS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),h=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),h.length==1&&(h="0"+h),"#"+a+l+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function gm(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=fr(n,r,i,s,e[0],7,-680876936),s=fr(s,n,r,i,e[1],12,-389564586),i=fr(i,s,n,r,e[2],17,606105819),r=fr(r,i,s,n,e[3],22,-1044525330),n=fr(n,r,i,s,e[4],7,-176418897),s=fr(s,n,r,i,e[5],12,1200080426),i=fr(i,s,n,r,e[6],17,-1473231341),r=fr(r,i,s,n,e[7],22,-45705983),n=fr(n,r,i,s,e[8],7,1770035416),s=fr(s,n,r,i,e[9],12,-1958414417),i=fr(i,s,n,r,e[10],17,-42063),r=fr(r,i,s,n,e[11],22,-1990404162),n=fr(n,r,i,s,e[12],7,1804603682),s=fr(s,n,r,i,e[13],12,-40341101),i=fr(i,s,n,r,e[14],17,-1502002290),n=dr(n,r=fr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=dr(s,n,r,i,e[6],9,-1069501632),i=dr(i,s,n,r,e[11],14,643717713),r=dr(r,i,s,n,e[0],20,-373897302),n=dr(n,r,i,s,e[5],5,-701558691),s=dr(s,n,r,i,e[10],9,38016083),i=dr(i,s,n,r,e[15],14,-660478335),r=dr(r,i,s,n,e[4],20,-405537848),n=dr(n,r,i,s,e[9],5,568446438),s=dr(s,n,r,i,e[14],9,-1019803690),i=dr(i,s,n,r,e[3],14,-187363961),r=dr(r,i,s,n,e[8],20,1163531501),n=dr(n,r,i,s,e[13],5,-1444681467),s=dr(s,n,r,i,e[2],9,-51403784),i=dr(i,s,n,r,e[7],14,1735328473),n=pr(n,r=dr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=pr(s,n,r,i,e[8],11,-2022574463),i=pr(i,s,n,r,e[11],16,1839030562),r=pr(r,i,s,n,e[14],23,-35309556),n=pr(n,r,i,s,e[1],4,-1530992060),s=pr(s,n,r,i,e[4],11,1272893353),i=pr(i,s,n,r,e[7],16,-155497632),r=pr(r,i,s,n,e[10],23,-1094730640),n=pr(n,r,i,s,e[13],4,681279174),s=pr(s,n,r,i,e[0],11,-358537222),i=pr(i,s,n,r,e[3],16,-722521979),r=pr(r,i,s,n,e[6],23,76029189),n=pr(n,r,i,s,e[9],4,-640364487),s=pr(s,n,r,i,e[12],11,-421815835),i=pr(i,s,n,r,e[15],16,530742520),n=mr(n,r=pr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=mr(s,n,r,i,e[7],10,1126891415),i=mr(i,s,n,r,e[14],15,-1416354905),r=mr(r,i,s,n,e[5],21,-57434055),n=mr(n,r,i,s,e[12],6,1700485571),s=mr(s,n,r,i,e[3],10,-1894986606),i=mr(i,s,n,r,e[10],15,-1051523),r=mr(r,i,s,n,e[1],21,-2054922799),n=mr(n,r,i,s,e[8],6,1873313359),s=mr(s,n,r,i,e[15],10,-30611744),i=mr(i,s,n,r,e[6],15,-1560198380),r=mr(r,i,s,n,e[13],21,1309151649),n=mr(n,r,i,s,e[4],6,-145523070),s=mr(s,n,r,i,e[11],10,-1120210379),i=mr(i,s,n,r,e[2],15,718787259),r=mr(r,i,s,n,e[9],21,-343485551),t[0]=ya(n,t[0]),t[1]=ya(r,t[1]),t[2]=ya(i,t[2]),t[3]=ya(s,t[3])}function e1(t,e,n,r,i,s){return e=ya(ya(e,t),ya(r,s)),ya(e<<i|e>>>32-i,n)}function fr(t,e,n,r,i,s,o){return e1(e&n|~e&r,t,e,i,s,o)}function dr(t,e,n,r,i,s,o){return e1(e&r|n&~r,t,e,i,s,o)}function pr(t,e,n,r,i,s,o){return e1(e^n^r,t,e,i,s,o)}function mr(t,e,n,r,i,s,o){return e1(n^(e|~r),t,e,i,s,o)}function AS(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)gm(r,Aj(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(gm(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,gm(r,i),r}function Aj(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Bh=at.atob.bind(at),Xg=at.btoa.bind(at);var Gw="0123456789abcdef".split("");function Ij(t){for(var e="",n=0;n<4;n++)e+=Gw[t>>8*n+4&15]+Gw[t>>8*n&15];return e}function Tj(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Yg(t){return AS(t).map(Tj).join("")}var Nj=function(t){for(var e=0;e<t.length;e++)t[e]=Ij(t[e]);return t.join("")}(AS("hello"))!="5d41402abc4b2a76b9719d911017c592";function ya(t,e){if(Nj){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Jg(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var h=0;for(l=0;l<256;l++){var p=a[l];h=(h+p+o.charCodeAt(l))%256,a[l]=a[h],a[h]=p}n=t,r=a}else a=r;var v=e.length,_=0,m=0,A="";for(l=0;l<v;l++)m=(m+(p=a[_=(_+1)%256]))%256,a[_]=a[m],a[m]=p,o=a[(a[_]+a[m])%256],A+=String.fromCharCode(e.charCodeAt(l)^o);return A}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Kw={print:4,modify:8,copy:16,"annot-forms":32};function Lu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Kw.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Kw[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Yg(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Jg(this.encryptionKey,this.padding)}function Cu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function Qw(t){if(Ut(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){at.console&&Xt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function e0(t){if(!(this instanceof e0))return new e0(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function IS(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function yl(t,e,n,r,i){if(!(this instanceof yl))return new yl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,IS.call(this,r,i)}function Wu(t,e,n,r,i){if(!(this instanceof Wu))return new Wu(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,IS.call(this,r,i)}function ot(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,h="S",p=null;Ut(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),h=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,_={},m={internal:{},__private__:{}};m.__private__.PubSub=Qw;var A="1.3",N=m.__private__.getPdfVersion=function(){return A};m.__private__.setPdfVersion=function(d){A=d};var V={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return V};var b=m.__private__.getPageFormat=function(d){return V[d]};i=i||"a4";var I={COMPAT:"compat",ADVANCED:"advanced"},M=I.COMPAT;function K(){this.saveGraphicsState(),X(new tt(ze,0,0,-ze,0,rs()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),h="n",M=I.ADVANCED}function ee(){this.restoreGraphicsState(),h="S",M=I.COMPAT}var oe=m.__private__.combineFontStyleAndFontWeight=function(d,P){if(d=="bold"&&P=="normal"||d=="bold"&&P==400||d=="normal"&&P=="italic"||d=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(d=P==400||P==="normal"?d==="italic"?"italic":"normal":P!=700&&P!=="bold"||d!=="normal"?(P==700?"bold":P)+""+d:"bold"),d};m.advancedAPI=function(d){var P=M===I.COMPAT;return P&&K.call(this),typeof d!="function"||(d(this),P&&ee.call(this)),this},m.compatAPI=function(d){var P=M===I.ADVANCED;return P&&ee.call(this),typeof d!="function"||(d(this),P&&K.call(this)),this},m.isAdvancedAPI=function(){return M===I.ADVANCED};var C,S=function(d){if(M!==I.ADVANCED)throw new Error(d+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=m.roundToPrecision=m.__private__.roundToPrecision=function(d,P){var G=e||P;if(isNaN(d)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return d.toFixed(G).replace(/0+$/,"")};C=m.hpf=m.__private__.hpf=typeof l=="number"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return R(d,l)}:l==="smart"?function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return R(d,d>-1&&d<1?16:5)}:function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.hpf");return R(d,16)};var j=m.f2=m.__private__.f2=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f2");return R(d,2)},E=m.__private__.f3=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.f3");return R(d,3)},T=m.scale=m.__private__.scale=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.scale");return M===I.COMPAT?d*ze:M===I.ADVANCED?d:void 0},k=function(d){return M===I.COMPAT?rs()-d:M===I.ADVANCED?d:void 0},W=function(d){return T(k(d))};m.__private__.setPrecision=m.setPrecision=function(d){typeof parseInt(d,10)=="number"&&(e=parseInt(d,10))};var ce,fe="00000000000000000000000000000000",ve=m.__private__.getFileId=function(){return fe},Y=m.__private__.setFileId=function(d){return fe=d!==void 0&&/^[a-fA-F0-9]{32}$/.test(d)?d.toUpperCase():fe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(yn=new Lu(p.userPermissions,p.userPassword,p.ownerPassword,fe)),fe};m.setFileId=function(d){return Y(d),this},m.getFileId=function(){return ve()};var le=m.__private__.convertDateToPDFDate=function(d){var P=d.getTimezoneOffset(),G=P<0?"+":"-",Z=Math.floor(Math.abs(P/60)),ue=Math.abs(P%60),we=[G,Q(Z),"'",Q(ue),"'"].join("");return["D:",d.getFullYear(),Q(d.getMonth()+1),Q(d.getDate()),Q(d.getHours()),Q(d.getMinutes()),Q(d.getSeconds()),we].join("")},he=m.__private__.convertPDFDateToDate=function(d){var P=parseInt(d.substr(2,4),10),G=parseInt(d.substr(6,2),10)-1,Z=parseInt(d.substr(8,2),10),ue=parseInt(d.substr(10,2),10),we=parseInt(d.substr(12,2),10),Te=parseInt(d.substr(14,2),10);return new Date(P,G,Z,ue,we,Te,0)},Re=m.__private__.setCreationDate=function(d){var P;if(d===void 0&&(d=new Date),d instanceof Date)P=le(d);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(d))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=d}return ce=P},O=m.__private__.getCreationDate=function(d){var P=ce;return d==="jsDate"&&(P=he(ce)),P};m.setCreationDate=function(d){return Re(d),this},m.getCreationDate=function(d){return O(d)};var $,Q=m.__private__.padd2=function(d){return("0"+parseInt(d)).slice(-2)},J=m.__private__.padd2Hex=function(d){return("00"+(d=d.toString())).substr(d.length)},ie=0,de=[],ye=[],_e=0,De=[],Le=[],Ve=!1,je=ye,et=function(){ie=0,_e=0,ye=[],de=[],De=[],Xi=vn(),oi=vn()};m.__private__.setCustomOutputDestination=function(d){Ve=!0,je=d};var Ee=function(d){Ve||(je=d)};m.__private__.resetCustomOutputDestination=function(){Ve=!1,je=ye};var X=m.__private__.out=function(d){return d=d.toString(),_e+=d.length+1,je.push(d),je},ft=m.__private__.write=function(d){return X(arguments.length===1?d.toString():Array.prototype.join.call(arguments," "))},Ke=m.__private__.getArrayBuffer=function(d){for(var P=d.length,G=new ArrayBuffer(P),Z=new Uint8Array(G);P--;)Z[P]=d.charCodeAt(P);return G},Ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ce};var Me=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(d){return Me=M===I.ADVANCED?d/ze:d,this};var Ue,Be=m.__private__.getFontSize=m.getFontSize=function(){return M===I.COMPAT?Me:Me*ze},Je=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(d){return Je=d,this},m.__private__.getR2L=m.getR2L=function(){return Je};var lt,gt=m.__private__.setZoomMode=function(d){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(d))Ue=d;else if(isNaN(d)){if(P.indexOf(d)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+d+'" is not recognized.');Ue=d}else Ue=parseInt(d,10)};m.__private__.getZoomMode=function(){return Ue};var bt,st=m.__private__.setPageMode=function(d){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(d)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+d+'" is not recognized.');lt=d};m.__private__.getPageMode=function(){return lt};var vt=m.__private__.setLayoutMode=function(d){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(d)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+d+'" is not recognized.');bt=d};m.__private__.getLayoutMode=function(){return bt},m.__private__.setDisplayMode=m.setDisplayMode=function(d,P,G){return gt(d),vt(P),st(G),this};var nt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(d){if(Object.keys(nt).indexOf(d)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nt[d]},m.__private__.getDocumentProperties=function(){return nt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(d){for(var P in nt)nt.hasOwnProperty(P)&&d[P]&&(nt[P]=d[P]);return this},m.__private__.setDocumentProperty=function(d,P){if(Object.keys(nt).indexOf(d)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nt[d]=P};var xt,ze,qn,St,Dr,Mt={},$t={},Ti=[],Rt={},Qi={},tn={},Mr={},Er=null,Yt=0,ut=[],At=new Qw(m),ws=t.hotfixes||[],gn={},ri={},or=[],tt=function d(P,G,Z,ue,we,Te){if(!(this instanceof d))return new d(P,G,Z,ue,we,Te);isNaN(P)&&(P=1),isNaN(G)&&(G=0),isNaN(Z)&&(Z=0),isNaN(ue)&&(ue=1),isNaN(we)&&(we=0),isNaN(Te)&&(Te=0),this._matrix=[P,G,Z,ue,we,Te]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(d){this._matrix[0]=d}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(d){this._matrix[1]=d}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(d){this._matrix[2]=d}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(d){this._matrix[3]=d}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(d){this._matrix[4]=d}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(d){this._matrix[5]=d}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(d){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(d)},tt.prototype.multiply=function(d){var P=d.sx*this.sx+d.shy*this.shx,G=d.sx*this.shy+d.shy*this.sy,Z=d.shx*this.sx+d.sy*this.shx,ue=d.shx*this.shy+d.sy*this.sy,we=d.tx*this.sx+d.ty*this.shx+this.tx,Te=d.tx*this.shy+d.ty*this.sy+this.ty;return new tt(P,G,Z,ue,we,Te)},tt.prototype.decompose=function(){var d=this.sx,P=this.shy,G=this.shx,Z=this.sy,ue=this.tx,we=this.ty,Te=Math.sqrt(d*d+P*P),$e=(d/=Te)*G+(P/=Te)*Z;G-=d*$e,Z-=P*$e;var Qe=Math.sqrt(G*G+Z*Z);return $e/=Qe,d*(Z/=Qe)<P*(G/=Qe)&&(d=-d,P=-P,$e=-$e,Te=-Te),{scale:new tt(Te,0,0,Qe,0,0),translate:new tt(1,0,0,1,ue,we),rotate:new tt(d,P,-P,d,0,0),skew:new tt(1,0,$e,1,0,0)}},tt.prototype.toString=function(d){return this.join(" ")},tt.prototype.inversed=function(){var d=this.sx,P=this.shy,G=this.shx,Z=this.sy,ue=this.tx,we=this.ty,Te=1/(d*Z-P*G),$e=Z*Te,Qe=-P*Te,c=-G*Te,y=d*Te;return new tt($e,Qe,c,y,-$e*ue-c*we,-Qe*ue-y*we)},tt.prototype.applyToPoint=function(d){var P=d.x*this.sx+d.y*this.shx+this.tx,G=d.x*this.shy+d.y*this.sy+this.ty;return new Li(P,G)},tt.prototype.applyToRectangle=function(d){var P=this.applyToPoint(d),G=this.applyToPoint(new Li(d.x+d.w,d.y+d.h));return new qo(P.x,P.y,G.x-P.x,G.y-P.y)},tt.prototype.clone=function(){var d=this.sx,P=this.shy,G=this.shx,Z=this.sy,ue=this.tx,we=this.ty;return new tt(d,P,G,Z,ue,we)},m.Matrix=tt;var Gt=m.matrixMult=function(d,P){return P.multiply(d)},ii=new tt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=ii;var Pn=function(d,P){if(!Qi[d]){var G=(P instanceof yl?"Sh":"P")+(Object.keys(Rt).length+1).toString(10);P.id=G,Qi[d]=G,Rt[G]=P,At.publish("addPattern",P)}};m.ShadingPattern=yl,m.TilingPattern=Wu,m.addShadingPattern=function(d,P){return S("addShadingPattern()"),Pn(d,P),this},m.beginTilingPattern=function(d){S("beginTilingPattern()"),$o(d.boundingBox[0],d.boundingBox[1],d.boundingBox[2]-d.boundingBox[0],d.boundingBox[3]-d.boundingBox[1],d.matrix)},m.endTilingPattern=function(d,P){S("endTilingPattern()"),P.stream=Le[$].join(`
`),Pn(d,P),At.publish("endTilingPattern",P),or.pop().restore()};var nn=m.__private__.newObject=function(){var d=vn();return xr(d,!0),d},vn=m.__private__.newObjectDeferred=function(){return ie++,de[ie]=function(){return _e},ie},xr=function(d,P){return P=typeof P=="boolean"&&P,de[d]=_e,P&&X(d+" 0 obj"),d},si=m.__private__.newAdditionalObject=function(){var d={objId:vn(),content:""};return De.push(d),d},Xi=vn(),oi=vn(),ar=m.__private__.decodeColorString=function(d){var P=d.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var G=parseFloat(P[0]);P=[G,G,G,"r"]}for(var Z="#",ue=0;ue<3;ue++)Z+=("0"+Math.floor(255*parseFloat(P[ue])).toString(16)).slice(-2);return Z},jr=m.__private__.encodeColorString=function(d){var P;typeof d=="string"&&(d={ch1:d});var G=d.ch1,Z=d.ch2,ue=d.ch3,we=d.ch4,Te=d.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var $e=new SS(G);if($e.ok)G=$e.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var Qe=parseInt(G.substr(1),16);G=Qe>>16&255,Z=Qe>>8&255,ue=255&Qe}if(Z===void 0||we===void 0&&G===Z&&Z===ue)if(typeof G=="string")P=G+" "+Te[0];else switch(d.precision){case 2:P=j(G/255)+" "+Te[0];break;case 3:default:P=E(G/255)+" "+Te[0]}else if(we===void 0||Ut(we)==="object"){if(we&&!isNaN(we.a)&&we.a===0)return P=["1.","1.","1.",Te[1]].join(" ");if(typeof G=="string")P=[G,Z,ue,Te[1]].join(" ");else switch(d.precision){case 2:P=[j(G/255),j(Z/255),j(ue/255),Te[1]].join(" ");break;default:case 3:P=[E(G/255),E(Z/255),E(ue/255),Te[1]].join(" ")}}else if(typeof G=="string")P=[G,Z,ue,we,Te[2]].join(" ");else switch(d.precision){case 2:P=[j(G),j(Z),j(ue),j(we),Te[2]].join(" ");break;case 3:default:P=[E(G),E(Z),E(ue),E(we),Te[2]].join(" ")}return P},Fr=m.__private__.getFilters=function(){return o},Qn=m.__private__.putStream=function(d){var P=(d=d||{}).data||"",G=d.filters||Fr(),Z=d.alreadyAppliedFilters||[],ue=d.addLength1||!1,we=P.length,Te=d.objectId,$e=function(Pe){return Pe};if(p!==null&&Te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&($e=yn.encryptor(Te,0));var Qe={};G===!0&&(G=["FlateEncode"]);var c=d.additionalKeyValues||[],y=(Qe=ot.API.processDataByFilters!==void 0?ot.API.processDataByFilters(P,G):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(Z)?Z.join(" "):Z.toString());if(Qe.data.length!==0&&(c.push({key:"Length",value:Qe.data.length}),ue===!0&&c.push({key:"Length1",value:we})),y.length!=0)if(y.split("/").length-1==1)c.push({key:"Filter",value:y});else{c.push({key:"Filter",value:"["+y+"]"});for(var x=0;x<c.length;x+=1)if(c[x].key==="DecodeParms"){for(var B=[],re=0;re<Qe.reverseChain.split("/").length-1;re+=1)B.push("null");B.push(c[x].value),c[x].value="["+B.join(" ")+"]"}}X("<<");for(var pe=0;pe<c.length;pe++)X("/"+c[pe].key+" "+c[pe].value);X(">>"),Qe.data.length!==0&&(X("stream"),X($e(Qe.data)),X("endstream"))},Mn=m.__private__.putPage=function(d){var P=d.number,G=d.data,Z=d.objId,ue=d.contentsObjId;xr(Z,!0),X("<</Type /Page"),X("/Parent "+d.rootDictionaryObjId+" 0 R"),X("/Resources "+d.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(C(d.mediaBox.bottomLeftX))+" "+parseFloat(C(d.mediaBox.bottomLeftY))+" "+C(d.mediaBox.topRightX)+" "+C(d.mediaBox.topRightY)+"]"),d.cropBox!==null&&X("/CropBox ["+C(d.cropBox.bottomLeftX)+" "+C(d.cropBox.bottomLeftY)+" "+C(d.cropBox.topRightX)+" "+C(d.cropBox.topRightY)+"]"),d.bleedBox!==null&&X("/BleedBox ["+C(d.bleedBox.bottomLeftX)+" "+C(d.bleedBox.bottomLeftY)+" "+C(d.bleedBox.topRightX)+" "+C(d.bleedBox.topRightY)+"]"),d.trimBox!==null&&X("/TrimBox ["+C(d.trimBox.bottomLeftX)+" "+C(d.trimBox.bottomLeftY)+" "+C(d.trimBox.topRightX)+" "+C(d.trimBox.topRightY)+"]"),d.artBox!==null&&X("/ArtBox ["+C(d.artBox.bottomLeftX)+" "+C(d.artBox.bottomLeftY)+" "+C(d.artBox.topRightX)+" "+C(d.artBox.topRightY)+"]"),typeof d.userUnit=="number"&&d.userUnit!==1&&X("/UserUnit "+d.userUnit),At.publish("putPage",{objId:Z,pageContext:ut[P],pageNumber:P,page:G}),X("/Contents "+ue+" 0 R"),X(">>"),X("endobj");var we=G.join(`
`);return M===I.ADVANCED&&(we+=`
Q`),xr(ue,!0),Qn({data:we,filters:Fr(),objectId:ue}),X("endobj"),Z},bs=m.__private__.putPages=function(){var d,P,G=[];for(d=1;d<=Yt;d++)ut[d].objId=vn(),ut[d].contentsObjId=vn();for(d=1;d<=Yt;d++)G.push(Mn({number:d,data:Le[d],objId:ut[d].objId,contentsObjId:ut[d].contentsObjId,mediaBox:ut[d].mediaBox,cropBox:ut[d].cropBox,bleedBox:ut[d].bleedBox,trimBox:ut[d].trimBox,artBox:ut[d].artBox,userUnit:ut[d].userUnit,rootDictionaryObjId:Xi,resourceDictionaryObjId:oi}));xr(Xi,!0),X("<</Type /Pages");var Z="/Kids [";for(P=0;P<Yt;P++)Z+=G[P]+" 0 R ";X(Z+"]"),X("/Count "+Yt),X(">>"),X("endobj"),At.publish("postPutPages")},Hs=function(d){At.publish("putFont",{font:d,out:X,newObject:nn,putStream:Qn}),d.isAlreadyPutted!==!0&&(d.objectNumber=nn(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Cu(d.postScriptName)),X("/Subtype /Type1"),typeof d.encoding=="string"&&X("/Encoding /"+d.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Es=function(){for(var d in Mt)Mt.hasOwnProperty(d)&&(v===!1||v===!0&&_.hasOwnProperty(d))&&Hs(Mt[d])},xs=function(d){d.objectNumber=nn();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[C(d.x),C(d.y),C(d.x+d.width),C(d.y+d.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+d.matrix.toString()+"]"});var G=d.pages[1].join(`
`);Qn({data:G,additionalKeyValues:P,objectId:d.objectNumber}),X("endobj")},Ws=function(){for(var d in gn)gn.hasOwnProperty(d)&&xs(gn[d])},Ga=function(d,P){var G,Z=[],ue=1/(P-1);for(G=0;G<1;G+=ue)Z.push(G);if(Z.push(1),d[0].offset!=0){var we={offset:0,color:d[0].color};d.unshift(we)}if(d[d.length-1].offset!=1){var Te={offset:1,color:d[d.length-1].color};d.push(Te)}for(var $e="",Qe=0,c=0;c<Z.length;c++){for(G=Z[c];G>d[Qe+1].offset;)Qe++;var y=d[Qe].offset,x=(G-y)/(d[Qe+1].offset-y),B=d[Qe].color,re=d[Qe+1].color;$e+=J(Math.round((1-x)*B[0]+x*re[0]).toString(16))+J(Math.round((1-x)*B[1]+x*re[1]).toString(16))+J(Math.round((1-x)*B[2]+x*re[2]).toString(16))}return $e.trim()},Fc=function(d,P){P||(P=21);var G=nn(),Z=Ga(d.colors,P),ue=[];ue.push({key:"FunctionType",value:"0"}),ue.push({key:"Domain",value:"[0.0 1.0]"}),ue.push({key:"Size",value:"["+P+"]"}),ue.push({key:"BitsPerSample",value:"8"}),ue.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ue.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qn({data:Z,additionalKeyValues:ue,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),X("endobj"),d.objectNumber=nn(),X("<< /ShadingType "+d.type),X("/ColorSpace /DeviceRGB");var we="/Coords ["+C(parseFloat(d.coords[0]))+" "+C(parseFloat(d.coords[1]))+" ";d.type===2?we+=C(parseFloat(d.coords[2]))+" "+C(parseFloat(d.coords[3])):we+=C(parseFloat(d.coords[2]))+" "+C(parseFloat(d.coords[3]))+" "+C(parseFloat(d.coords[4]))+" "+C(parseFloat(d.coords[5])),X(we+="]"),d.matrix&&X("/Matrix ["+d.matrix.toString()+"]"),X("/Function "+G+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Lo=function(d,P){var G=vn(),Z=nn();P.push({resourcesOid:G,objectOid:Z}),d.objectNumber=Z;var ue=[];ue.push({key:"Type",value:"/Pattern"}),ue.push({key:"PatternType",value:"1"}),ue.push({key:"PaintType",value:"1"}),ue.push({key:"TilingType",value:"1"}),ue.push({key:"BBox",value:"["+d.boundingBox.map(C).join(" ")+"]"}),ue.push({key:"XStep",value:C(d.xStep)}),ue.push({key:"YStep",value:C(d.yStep)}),ue.push({key:"Resources",value:G+" 0 R"}),d.matrix&&ue.push({key:"Matrix",value:"["+d.matrix.toString()+"]"}),Qn({data:d.stream,additionalKeyValues:ue,objectId:d.objectNumber}),X("endobj")},Gs=function(d){var P;for(P in Rt)Rt.hasOwnProperty(P)&&(Rt[P]instanceof yl?Fc(Rt[P]):Rt[P]instanceof Wu&&Lo(Rt[P],d))},Co=function(d){for(var P in d.objectNumber=nn(),X("<<"),d)switch(P){case"opacity":X("/ca "+j(d[P]));break;case"stroke-opacity":X("/CA "+j(d[P]))}X(">>"),X("endobj")},Ks=function(){var d;for(d in tn)tn.hasOwnProperty(d)&&Co(tn[d])},ai=function(){for(var d in X("/XObject <<"),gn)gn.hasOwnProperty(d)&&gn[d].objectNumber>=0&&X("/"+d+" "+gn[d].objectNumber+" 0 R");At.publish("putXobjectDict"),X(">>")},Ka=function(){yn.oid=nn(),X("<<"),X("/Filter /Standard"),X("/V "+yn.v),X("/R "+yn.r),X("/U <"+yn.toHexString(yn.U)+">"),X("/O <"+yn.toHexString(yn.O)+">"),X("/P "+yn.P),X(">>"),X("endobj")},Kl=function(){for(var d in X("/Font <<"),Mt)Mt.hasOwnProperty(d)&&(v===!1||v===!0&&_.hasOwnProperty(d))&&X("/"+d+" "+Mt[d].objectNumber+" 0 R");X(">>")},Ql=function(){if(Object.keys(Rt).length>0){for(var d in X("/Shading <<"),Rt)Rt.hasOwnProperty(d)&&Rt[d]instanceof yl&&Rt[d].objectNumber>=0&&X("/"+d+" "+Rt[d].objectNumber+" 0 R");At.publish("putShadingPatternDict"),X(">>")}},Qs=function(d){if(Object.keys(Rt).length>0){for(var P in X("/Pattern <<"),Rt)Rt.hasOwnProperty(P)&&Rt[P]instanceof m.TilingPattern&&Rt[P].objectNumber>=0&&Rt[P].objectNumber<d&&X("/"+P+" "+Rt[P].objectNumber+" 0 R");At.publish("putTilingPatternDict"),X(">>")}},Xl=function(){if(Object.keys(tn).length>0){var d;for(d in X("/ExtGState <<"),tn)tn.hasOwnProperty(d)&&tn[d].objectNumber>=0&&X("/"+d+" "+tn[d].objectNumber+" 0 R");At.publish("putGStateDict"),X(">>")}},rn=function(d){xr(d.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Kl(),Ql(),Qs(d.objectOid),Xl(),ai(),X(">>"),X("endobj")},Ro=function(){var d=[];Es(),Ks(),Ws(),Gs(d),At.publish("putResources"),d.forEach(rn),rn({resourcesOid:oi,objectOid:Number.MAX_SAFE_INTEGER}),At.publish("postPutResources")},Qa=function(){At.publish("putAdditionalObjects");for(var d=0;d<De.length;d++){var P=De[d];xr(P.objId,!0),X(P.content),X("endobj")}At.publish("postPutAdditionalObjects")},Xa=function(d){$t[d.fontName]=$t[d.fontName]||{},$t[d.fontName][d.fontStyle]=d.id},Ya=function(d,P,G,Z,ue){var we={id:"F"+(Object.keys(Mt).length+1).toString(10),postScriptName:d,fontName:P,fontStyle:G,encoding:Z,isStandardFont:ue||!1,metadata:{}};return At.publish("addFont",{font:we,instance:this}),Mt[we.id]=we,Xa(we),we.id},Vc=function(d){for(var P=0,G=Ce.length;P<G;P++){var Z=Ya.call(this,d[P][0],d[P][1],d[P][2],Ce[P][3],!0);v===!1&&(_[Z]=!0);var ue=d[P][0].split("-");Xa({id:Z,fontName:ue[0],fontStyle:ue[1]||""})}At.publish("addFonts",{fonts:Mt,dictionary:$t})},Vr=function(d){return d.foo=function(){try{return d.apply(this,arguments)}catch(Z){var P=Z.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var G="Error in function "+P.split(`
`)[0].split("<")[0]+": "+Z.message;if(!at.console)throw new Error(G);at.console.error(G,Z),at.alert&&alert(G)}},d.foo.bar=d,d.foo},Xs=function(d,P){var G,Z,ue,we,Te,$e,Qe,c,y;if(ue=(P=P||{}).sourceEncoding||"Unicode",Te=P.outputEncoding,(P.autoencode||Te)&&Mt[xt].metadata&&Mt[xt].metadata[ue]&&Mt[xt].metadata[ue].encoding&&(we=Mt[xt].metadata[ue].encoding,!Te&&Mt[xt].encoding&&(Te=Mt[xt].encoding),!Te&&we.codePages&&(Te=we.codePages[0]),typeof Te=="string"&&(Te=we[Te]),Te)){for(Qe=!1,$e=[],G=0,Z=d.length;G<Z;G++)(c=Te[d.charCodeAt(G)])?$e.push(String.fromCharCode(c)):$e.push(d[G]),$e[G].charCodeAt(0)>>8&&(Qe=!0);d=$e.join("")}for(G=d.length;Qe===void 0&&G!==0;)d.charCodeAt(G-1)>>8&&(Qe=!0),G--;if(!Qe)return d;for($e=P.noBOM?[]:[254,255],G=0,Z=d.length;G<Z;G++){if((y=(c=d.charCodeAt(G))>>8)>>8)throw new Error("Character at position "+G+" of string '"+d+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$e.push(y),$e.push(c-(y<<8))}return String.fromCharCode.apply(void 0,$e)},lr=m.__private__.pdfEscape=m.pdfEscape=function(d,P){return Xs(d,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},li=m.__private__.beginPage=function(d){Le[++Yt]=[],ut[Yt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(d[0]),topRightY:Number(d[1])}},Ys(Yt),Ee(Le[$])},Br=function(d,P){var G,Z,ue;switch(n=P||n,typeof d=="string"&&(G=b(d.toLowerCase()),Array.isArray(G)&&(Z=G[0],ue=G[1])),Array.isArray(d)&&(Z=d[0]*ze,ue=d[1]*ze),isNaN(Z)&&(Z=i[0],ue=i[1]),(Z>14400||ue>14400)&&(Xt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Z=Math.min(14400,Z),ue=Math.min(14400,ue)),i=[Z,ue],n.substr(0,1)){case"l":ue>Z&&(i=[ue,Z]);break;case"p":Z>ue&&(i=[ue,Z])}li(i),iu(Ht),X(hi),Is!==0&&X(Is+" J"),il!==0&&X(il+" j"),At.publish("addPage",{pageNumber:Yt})},Oo=function(d){d>0&&d<=Yt&&(Le.splice(d,1),ut.splice(d,1),Yt--,$>Yt&&($=Yt),this.setPage($))},Ys=function(d){d>0&&d<=Yt&&($=d)},Yl=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Le.length-1},jt=function(d,P,G){var Z,ue=void 0;return G=G||{},d=d!==void 0?d:Mt[xt].fontName,P=P!==void 0?P:Mt[xt].fontStyle,Z=d.toLowerCase(),$t[Z]!==void 0&&$t[Z][P]!==void 0?ue=$t[Z][P]:$t[d]!==void 0&&$t[d][P]!==void 0?ue=$t[d][P]:G.disableWarning===!1&&Xt.warn("Unable to look up font label for font '"+d+"', '"+P+"'. Refer to getFontList() for available fonts."),ue||G.noFallback||(ue=$t.times[P])==null&&(ue=$t.times.normal),ue},Do=m.__private__.putInfo=function(){var d=nn(),P=function(Z){return Z};for(var G in p!==null&&(P=yn.encryptor(d,0)),X("<<"),X("/Producer ("+lr(P("jsPDF "+ot.version))+")"),nt)nt.hasOwnProperty(G)&&nt[G]&&X("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+lr(P(nt[G]))+")");X("/CreationDate ("+lr(P(ce))+")"),X(">>"),X("endobj")},Yi=m.__private__.putCatalog=function(d){var P=(d=d||{}).rootDictionaryObjId||Xi;switch(nn(),X("<<"),X("/Type /Catalog"),X("/Pages "+P+" 0 R"),Ue||(Ue="fullwidth"),Ue){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+Ue;G.substr(G.length-1)==="%"&&(Ue=parseInt(Ue)/100),typeof Ue=="number"&&X("/OpenAction [3 0 R /XYZ null null "+j(Ue)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}lt&&X("/PageMode /"+lt),At.publish("putCatalog"),X(">>"),X("endobj")},Js=m.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(ie+1)),X("/Root "+ie+" 0 R"),X("/Info "+(ie-1)+" 0 R"),p!==null&&X("/Encrypt "+yn.oid+" 0 R"),X("/ID [ <"+fe+"> <"+fe+"> ]"),X(">>")},Bc=m.__private__.putHeader=function(){X("%PDF-"+A),X("%ºß¬à")},Jl=m.__private__.putXRef=function(){var d="0000000000";X("xref"),X("0 "+(ie+1)),X("0000000000 65535 f ");for(var P=1;P<=ie;P++)typeof de[P]=="function"?X((d+de[P]()).slice(-10)+" 00000 n "):de[P]!==void 0?X((d+de[P]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},Ji=m.__private__.buildDocument=function(){et(),Ee(ye),At.publish("buildDocument"),Bc(),bs(),Qa(),Ro(),p!==null&&Ka(),Do(),Yi();var d=_e;return Jl(),Js(),X("startxref"),X(""+d),X("%%EOF"),Ee(Le[$]),ye.join(`
`)},Mo=m.__private__.getBlob=function(d){return new Blob([Ke(d)],{type:"application/pdf"})},jo=m.output=m.__private__.output=Vr(function(d,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",d){case void 0:return Ji();case"save":m.save(P.filename);break;case"arraybuffer":return Ke(Ji());case"blob":return Mo(Ji());case"bloburi":case"bloburl":if(at.URL!==void 0&&typeof at.URL.createObjectURL=="function")return at.URL&&at.URL.createObjectURL(Mo(Ji()))||void 0;Xt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",Z=Ji();try{G=Xg(Z)}catch{G=Xg(unescape(encodeURIComponent(Z)))}return"data:application/pdf;filename="+P.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var ue="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",we=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(ue=P.pdfObjectUrl,we="");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ue+'"'+we+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",$e=at.open();return $e!==null&&$e.document.write(Te),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',c=at.open();if(c!==null){c.document.write(Qe);var y=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=P.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(y.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(at)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var x='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',B=at.open();if(B!==null&&(B.document.write(x),B.document.title=P.filename),B||typeof safari>"u")return B;break;case"datauri":case"dataurl":return at.document.location.href=this.output("datauristring",P);default:return null}}),Zl=function(d){return Array.isArray(ws)===!0&&ws.indexOf(d)>-1};switch(r){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=Zl("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ze=r}var yn=null;Re(),Y();var Ni=function(d){return p!==null?yn.encryptor(d,0):function(P){return P}},Ja=m.__private__.getPageInfo=m.getPageInfo=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ut[d].objId,pageNumber:d,pageContext:ut[d]}},ct=m.__private__.getPageInfoByObjId=function(d){if(isNaN(d)||d%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in ut)if(ut[P].objId===d)break;return Ja(P)},eu=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ut[$].objId,pageNumber:$,pageContext:ut[$]}};m.addPage=function(){return Br.apply(this,arguments),this},m.setPage=function(){return Ys.apply(this,arguments),Ee.call(this,Le[$]),this},m.insertPage=function(d){return this.addPage(),this.movePage($,d),this},m.movePage=function(d,P){var G,Z;if(d>P){G=Le[d],Z=ut[d];for(var ue=d;ue>P;ue--)Le[ue]=Le[ue-1],ut[ue]=ut[ue-1];Le[P]=G,ut[P]=Z,this.setPage(P)}else if(d<P){G=Le[d],Z=ut[d];for(var we=d;we<P;we++)Le[we]=Le[we+1],ut[we]=ut[we+1];Le[P]=G,ut[P]=Z,this.setPage(P)}return this},m.deletePage=function(){return Oo.apply(this,arguments),this},m.__private__.text=m.text=function(d,P,G,Z,ue){var we,Te,$e,Qe,c,y,x,B,re,pe=(Z=Z||{}).scope||this;if(typeof d=="number"&&typeof P=="number"&&(typeof G=="string"||Array.isArray(G))){var Pe=G;G=P,P=d,d=Pe}if(arguments[3]instanceof tt?(S("The transform parameter of text() with a Matrix value"),re=ue):($e=arguments[4],Qe=arguments[5],Ut(x=arguments[3])==="object"&&x!==null||(typeof $e=="string"&&(Qe=$e,$e=null),typeof x=="string"&&(Qe=x,x=null),typeof x=="number"&&($e=x,x=null),Z={flags:x,angle:$e,align:Qe})),isNaN(P)||isNaN(G)||d==null)throw new Error("Invalid arguments passed to jsPDF.text");if(d.length===0)return pe;var dt="",Ft=!1,pt=typeof Z.lineHeightFactor=="number"?Z.lineHeightFactor:Zi,Kt=pe.internal.scaleFactor;function En(Jt){return Jt=Jt.split("	").join(Array(Z.TabLen||9).join(" ")),lr(Jt,x)}function Ri(Jt){for(var Zt,Sn=Jt.concat(),jn=[],io=Sn.length;io--;)typeof(Zt=Sn.shift())=="string"?jn.push(Zt):Array.isArray(Jt)&&(Zt.length===1||Zt[1]===void 0&&Zt[2]===void 0)?jn.push(Zt[0]):jn.push([Zt[0],Zt[1],Zt[2]]);return jn}function Xn(Jt,Zt){var Sn;if(typeof Jt=="string")Sn=Zt(Jt)[0];else if(Array.isArray(Jt)){for(var jn,io,Kc=Jt.concat(),pu=[],$f=Kc.length;$f--;)typeof(jn=Kc.shift())=="string"?pu.push(Zt(jn)[0]):Array.isArray(jn)&&typeof jn[0]=="string"&&(io=Zt(jn[0],jn[1],jn[2]),pu.push([io[0],io[1],io[2]]));Sn=pu}return Sn}var is=!1,eo=!0;if(typeof d=="string")is=!0;else if(Array.isArray(d)){var qc=d.concat();Te=[];for(var ou,Yn=qc.length;Yn--;)(typeof(ou=qc.shift())!="string"||Array.isArray(ou)&&typeof ou[0]!="string")&&(eo=!1);is=eo}if(is===!1)throw new Error('Type of text must be string or Array. "'+d+'" is not recognized.');typeof d=="string"&&(d=d.match(/[\r?\n]/)?d.split(/\r\n|\r|\n/g):[d]);var au=Me/pe.internal.scaleFactor,lu=au*(pt-1);switch(Z.baseline){case"bottom":G-=lu;break;case"top":G+=au-lu;break;case"hanging":G+=au-2*lu;break;case"middle":G+=au/2-lu}if((y=Z.maxWidth||0)>0&&(typeof d=="string"?d=pe.splitTextToSize(d,y):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(Jt,Zt){return Jt.concat(pe.splitTextToSize(Zt,y))},[]))),we={text:d,x:P,y:G,options:Z,mutex:{pdfEscape:lr,activeFontKey:xt,fonts:Mt,activeFontSize:Me}},At.publish("preProcessText",we),d=we.text,$e=(Z=we.options).angle,!(re instanceof tt)&&$e&&typeof $e=="number"){$e*=Math.PI/180,Z.rotationDirection===0&&($e=-$e),M===I.ADVANCED&&($e=-$e);var uu=Math.cos($e),zc=Math.sin($e);re=new tt(uu,zc,-zc,uu,0,0)}else $e&&$e instanceof tt&&(re=$e);M!==I.ADVANCED||re||(re=ii),(c=Z.charSpace||ns)!==void 0&&(dt+=C(T(c))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(B=Z.horizontalScale)!==void 0&&(dt+=C(100*B)+` Tz
`),Z.lang;var qr=-1,t1=Z.renderingMode!==void 0?Z.renderingMode:Z.stroke,$c=pe.internal.getCurrentPageInfo().pageContext;switch(t1){case 0:case!1:case"fill":qr=0;break;case 1:case!0:case"stroke":qr=1;break;case 2:case"fillThenStroke":qr=2;break;case 3:case"invisible":qr=3;break;case 4:case"fillAndAddForClipping":qr=4;break;case 5:case"strokeAndAddPathForClipping":qr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qr=6;break;case 7:case"addToPathForClipping":qr=7}var Bf=$c.usedRenderingMode!==void 0?$c.usedRenderingMode:-1;qr!==-1?dt+=qr+` Tr
`:Bf!==-1&&(dt+=`0 Tr
`),qr!==-1&&($c.usedRenderingMode=qr),Qe=Z.align||"left";var Oi,cu=Me*pt,Uf=pe.internal.pageSize.getWidth(),qf=Mt[xt];c=Z.charSpace||ns,y=Z.maxWidth||0,x=Object.assign({autoencode:!0,noBOM:!0},Z.flags);var Wo=[],al=function(Jt){return pe.getStringUnitWidth(Jt,{font:qf,charSpace:c,fontSize:Me,doKerning:!1})*Me/Kt};if(Object.prototype.toString.call(d)==="[object Array]"){var zr;Te=Ri(d),Qe!=="left"&&(Oi=Te.map(al));var Ir,Go=0;if(Qe==="right"){P-=Oi[0],d=[],Yn=Te.length;for(var to=0;to<Yn;to++)to===0?(Ir=Ar(P),zr=Pi(G)):(Ir=T(Go-Oi[to]),zr=-cu),d.push([Te[to],Ir,zr]),Go=Oi[to]}else if(Qe==="center"){P-=Oi[0]/2,d=[],Yn=Te.length;for(var no=0;no<Yn;no++)no===0?(Ir=Ar(P),zr=Pi(G)):(Ir=T((Go-Oi[no])/2),zr=-cu),d.push([Te[no],Ir,zr]),Go=Oi[no]}else if(Qe==="left"){d=[],Yn=Te.length;for(var hu=0;hu<Yn;hu++)d.push(Te[hu])}else if(Qe==="justify"&&qf.encoding==="Identity-H"){d=[],Yn=Te.length,y=y!==0?y:Uf;for(var ro=0,xn=0;xn<Yn;xn++)if(zr=xn===0?Pi(G):-cu,Ir=xn===0?Ar(P):ro,xn<Yn-1){var Hc=T((y-Oi[xn])/(Te[xn].split(" ").length-1)),Tr=Te[xn].split(" ");d.push([Tr[0]+" ",Ir,zr]),ro=0;for(var Di=1;Di<Tr.length;Di++){var fu=(al(Tr[Di-1]+" "+Tr[Di])-al(Tr[Di]))*Kt+Hc;Di==Tr.length-1?d.push([Tr[Di],fu,0]):d.push([Tr[Di]+" ",fu,0]),ro-=fu}}else d.push([Te[xn],Ir,zr]);d.push(["",ro,0])}else{if(Qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(d=[],Yn=Te.length,y=y!==0?y:Uf,xn=0;xn<Yn;xn++)zr=xn===0?Pi(G):-cu,Ir=xn===0?Ar(P):0,xn<Yn-1?Wo.push(C(T((y-Oi[xn])/(Te[xn].split(" ").length-1)))):Wo.push(0),d.push([Te[xn],Ir,zr])}}var zf=typeof Z.R2L=="boolean"?Z.R2L:Je;zf===!0&&(d=Xn(d,function(Jt,Zt,Sn){return[Jt.split("").reverse().join(""),Zt,Sn]})),we={text:d,x:P,y:G,options:Z,mutex:{pdfEscape:lr,activeFontKey:xt,fonts:Mt,activeFontSize:Me}},At.publish("postProcessText",we),d=we.text,Ft=we.mutex.isHex||!1;var Wc=Mt[xt].encoding;Wc!=="WinAnsiEncoding"&&Wc!=="StandardEncoding"||(d=Xn(d,function(Jt,Zt,Sn){return[En(Jt),Zt,Sn]})),Te=Ri(d),d=[];for(var ll,ul,Ko,cl=0,du=1,hl=Array.isArray(Te[0])?du:cl,Qo="",Gc=function(Jt,Zt,Sn){var jn="";return Sn instanceof tt?(Sn=typeof Z.angle=="number"?Gt(Sn,new tt(1,0,0,1,Jt,Zt)):Gt(new tt(1,0,0,1,Jt,Zt),Sn),M===I.ADVANCED&&(Sn=Gt(new tt(1,0,0,-1,0,0),Sn)),jn=Sn.join(" ")+` Tm
`):jn=C(Jt)+" "+C(Zt)+` Td
`,jn},Mi=0;Mi<Te.length;Mi++){switch(Qo="",hl){case du:Ko=(Ft?"<":"(")+Te[Mi][0]+(Ft?">":")"),ll=parseFloat(Te[Mi][1]),ul=parseFloat(Te[Mi][2]);break;case cl:Ko=(Ft?"<":"(")+Te[Mi]+(Ft?">":")"),ll=Ar(P),ul=Pi(G)}Wo!==void 0&&Wo[Mi]!==void 0&&(Qo=Wo[Mi]+` Tw
`),Mi===0?d.push(Qo+Gc(ll,ul,re)+Ko):hl===cl?d.push(Qo+Ko):hl===du&&d.push(Qo+Gc(ll,ul,re)+Ko)}d=hl===cl?d.join(` Tj
T* `):d.join(` Tj
`),d+=` Tj
`;var ji=`BT
/`;return ji+=xt+" "+Me+` Tf
`,ji+=C(Me*pt)+` TL
`,ji+=As+`
`,ji+=dt,ji+=d,X(ji+="ET"),_[xt]=!0,pe};var Ss=m.__private__.clip=m.clip=function(d){return X(d==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Ss("evenodd")},m.__private__.discardPath=m.discardPath=function(){return X("n"),this};var ki=m.__private__.isValidStyle=function(d){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(d)!==-1&&(P=!0),P};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(d){return ki(d)&&(h=d),this};var tu=m.__private__.getStyle=m.getStyle=function(d){var P=h;switch(d){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=d}return P},nu=m.close=function(){return X("h"),this};m.stroke=function(){return X("S"),this},m.fill=function(d){return Sr("f",d),this},m.fillEvenOdd=function(d){return Sr("f*",d),this},m.fillStroke=function(d){return Sr("B",d),this},m.fillStrokeEvenOdd=function(d){return Sr("B*",d),this};var Sr=function(d,P){Ut(P)==="object"?Fo(P,d):X(d)},Za=function(d){d===null||M===I.ADVANCED&&d===void 0||(d=tu(d),X(d))};function Uc(d,P,G,Z,ue){var we=new Wu(P||this.boundingBox,G||this.xStep,Z||this.yStep,this.gState,ue||this.matrix);we.stream=this.stream;var Te=d+"$$"+this.cloneIndex+++"$$";return Pn(Te,we),we}var Fo=function(d,P){var G=Qi[d.key],Z=Rt[G];if(Z instanceof yl)X("q"),X(Vo(P)),Z.gState&&m.setGState(Z.gState),X(d.matrix.toString()+" cm"),X("/"+G+" sh"),X("Q");else if(Z instanceof Wu){var ue=new tt(1,0,0,-1,0,rs());d.matrix&&(ue=ue.multiply(d.matrix||ii),G=Uc.call(Z,d.key,d.boundingBox,d.xStep,d.yStep,ue).id),X("q"),X("/Pattern cs"),X("/"+G+" scn"),Z.gState&&m.setGState(Z.gState),X(P),X("Q")}},Vo=function(d){switch(d){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Bo=m.moveTo=function(d,P){return X(C(T(d))+" "+C(W(P))+" m"),this},ui=m.lineTo=function(d,P){return X(C(T(d))+" "+C(W(P))+" l"),this},Ur=m.curveTo=function(d,P,G,Z,ue,we){return X([C(T(d)),C(W(P)),C(T(G)),C(W(Z)),C(T(ue)),C(W(we)),"c"].join(" ")),this};m.__private__.line=m.line=function(d,P,G,Z,ue){if(isNaN(d)||isNaN(P)||isNaN(G)||isNaN(Z)||!ki(ue))throw new Error("Invalid arguments passed to jsPDF.line");return M===I.COMPAT?this.lines([[G-d,Z-P]],d,P,[1,1],ue||"S"):this.lines([[G-d,Z-P]],d,P,[1,1]).stroke()},m.__private__.lines=m.lines=function(d,P,G,Z,ue,we){var Te,$e,Qe,c,y,x,B,re,pe,Pe,dt,Ft;if(typeof d=="number"&&(Ft=G,G=P,P=d,d=Ft),Z=Z||[1,1],we=we||!1,isNaN(P)||isNaN(G)||!Array.isArray(d)||!Array.isArray(Z)||!ki(ue)||typeof we!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bo(P,G),Te=Z[0],$e=Z[1],c=d.length,Pe=P,dt=G,Qe=0;Qe<c;Qe++)(y=d[Qe]).length===2?(Pe=y[0]*Te+Pe,dt=y[1]*$e+dt,ui(Pe,dt)):(x=y[0]*Te+Pe,B=y[1]*$e+dt,re=y[2]*Te+Pe,pe=y[3]*$e+dt,Pe=y[4]*Te+Pe,dt=y[5]*$e+dt,Ur(x,B,re,pe,Pe,dt));return we&&nu(),Za(ue),this},m.path=function(d){for(var P=0;P<d.length;P++){var G=d[P],Z=G.c;switch(G.op){case"m":Bo(Z[0],Z[1]);break;case"l":ui(Z[0],Z[1]);break;case"c":Ur.apply(this,Z);break;case"h":nu()}}return this},m.__private__.rect=m.rect=function(d,P,G,Z,ue){if(isNaN(d)||isNaN(P)||isNaN(G)||isNaN(Z)||!ki(ue))throw new Error("Invalid arguments passed to jsPDF.rect");return M===I.COMPAT&&(Z=-Z),X([C(T(d)),C(W(P)),C(T(G)),C(T(Z)),"re"].join(" ")),Za(ue),this},m.__private__.triangle=m.triangle=function(d,P,G,Z,ue,we,Te){if(isNaN(d)||isNaN(P)||isNaN(G)||isNaN(Z)||isNaN(ue)||isNaN(we)||!ki(Te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-d,Z-P],[ue-G,we-Z],[d-ue,P-we]],d,P,[1,1],Te,!0),this},m.__private__.roundedRect=m.roundedRect=function(d,P,G,Z,ue,we,Te){if(isNaN(d)||isNaN(P)||isNaN(G)||isNaN(Z)||isNaN(ue)||isNaN(we)||!ki(Te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return ue=Math.min(ue,.5*G),we=Math.min(we,.5*Z),this.lines([[G-2*ue,0],[ue*$e,0,ue,we-we*$e,ue,we],[0,Z-2*we],[0,we*$e,-ue*$e,we,-ue,we],[2*ue-G,0],[-ue*$e,0,-ue,-we*$e,-ue,-we],[0,2*we-Z],[0,-we*$e,ue*$e,-we,ue,-we]],d+ue,P,[1,1],Te,!0),this},m.__private__.ellipse=m.ellipse=function(d,P,G,Z,ue){if(isNaN(d)||isNaN(P)||isNaN(G)||isNaN(Z)||!ki(ue))throw new Error("Invalid arguments passed to jsPDF.ellipse");var we=4/3*(Math.SQRT2-1)*G,Te=4/3*(Math.SQRT2-1)*Z;return Bo(d+G,P),Ur(d+G,P-Te,d+we,P-Z,d,P-Z),Ur(d-we,P-Z,d-G,P-Te,d-G,P),Ur(d-G,P+Te,d-we,P+Z,d,P+Z),Ur(d+we,P+Z,d+G,P+Te,d+G,P),Za(ue),this},m.__private__.circle=m.circle=function(d,P,G,Z){if(isNaN(d)||isNaN(P)||isNaN(G)||!ki(Z))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(d,P,G,G,Z)},m.setFont=function(d,P,G){return G&&(P=oe(P,G)),xt=jt(d,P,{disableWarning:!1}),this};var ru=m.__private__.getFont=m.getFont=function(){return Mt[jt.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var d,P,G={};for(d in $t)if($t.hasOwnProperty(d))for(P in G[d]=[],$t[d])$t[d].hasOwnProperty(P)&&G[d].push(P);return G},m.addFont=function(d,P,G,Z,ue){var we=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&we.indexOf(arguments[3])!==-1?ue=arguments[3]:arguments[3]&&we.indexOf(arguments[3])==-1&&(G=oe(G,Z)),ue=ue||"Identity-H",Ya.call(this,d,P,G,ue)};var Zi,Ht=t.lineWidth||.200025,Uo=m.__private__.getLineWidth=m.getLineWidth=function(){return Ht},iu=m.__private__.setLineWidth=m.setLineWidth=function(d){return Ht=d,X(C(T(d))+" w"),this};m.__private__.setLineDash=ot.API.setLineDash=ot.API.setLineDashPattern=function(d,P){if(d=d||[],P=P||0,isNaN(P)||!Array.isArray(d))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return d=d.map(function(G){return C(T(G))}).join(" "),P=C(T(P)),X("["+d+"] "+P+" d"),this};var el=m.__private__.getLineHeight=m.getLineHeight=function(){return Me*Zi};m.__private__.getLineHeight=m.getLineHeight=function(){return Me*Zi};var tl=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(d){return typeof(d=d||1.15)=="number"&&(Zi=d),this},nl=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Zi};tl(t.lineHeight);var Ar=m.__private__.getHorizontalCoordinate=function(d){return T(d)},Pi=m.__private__.getVerticalCoordinate=function(d){return M===I.ADVANCED?d:ut[$].mediaBox.topRightY-ut[$].mediaBox.bottomLeftY-T(d)},ci=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(d){return C(Ar(d))},es=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(d){return C(Pi(d))},hi=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return ar(hi)},m.__private__.setStrokeColor=m.setDrawColor=function(d,P,G,Z){return hi=jr({ch1:d,ch2:P,ch3:G,ch4:Z,pdfColorType:"draw",precision:2}),X(hi),this};var ts=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return ar(ts)},m.__private__.setFillColor=m.setFillColor=function(d,P,G,Z){return ts=jr({ch1:d,ch2:P,ch3:G,ch4:Z,pdfColorType:"fill",precision:2}),X(ts),this};var As=t.textColor||"0 g",rl=m.__private__.getTextColor=m.getTextColor=function(){return ar(As)};m.__private__.setTextColor=m.setTextColor=function(d,P,G,Z){return As=jr({ch1:d,ch2:P,ch3:G,ch4:Z,pdfColorType:"text",precision:3}),this};var ns=t.charSpace,su=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(ns||0)};m.__private__.setCharSpace=m.setCharSpace=function(d){if(isNaN(d))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ns=d,this};var Is=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(d){var P=m.CapJoinStyles[d];if(P===void 0)throw new Error("Line cap style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Is=P,X(P+" J"),this};var il=0;m.__private__.setLineJoin=m.setLineJoin=function(d){var P=m.CapJoinStyles[d];if(P===void 0)throw new Error("Line join style of '"+d+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return il=P,X(P+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(d){if(d=d||0,isNaN(d))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(C(T(d))+" M"),this},m.GState=e0,m.setGState=function(d){(d=typeof d=="string"?tn[Mr[d]]:sl(null,d)).equals(Er)||(X("/"+d.id+" gs"),Er=d)};var sl=function(d,P){if(!d||!Mr[d]){var G=!1;for(var Z in tn)if(tn.hasOwnProperty(Z)&&tn[Z].equals(P)){G=!0;break}if(G)P=tn[Z];else{var ue="GS"+(Object.keys(tn).length+1).toString(10);tn[ue]=P,P.id=ue}return d&&(Mr[d]=P.id),At.publish("addGState",P),P}};m.addGState=function(d,P){return sl(d,P),this},m.saveGraphicsState=function(){return X("q"),Ti.push({key:xt,size:Me,color:As}),this},m.restoreGraphicsState=function(){X("Q");var d=Ti.pop();return xt=d.key,Me=d.size,As=d.color,Er=null,this},m.setCurrentTransformationMatrix=function(d){return X(d.toString()+" cm"),this},m.comment=function(d){return X("#"+d),this};var Li=function(d,P){var G=d||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(we){isNaN(we)||(G=parseFloat(we))}});var Z=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Z},set:function(we){isNaN(we)||(Z=parseFloat(we))}});var ue="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ue},set:function(we){ue=we.toString()}}),this},qo=function(d,P,G,Z){Li.call(this,d,P),this.type="rect";var ue=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ue},set:function(Te){isNaN(Te)||(ue=parseFloat(Te))}});var we=Z||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return we},set:function(Te){isNaN(Te)||(we=parseFloat(Te))}}),this},zo=function(){this.page=Yt,this.currentPage=$,this.pages=Le.slice(0),this.pagesContext=ut.slice(0),this.x=qn,this.y=St,this.matrix=Dr,this.width=Ci($),this.height=rs($),this.outputDestination=je,this.id="",this.objectNumber=-1};zo.prototype.restore=function(){Yt=this.page,$=this.currentPage,ut=this.pagesContext,Le=this.pages,qn=this.x,St=this.y,Dr=this.matrix,Ho($,this.width),fi($,this.height),je=this.outputDestination};var $o=function(d,P,G,Z,ue){or.push(new zo),Yt=$=0,Le=[],qn=d,St=P,Dr=ue,li([G,Z])},ol=function(d){if(ri[d])or.pop().restore();else{var P=new zo,G="Xo"+(Object.keys(gn).length+1).toString(10);P.id=G,ri[d]=G,gn[G]=P,At.publish("addFormObject",P),or.pop().restore()}};for(var Zs in m.beginFormObject=function(d,P,G,Z,ue){return $o(d,P,G,Z,ue),this},m.endFormObject=function(d){return ol(d),this},m.doFormObject=function(d,P){var G=gn[ri[d]];return X("q"),X(P.toString()+" cm"),X("/"+G.id+" Do"),X("Q"),this},m.getFormObject=function(d){var P=gn[ri[d]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},m.save=function(d,P){return d=d||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(vl(Mo(Ji()),d),typeof vl.unload=="function"&&at.setTimeout&&setTimeout(vl.unload,911),this):new Promise(function(G,Z){try{var ue=vl(Mo(Ji()),d);typeof vl.unload=="function"&&at.setTimeout&&setTimeout(vl.unload,911),G(ue)}catch(we){Z(we.message)}})},ot.API)ot.API.hasOwnProperty(Zs)&&(Zs==="events"&&ot.API.events.length?function(d,P){var G,Z,ue;for(ue=P.length-1;ue!==-1;ue--)G=P[ue][0],Z=P[ue][1],d.subscribe.apply(d,[G].concat(typeof Z=="function"?[Z]:Z))}(At,ot.API.events):m[Zs]=ot.API[Zs]);var Ci=m.getPageWidth=function(d){return(ut[d=d||$].mediaBox.topRightX-ut[d].mediaBox.bottomLeftX)/ze},Ho=m.setPageWidth=function(d,P){ut[d].mediaBox.topRightX=P*ze+ut[d].mediaBox.bottomLeftX},rs=m.getPageHeight=function(d){return(ut[d=d||$].mediaBox.topRightY-ut[d].mediaBox.bottomLeftY)/ze},fi=m.setPageHeight=function(d,P){ut[d].mediaBox.topRightY=P*ze+ut[d].mediaBox.bottomLeftY};return m.internal={pdfEscape:lr,getStyle:tu,getFont:ru,getFontSize:Be,getCharSpace:su,getTextColor:rl,getLineHeight:el,getLineHeightFactor:nl,getLineWidth:Uo,write:ft,getHorizontalCoordinate:Ar,getVerticalCoordinate:Pi,getCoordinateString:ci,getVerticalCoordinateString:es,collections:{},newObject:nn,newAdditionalObject:si,newObjectDeferred:vn,newObjectDeferredBegin:xr,getFilters:Fr,putStream:Qn,events:At,scaleFactor:ze,pageSize:{getWidth:function(){return Ci($)},setWidth:function(d){Ho($,d)},getHeight:function(){return rs($)},setHeight:function(d){fi($,d)}},encryptionOptions:p,encryption:yn,getEncryptor:Ni,output:jo,getNumberOfPages:Yl,pages:Le,out:X,f2:j,f3:E,getPageInfo:Ja,getPageInfoByObjId:ct,getCurrentPageInfo:eu,getPDFVersion:N,Point:Li,Rectangle:qo,Matrix:tt,hasHotfix:Zl},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Ci($)},set:function(d){Ho($,d)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return rs($)},set:function(d){fi($,d)},enumerable:!0,configurable:!0}),Vc.call(m,Ce),xt="F1",Br(i,n),At.publish("initialized"),m}Lu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Lu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Lu.prototype.processOwnerPassword=function(t,e){return Jg(Yg(e).substr(0,5),t)},Lu.prototype.encryptor=function(t,e){var n=Yg(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Jg(n,r)}},e0.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Ut(t)!==Ut(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ot.API={events:[]},ot.version="3.0.1";var wn=ot.API,Ay=1,Gl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yt=function(t){return t.toFixed(2)},oa=function(t){return t.toFixed(5)};wn.__acroform__={};var ni=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Xw=function(t){return t*Ay},ks=function(t){var e=new NS,n=Ge.internal.getHeight(t)||0,r=Ge.internal.getWidth(t)||0;return e.BBox=[0,0,Number(yt(r)),Number(yt(n))],e},kj=wn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Pj=wn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Lj=wn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Tn=wn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Lj(t,e-1)},Nn=wn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return kj(t,e-1)},kn=wn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Pj(t,e-1)},Cj=wn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(yt(l.lowerLeft_X)),Number(yt(l.lowerLeft_Y)),Number(yt(l.upperRight_X)),Number(yt(l.upperRight_Y))]},Rj=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Zg(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+yt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ks(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Zg=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=n,o=Ge.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ge.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(E,T,k){if(E+1<i.length){var W=T+" "+i[E+1][0];return Fd(W,t,k).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var h,p,v=Fd("3",t,s).height,_=t.multiline?o-s:(o-v)/2,m=_+=2,A=0,N=0,V=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Fd(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var b="",I=0,M=0;M<i.length;M++)if(i.hasOwnProperty(M)){var K=!1;if(i[M].length!==1&&V!==i[M].length-1){if((v+2)*(I+2)+2>o)continue e;b+=i[M][V],K=!0,N=M,M--}else{b=(b+=i[M][V]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var ee=parseInt(M),oe=l(ee,b,s),C=M>=i.length-1;if(oe&&!C){b+=" ",V=0;continue}if(oe||C){if(C)N=ee;else if(t.multiline&&(v+2)*(I+2)+2>o)continue e}else{if(!t.multiline||(v+2)*(I+2)+2>o)continue e;N=ee}}for(var S="",R=A;R<=N;R++){var j=i[R];if(t.multiline){if(R===N){S+=j[V]+" ",V=(V+1)%j.length;continue}if(R===A){S+=j[j.length-1]+" ";continue}}S+=j[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,p=Fd(S,t,s).width,t.textAlign){case"right":h=a-p-2;break;case"center":h=(a-p)/2;break;case"left":default:h=2}e+=yt(h)+" "+yt(m)+` Td
`,e+="("+Gl(S)+`) Tj
`,e+=-yt(h)+` 0 Td
`,m=-(s+2),p=0,A=K?N:N+1,I++,b=""}break}return r.text=e,r.fontSize=s,r},Fd=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Oj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Dj=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Mj=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Ut(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},jj=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ys.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Oj)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ay=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new kS,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Dj(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],h=a.Rect;if(a.Rect&&(a.Rect=Cj(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ge.createDefaultAppearanceStream(a),Ut(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var p=Rj(a);l.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(a.appearanceStreamContent){var v="";for(var _ in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(_)){var m=a.appearanceStreamContent[_];if(v+="/"+_+" ",v+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var A=m[o];typeof A=="function"&&(A=A.call(i,a)),v+="/"+o+" "+A+" ",i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A)}}else typeof(A=m)=="function"&&(A=A.call(i,a)),v+="/"+o+" "+A,i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A);v+=">>"}l.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&Mj(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},TS=wn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Ut(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Gl(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},vm=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Gl(r(t))+")"},Os=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Os.prototype.toString=function(){return this.objId+" 0 R"},Os.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Os.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:TS(i,this.objId,this.scope)}):i instanceof Os?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var NS=function(){Os.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ni(NS,Os);var kS=function(){Os.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Gl(n(t))+")"}},set:function(n){t=n}})};ni(kS,Os);var ys=function t(){Os.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Tn(e,3)},set:function(b){b?this.F=Nn(e,3):this.F=kn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof t0)return;s="FieldObject"+t.FieldNum++}var b=function(I){return I};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Gl(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/Ay:h},set:function(b){h=b}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(b){p=b}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof t0||this instanceof Nl))return vm(v,this.objId,this.scope)},set:function(b){b=b.toString(),v=b}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Gn?_:vm(_,this.objId,this.scope)},set:function(b){b=b.toString(),_=this instanceof Gn?b:b.substr(0,1)==="("?xu(b.substr(1,b.length-2)):xu(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gn?xu(_.substr(1,_.length-1)):_},set:function(b){b=b.toString(),_=this instanceof Gn?"/"+b:b}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Gn?m:vm(m,this.objId,this.scope)},set:function(b){b=b.toString(),m=this instanceof Gn?b:b.substr(0,1)==="("?xu(b.substr(1,b.length-2)):xu(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Gn?xu(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof Gn?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(b){b=!!b,N=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(b){A=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,1)},set:function(b){b?this.Ff=Nn(this.Ff,1):this.Ff=kn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,2)},set:function(b){b?this.Ff=Nn(this.Ff,2):this.Ff=kn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,3)},set:function(b){b?this.Ff=Nn(this.Ff,3):this.Ff=kn(this.Ff,3)}});var V=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(V!==null)return V},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');V=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(V){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:V=2;break;case"center":case 1:V=1;break;case"left":case 0:default:V=0}}})};ni(ys,Os);var rc=function(){ys.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return TS(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,h=[];l=o.exec(s);)h.push(l[a]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,18)},set:function(n){n?this.Ff=Nn(this.Ff,18):this.Ff=kn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Nn(this.Ff,19):this.Ff=kn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,20)},set:function(n){n?(this.Ff=Nn(this.Ff,20),e.sort()):this.Ff=kn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,22)},set:function(n){n?this.Ff=Nn(this.Ff,22):this.Ff=kn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,23)},set:function(n){n?this.Ff=Nn(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,27)},set:function(n){n?this.Ff=Nn(this.Ff,27):this.Ff=kn(this.Ff,27)}}),this.hasAppearanceStream=!1};ni(rc,ys);var ic=function(){rc.call(this),this.fontName="helvetica",this.combo=!1};ni(ic,rc);var sc=function(){ic.call(this),this.combo=!0};ni(sc,ic);var up=function(){sc.call(this),this.edit=!0};ni(up,sc);var Gn=function(){ys.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,15)},set:function(n){n?this.Ff=Nn(this.Ff,15):this.Ff=kn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,16)},set:function(n){n?this.Ff=Nn(this.Ff,16):this.Ff=kn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,17)},set:function(n){n?this.Ff=Nn(this.Ff,17):this.Ff=kn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,26)},set:function(n){n?this.Ff=Nn(this.Ff,26):this.Ff=kn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Gl(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ut(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ni(Gn,ys);var cp=function(){Gn.call(this),this.pushButton=!0};ni(cp,Gn);var oc=function(){Gn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ni(oc,Gn);var t0=function(){var t,e;ys.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Gl(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Ut(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ge.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ni(t0,ys),oc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},oc.prototype.createOption=function(t){var e=new t0;return e.Parent=this,e.optionName=t,this.Kids.push(e),Fj.call(this.scope,e),e};var hp=function(){Gn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ge.CheckBox.createAppearanceStream()};ni(hp,Gn);var Nl=function(){ys.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,13)},set:function(e){e?this.Ff=Nn(this.Ff,13):this.Ff=kn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,21)},set:function(e){e?this.Ff=Nn(this.Ff,21):this.Ff=kn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,23)},set:function(e){e?this.Ff=Nn(this.Ff,23):this.Ff=kn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,24)},set:function(e){e?this.Ff=Nn(this.Ff,24):this.Ff=kn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,25)},set:function(e){e?this.Ff=Nn(this.Ff,25):this.Ff=kn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,26)},set:function(e){e?this.Ff=Nn(this.Ff,26):this.Ff=kn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ni(Nl,ys);var fp=function(){Nl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Tn(this.Ff,14)},set:function(t){t?this.Ff=Nn(this.Ff,14):this.Ff=kn(this.Ff,14)}}),this.password=!0};ni(fp,Nl);var Ge={CheckBox:{createAppearanceStream:function(){return{N:{On:Ge.CheckBox.YesNormal},D:{On:Ge.CheckBox.YesPushDown,Off:Ge.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ks(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Zg(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+yt(Ge.internal.getWidth(t))+" "+yt(Ge.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+yt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ks(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ge.internal.getHeight(t),o=Ge.internal.getWidth(t),a=Zg(t,t.caption);return i.push("1 g"),i.push("0 0 "+yt(o)+" "+yt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+yt(o-1)+" "+yt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+yt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ks(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yt(Ge.internal.getWidth(t))+" "+yt(Ge.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ge.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ge.RadioButton.Circle.YesNormal,e.D[t]=Ge.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ks(t);e.scope=t.scope;var n=[],r=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ge.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+oa(Ge.internal.getWidth(t)/2)+" "+oa(Ge.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ks(t);e.scope=t.scope;var n=[],r=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ge.internal.Bezier_C).toFixed(5)),o=Number((r*Ge.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+oa(Ge.internal.getWidth(t)/2)+" "+oa(Ge.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+oa(Ge.internal.getWidth(t)/2)+" "+oa(Ge.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ks(t);e.scope=t.scope;var n=[],r=Ge.internal.getWidth(t)<=Ge.internal.getHeight(t)?Ge.internal.getWidth(t)/4:Ge.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ge.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+oa(Ge.internal.getWidth(t)/2)+" "+oa(Ge.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ge.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ge.RadioButton.Cross.YesNormal,e.D[t]=Ge.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ks(t);e.scope=t.scope;var n=[],r=Ge.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+yt(Ge.internal.getWidth(t)-2)+" "+yt(Ge.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(yt(r.x1.x)+" "+yt(r.x1.y)+" m"),n.push(yt(r.x2.x)+" "+yt(r.x2.y)+" l"),n.push(yt(r.x4.x)+" "+yt(r.x4.y)+" m"),n.push(yt(r.x3.x)+" "+yt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ks(t);e.scope=t.scope;var n=Ge.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+yt(Ge.internal.getWidth(t))+" "+yt(Ge.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+yt(Ge.internal.getWidth(t)-2)+" "+yt(Ge.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(yt(n.x1.x)+" "+yt(n.x1.y)+" m"),r.push(yt(n.x2.x)+" "+yt(n.x2.y)+" l"),r.push(yt(n.x4.x)+" "+yt(n.x4.y)+" m"),r.push(yt(n.x3.x)+" "+yt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ks(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yt(Ge.internal.getWidth(t))+" "+yt(Ge.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ge.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ge.internal.getWidth(t),n=Ge.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ge.internal.getWidth=function(t){var e=0;return Ut(t)==="object"&&(e=Xw(t.Rect[2])),e},Ge.internal.getHeight=function(t){var e=0;return Ut(t)==="object"&&(e=Xw(t.Rect[3])),e};var Fj=wn.addField=function(t){if(jj(this,t),!(t instanceof ys))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};wn.AcroFormChoiceField=rc,wn.AcroFormListBox=ic,wn.AcroFormComboBox=sc,wn.AcroFormEditBox=up,wn.AcroFormButton=Gn,wn.AcroFormPushButton=cp,wn.AcroFormRadioButton=oc,wn.AcroFormCheckBox=hp,wn.AcroFormTextField=Nl,wn.AcroFormPasswordField=fp,wn.AcroFormAppearance=Ge,wn.AcroForm={ChoiceField:rc,ListBox:ic,ComboBox:sc,EditBox:up,Button:Gn,PushButton:cp,RadioButton:oc,CheckBox:hp,TextField:Nl,PasswordField:fp,Appearance:Ge},ot.AcroForm={ChoiceField:rc,ListBox:ic,ComboBox:sc,EditBox:up,Button:Gn,PushButton:cp,RadioButton:oc,CheckBox:hp,TextField:Nl,PasswordField:fp,Appearance:Ge};function PS(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(E,T){var k,W,ce,fe,ve,Y=e;if((T=T||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(oe(E))for(ve in n)for(ce=n[ve],k=0;k<ce.length;k+=1){for(fe=!0,W=0;W<ce[k].length;W+=1)if(ce[k][W]!==void 0&&ce[k][W]!==E[W]){fe=!1;break}if(fe===!0){Y=ve;break}}else for(ve in n)for(ce=n[ve],k=0;k<ce.length;k+=1){for(fe=!0,W=0;W<ce[k].length;W+=1)if(ce[k][W]!==void 0&&ce[k][W]!==E.charCodeAt(W)){fe=!1;break}if(fe===!0){Y=ve;break}}return Y===e&&T!==e&&(Y=T),Y},i=function E(T){for(var k=this.internal.write,W=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var fe=[];if(fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Image"}),fe.push({key:"Width",value:T.width}),fe.push({key:"Height",value:T.height}),T.colorSpace===V.INDEXED?fe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(fe.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===V.DEVICE_CMYK&&fe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fe.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&fe.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var ve="",Y=0,le=T.transparency.length;Y<le;Y++)ve+=T.transparency[Y]+" "+T.transparency[Y]+" ";fe.push({key:"Mask",value:"["+ve+"]"})}T.sMask!==void 0&&fe.push({key:"SMask",value:T.objectId+1+" 0 R"});var he=T.filter!==void 0?["/"+T.filter]:void 0;if(W({data:T.data,additionalKeyValues:fe,alreadyAppliedFilters:he,objectId:T.objectId}),k("endobj"),"sMask"in T&&T.sMask!==void 0){var Re="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,O={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:Re,data:T.sMask};"filter"in T&&(O.filter=T.filter),E.call(this,O)}if(T.colorSpace===V.INDEXED){var $=this.internal.newObject();W({data:S(new Uint8Array(T.palette)),objectId:$}),k("endobj")}},s=function(){var E=this.internal.collections.addImage_images;for(var T in E)i.call(this,E[T])},o=function(){var E,T=this.internal.collections.addImage_images,k=this.internal.write;for(var W in T)k("/I"+(E=T[W]).index,E.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var E=this.internal.collections.addImage_images;return a.call(this),E},h=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(E){return typeof t["process"+E.toUpperCase()]=="function"},v=function(E){return Ut(E)==="object"&&E.nodeType===1},_=function(E,T){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var k=""+E.getAttribute("src");if(k.indexOf("data:image/")===0)return Bh(unescape(k).split("base64,").pop());var W=t.loadFile(k,!0);if(W!==void 0)return W}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ce;switch(T){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return Bh(E.toDataURL(ce,1).split("base64,").pop())}},m=function(E){var T=this.internal.collections.addImage_images;if(T){for(var k in T)if(E===T[k].alias)return T[k]}},A=function(E,T,k){return E||T||(E=-96,T=-96),E<0&&(E=-1*k.width*72/E/this.internal.scaleFactor),T<0&&(T=-1*k.height*72/T/this.internal.scaleFactor),E===0&&(E=T*k.width/k.height),T===0&&(T=E*k.height/k.width),[E,T]},N=function(E,T,k,W,ce,fe){var ve=A.call(this,k,W,ce),Y=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,he=l.call(this);if(k=ve[0],W=ve[1],he[ce.index]=ce,fe){fe*=Math.PI/180;var Re=Math.cos(fe),O=Math.sin(fe),$=function(J){return J.toFixed(4)},Q=[$(Re),$(O),$(-1*O),$(Re),0,0,"cm"]}this.internal.write("q"),fe?(this.internal.write([1,"0","0",1,Y(E),le(T+W),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([Y(k),"0","0",Y(W),"0","0","cm"].join(" "))):this.internal.write([Y(k),"0","0",Y(W),Y(E),le(T+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},V=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=t.__addimage__.sHashCode=function(E){var T,k,W=0;if(typeof E=="string")for(k=E.length,T=0;T<k;T++)W=(W<<5)-W+E.charCodeAt(T),W|=0;else if(oe(E))for(k=E.byteLength/2,T=0;T<k;T++)W=(W<<5)-W+E[T],W|=0;return W},M=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var T=!0;return E.length===0&&(T=!1),E.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(T=!1),T},K=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var T=E.indexOf(",");return T<0?null:E.substring(0,T).trim().endsWith("base64")?E.substring(T+1):null},ee=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(E){return ee()&&E instanceof ArrayBuffer};var oe=t.__addimage__.isArrayBufferView=function(E){return ee()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},C=t.__addimage__.binaryStringToUint8Array=function(E){for(var T=E.length,k=new Uint8Array(T),W=0;W<T;W++)k[W]=E.charCodeAt(W);return k},S=t.__addimage__.arrayBufferToBinaryString=function(E){for(var T="",k=oe(E)?E:new Uint8Array(E),W=0;W<k.length;W+=8192)T+=String.fromCharCode.apply(null,k.subarray(W,W+8192));return T};t.addImage=function(){var E,T,k,W,ce,fe,ve,Y,le;if(typeof arguments[1]=="number"?(T=e,k=arguments[1],W=arguments[2],ce=arguments[3],fe=arguments[4],ve=arguments[5],Y=arguments[6],le=arguments[7]):(T=arguments[1],k=arguments[2],W=arguments[3],ce=arguments[4],fe=arguments[5],ve=arguments[6],Y=arguments[7],le=arguments[8]),Ut(E=arguments[0])==="object"&&!v(E)&&"imageData"in E){var he=E;E=he.imageData,T=he.format||T||e,k=he.x||k||0,W=he.y||W||0,ce=he.w||he.width||ce,fe=he.h||he.height||fe,ve=he.alias||ve,Y=he.compression||Y,le=he.rotation||he.angle||le}var Re=this.internal.getFilters();if(Y===void 0&&Re.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(k)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var O=R.call(this,E,T,ve,Y);return N.call(this,k,W,ce,fe,O,le),this};var R=function(E,T,k,W){var ce,fe,ve;if(typeof E=="string"&&r(E)===e){E=unescape(E);var Y=j(E,!1);(Y!==""||(Y=t.loadFile(E,!0))!==void 0)&&(E=Y)}if(v(E)&&(E=_(E,T)),T=r(E,T),!p(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((ve=k)==null||ve.length===0)&&(k=function(le){return typeof le=="string"||oe(le)?I(le):oe(le.data)?I(le.data):null}(E)),(ce=m.call(this,k))||(ee()&&(E instanceof Uint8Array||T==="RGBA"||(fe=E,E=C(E))),ce=this["process"+T.toUpperCase()](E,h.call(this),k,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:b.NONE}(W),fe)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},j=t.__addimage__.convertBase64ToBinaryString=function(E,T){T=typeof T!="boolean"||T;var k,W="";if(typeof E=="string"){var ce;k=(ce=K(E))!==null&&ce!==void 0?ce:E;try{W=Bh(k)}catch(fe){if(T)throw M(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(E){var T,k,W="";if(v(E)&&(E=_(E)),typeof E=="string"&&r(E)===e&&((W=j(E,!1))===""&&(W=t.loadFile(E)||""),E=W),k=r(E),!p(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(!ee()||E instanceof Uint8Array||(E=C(E)),!(T=this["process"+k.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=k,T}})(ot.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ot.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,p=!1,v=0;v<h.length&&!p;v++)switch((r=h[v]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var _=0;_<h.length;_++){r=h[_];var m=this.internal.pdfEscape,A=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),V=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(N.objId),I=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(b(r.contents))+")",s+=" /Popup "+V.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(b(I))+") >>",N.content=s;var M=N.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+M,r.open&&(s+=" /Open true"),s+=" >>",V.content=s,this.internal.write(N.objId,"0 R",V.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var K=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(A(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+K+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ee=this.annotations._nameMap[r.options.name];r.options.pageNumber=ee.page,r.options.top=ee.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(A(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var oe=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+oe+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:h(r),w:l(n+i),h:h(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var p=this.splitTextToSize(n,a).length;o=Math.ceil(h*p)}else a=l,o=h;return this.text(n,r,i,s),i+=.2*h,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-h,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ot.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},a=t.__arabicParser__.isArabicEndLetter=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(N){return o(N)&&i.indexOf(N.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(N){return o(N)&&s(N)&&e[N.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(N){var V=0,b=n,I="",M=0;for(V=0;V<N.length;V+=1)b[N.charCodeAt(V)]!==void 0?(M++,typeof(b=b[N.charCodeAt(V)])=="number"&&(I+=String.fromCharCode(b),b=n,M=0),V===N.length-1&&(b=n,I+=N.charAt(V-(M-1)),V-=M-1,M=0)):(b=n,I+=N.charAt(V-M),V-=M,M=0);return I};t.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&r[N.charCodeAt(0)]!==void 0};var _=t.__arabicParser__.getCorrectForm=function(N,V,b){return o(N)?s(N)===!1?-1:!h(N)||!o(V)&&!o(b)||!o(b)&&a(V)||a(N)&&!o(V)||a(N)&&l(V)||a(N)&&a(V)?0:p(N)&&o(V)&&!a(V)&&o(b)&&h(b)?3:a(N)||!o(b)?1:2:-1},m=function(N){var V=0,b=0,I=0,M="",K="",ee="",oe=(N=N||"").split("\\s+"),C=[];for(V=0;V<oe.length;V+=1){for(C.push(""),b=0;b<oe[V].length;b+=1)M=oe[V][b],K=oe[V][b-1],ee=oe[V][b+1],o(M)?(I=_(M,K,ee),C[V]+=I!==-1?String.fromCharCode(e[M.charCodeAt(0)][I]):M):C[V]+=M;C[V]=v(C[V])}return C.join(" ")},A=t.__arabicParser__.processArabic=t.processArabic=function(){var N,V=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(V)){var I=0;for(b=[],I=0;I<V.length;I+=1)Array.isArray(V[I])?b.push([m(V[I][0]),V[I][1],V[I][2]]):b.push([m(V[I])]);N=b}else N=m(V);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};t.events.push(["preProcessText",A])}(ot.API),ot.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ot.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(N){l=N}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(N){v=N}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(N){_=N}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(N){A=N}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,h){r.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),v=h.font||this.getFont(),_=h.scaleFactor||this.internal.scaleFactor,m=0,A=0,N=0,V=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=h.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(M,K){return M.concat(V.splitTextToSize(K,b))},[])):l=Array.isArray(l)?l:[l];for(var I=0;I<l.length;I++)m<(N=this.getStringUnitWidth(l[I],{font:v})*p)&&(m=N);return m!==0&&(A=l.length),{w:m/=_,h:Math.max((A*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/_,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===l.lineNumber?(l.x=(h.x||0)+(h.width||0),l.y=h.y||0):h.y+h.height+l.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=v.top,m&&_&&(this.printHeaderRow(l.lineNumber,!0),l.y+=_[0].height)):l.y=h.y+h.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-p,l.y+p,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+p,{align:"center",baseline:"top",maxWidth:l.width-p-p}):this.text(l.text,l.x+p,l.y+p,{align:"left",baseline:"top",maxWidth:l.width-p-p})),this.internal.__cell__.lastCell=l,this};t.table=function(l,h,p,v,_){if(r.call(this),!p)throw new Error("No data for PDF table.");var m,A,N,V,b=[],I=[],M=[],K={},ee={},oe=[],C=[],S=(_=_||{}).autoSize||!1,R=_.printHeaders!==!1,j=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,E=_.margins||Object.assign({width:this.getPageWidth()},e),T=typeof _.padding=="number"?_.padding:3,k=_.headerBackgroundColor||"#c8c8c8",W=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=W,this.setFontSize(j),v==null)I=b=Object.keys(p[0]),M=b.map(function(){return"left"});else if(Array.isArray(v)&&Ut(v[0])==="object")for(b=v.map(function(he){return he.name}),I=v.map(function(he){return he.prompt||he.name||""}),M=v.map(function(he){return he.align||"left"}),m=0;m<v.length;m+=1)ee[v[m].name]=v[m].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(I=b=v,M=b.map(function(){return"left"}));if(S||Array.isArray(v)&&typeof v[0]=="string")for(m=0;m<b.length;m+=1){for(K[V=b[m]]=p.map(function(he){return he[V]}),this.setFont(void 0,"bold"),oe.push(this.getTextDimensions(I[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=K[V],this.setFont(void 0,"normal"),N=0;N<A.length;N+=1)oe.push(this.getTextDimensions(A[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ee[V]=Math.max.apply(null,oe)+T+T,oe=[]}if(R){var ce={};for(m=0;m<b.length;m+=1)ce[b[m]]={},ce[b[m]].text=I[m],ce[b[m]].align=M[m];var fe=a.call(this,ce,ee);C=b.map(function(he){return new s(l,h,ee[he],fe,ce[he].text,void 0,ce[he].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var ve=v.reduce(function(he,Re){return he[Re.name]=Re.align,he},{});for(m=0;m<p.length;m+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:m,data:p[m]},this);var Y=a.call(this,p[m],ee);for(N=0;N<b.length;N+=1){var le=p[m][b[N]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:m,col:N,data:le},this),o.call(this,new s(l,h,ee[b[N]],Y,le,m+2,ve[b[N]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=h,this};var a=function(l,h){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(l).map(function(m){var A=l[m];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,h[m]-p-p)},this).map(function(m){return this.getLineHeightFactor()*m.length*v/_+p+p},this).reduce(function(m,A){return Math.max(m,A)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){p=this.internal.__cell__.tableHeaderRow[m].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,_.push(p)),p.lineNumber=l;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(A)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),n=!1}}(ot.API);var LS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},CS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],e2=PS(CS),RS=[100,200,300,400,500,600,700,800,900],Vj=PS(RS);function t2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return LS[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof e2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Yw(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Bj={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Jw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Zw(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Uj(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Bj,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=t2(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+Zw(s)+"' and default family '"+r+"'.");if(o=function(l,h){if(h[l])return h[l];var p=e2[l],v=p<=e2.normal?-1:1,_=Yw(h,CS,p,v);if(!_)throw new Error("Could not find a matching font-stretch value for "+l);return _}(s.stretch,o),o=function(l,h){if(h[l])return h[l];for(var p=LS[l],v=0;v<p.length;++v)if(h[p[v]])return h[p[v]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,h){if(h[l])return h[l];if(l===400&&h[500])return h[500];if(l===500&&h[400])return h[400];var p=Vj[l],v=Yw(h,RS,p,l<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+l);return v}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Zw(s)+"'.");return o}function eb(t){return t.trimLeft()}function qj(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function zj(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Vd,tb,nb,ym=["times"];(function(t){var e,n,r,i,s,o,a,l,h,p=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new l,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,h=new p}]);var v=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=O;Object.defineProperty(this,"pdf",{get:function(){return $}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Ee){Q=!!Ee}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(Ee){J=!!Ee}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(Ee){isNaN(Ee)||(ie=Ee)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Ee){isNaN(Ee)||(de=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Ee){var X;typeof Ee=="number"?X=[Ee,Ee,Ee,Ee]:((X=new Array(4))[0]=Ee[0],X[1]=Ee.length>=2?Ee[1]:X[0],X[2]=Ee.length>=3?Ee[2]:X[0],X[3]=Ee.length>=4?Ee[3]:X[1]),h.margin=X}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(Ee){ye=Ee}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(Ee){_e=Ee}});var De=[];Object.defineProperty(this,"pageBreaks",{get:function(){return De},set:function(Ee){De=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Ee){Ee instanceof p&&(h=Ee)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Ee){h.path=Ee}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(Ee){Le=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var X;X=_(Ee),this.ctx.fillStyle=X.style,this.ctx.isFillTransparent=X.a===0,this.ctx.fillOpacity=X.a,this.pdf.setFillColor(X.r,X.g,X.b,{a:X.a}),this.pdf.setTextColor(X.r,X.g,X.b,{a:X.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var X=_(Ee);this.ctx.strokeStyle=X.style,this.ctx.isStrokeTransparent=X.a===0,this.ctx.strokeOpacity=X.a,X.a===0?this.pdf.setDrawColor(255,255,255):(X.a,this.pdf.setDrawColor(X.r,X.g,X.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var Ve=null;function je(Ee,X){if(Ve===null){var ft=function(Ke){var Ce=[];return Object.keys(Ke).forEach(function(Me){Ke[Me].forEach(function(Ue){var Be=null;switch(Ue){case"bold":Be={family:Me,weight:"bold"};break;case"italic":Be={family:Me,style:"italic"};break;case"bolditalic":Be={family:Me,weight:"bold",style:"italic"};break;case"":case"normal":Be={family:Me}}Be!==null&&(Be.ref={name:Me,style:Ue},Ce.push(Be))})}),Ce}(Ee.getFontList());Ve=function(Ke){for(var Ce={},Me=0;Me<Ke.length;++Me){var Ue=t2(Ke[Me]),Be=Ue.family,Je=Ue.stretch,lt=Ue.style,gt=Ue.weight;Ce[Be]=Ce[Be]||{},Ce[Be][Je]=Ce[Be][Je]||{},Ce[Be][Je][lt]=Ce[Be][Je][lt]||{},Ce[Be][Je][lt][gt]=Ue}return Ce}(ft.concat(X))}return Ve}var et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(Ee){Ve=null,et=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var X;if(this.ctx.font=Ee,(X=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var ft=X[1];X[2];var Ke=X[3],Ce=X[4];X[5];var Me=X[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ce)[2];Ce=Math.floor(Ue==="px"?parseFloat(Ce)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(Ce)*this.pdf.getFontSize():parseFloat(Ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ce);var Be=function(nt){var xt,ze,qn=[],St=nt.trim();if(St==="")return ym;if(St in Jw)return[Jw[St]];for(;St!=="";){switch(ze=null,xt=(St=eb(St)).charAt(0)){case'"':case"'":ze=qj(St.substring(1),xt);break;default:ze=zj(St)}if(ze===null||(qn.push(ze[0]),(St=eb(ze[1]))!==""&&St.charAt(0)!==","))return ym;St=St.replace(/^,/,"")}return qn}(Me);if(this.fontFaces){var Je=Uj(je(this.pdf,this.fontFaces),Be.map(function(nt){return{family:nt,stretch:"normal",weight:Ke,style:ft}}));this.pdf.setFont(Je.ref.name,Je.ref.style)}else{var lt="";(Ke==="bold"||parseInt(Ke,10)>=700||ft==="bold")&&(lt="bold"),ft==="italic"&&(lt+="italic"),lt.length===0&&(lt="normal");for(var gt="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},st=0;st<Be.length;st++){if(this.pdf.internal.getFont(Be[st],lt,{noFallback:!0,disableWarning:!0})!==void 0){gt=Be[st];break}if(lt==="bolditalic"&&this.pdf.internal.getFont(Be[st],"bold",{noFallback:!0,disableWarning:!0})!==void 0)gt=Be[st],lt="bold";else if(this.pdf.internal.getFont(Be[st],"normal",{noFallback:!0,disableWarning:!0})!==void 0){gt=Be[st],lt="normal";break}}if(gt===""){for(var vt=0;vt<Be.length;vt++)if(bt[Be[vt]]){gt=bt[Be[vt]];break}}gt=gt===""?"Times":gt,this.pdf.setFont(gt,lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,Re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,Re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};v.prototype.setLineDash=function(O){this.lineDash=O},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){K.call(this,"fill",!1)},v.prototype.stroke=function(){K.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(O,$){if(isNaN(O)||isNaN($))throw Xt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(O,$));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(O,$)},v.prototype.closePath=function(){var O=new o(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Ut(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){O=new o(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},v.prototype.lineTo=function(O,$){if(isNaN(O)||isNaN($))throw Xt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(O,$));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),K.call(this,null,!0)},v.prototype.quadraticCurveTo=function(O,$,Q,J){if(isNaN(Q)||isNaN(J)||isNaN(O)||isNaN($))throw Xt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new o(Q,J)),de=this.ctx.transform.applyToPoint(new o(O,$));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},v.prototype.bezierCurveTo=function(O,$,Q,J,ie,de){if(isNaN(ie)||isNaN(de)||isNaN(O)||isNaN($)||isNaN(Q)||isNaN(J))throw Xt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new o(ie,de)),_e=this.ctx.transform.applyToPoint(new o(O,$)),De=this.ctx.transform.applyToPoint(new o(Q,J));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:De.x,y2:De.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new o(ye.x,ye.y)},v.prototype.arc=function(O,$,Q,J,ie,de){if(isNaN(O)||isNaN($)||isNaN(Q)||isNaN(J)||isNaN(ie))throw Xt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new o(O,$));O=ye.x,$=ye.y;var _e=this.ctx.transform.applyToPoint(new o(0,Q)),De=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(_e.x-De.x,2)+Math.pow(_e.y-De.y,2))}Math.abs(ie-J)>=2*Math.PI&&(J=0,ie=2*Math.PI),this.path.push({type:"arc",x:O,y:$,radius:Q,startAngle:J,endAngle:ie,counterclockwise:de})},v.prototype.arcTo=function(O,$,Q,J,ie){throw new Error("arcTo not implemented.")},v.prototype.rect=function(O,$,Q,J){if(isNaN(O)||isNaN($)||isNaN(Q)||isNaN(J))throw Xt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,$),this.lineTo(O+Q,$),this.lineTo(O+Q,$+J),this.lineTo(O,$+J),this.lineTo(O,$),this.lineTo(O+Q,$),this.lineTo(O,$)},v.prototype.fillRect=function(O,$,Q,J){if(isNaN(O)||isNaN($)||isNaN(Q)||isNaN(J))throw Xt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,$,Q,J),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},v.prototype.strokeRect=function(O,$,Q,J){if(isNaN(O)||isNaN($)||isNaN(Q)||isNaN(J))throw Xt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(O,$,Q,J),this.stroke())},v.prototype.clearRect=function(O,$,Q,J){if(isNaN(O)||isNaN($)||isNaN(Q)||isNaN(J))throw Xt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,$,Q,J))},v.prototype.save=function(O){O=typeof O!="boolean"||O;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage($),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},v.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage($),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(O){var $,Q,J,ie;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))$=0,Q=0,J=0,ie=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(de!==null)$=parseInt(de[1]),Q=parseInt(de[2]),J=parseInt(de[3]),ie=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)$=parseInt(de[1]),Q=parseInt(de[2]),J=parseInt(de[3]),ie=parseFloat(de[4]);else{if(ie=1,typeof O=="string"&&O.charAt(0)!=="#"){var ye=new SS(O);O=ye.ok?ye.toHex():"#000000"}O.length===4?($=O.substring(1,2),$+=$,Q=O.substring(2,3),Q+=Q,J=O.substring(3,4),J+=J):($=O.substring(1,3),Q=O.substring(3,5),J=O.substring(5,7)),$=parseInt($,16),Q=parseInt(Q,16),J=parseInt(J,16)}}return{r:$,g:Q,b:J,a:ie,style:O}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(O,$,Q,J){if(isNaN($)||isNaN(Q)||typeof O!="string")throw Xt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!m.call(this)){var ie=Y(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;T.call(this,{text:O,x:$,y:Q,scale:de,angle:ie,align:this.textAlign,maxWidth:J})}},v.prototype.strokeText=function(O,$,Q,J){if(isNaN($)||isNaN(Q)||typeof O!="string")throw Xt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){J=isNaN(J)?void 0:J;var ie=Y(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;T.call(this,{text:O,x:$,y:Q,scale:de,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:J})}},v.prototype.measureText=function(O){if(typeof O!="string")throw Xt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,Q=this.pdf.internal.scaleFactor,J=$.internal.getFontSize(),ie=$.getStringUnitWidth(O)*J/$.internal.scaleFactor,de=function(ye){var _e=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this};return new de({width:ie*=Math.round(96*Q/72*1e4)/1e4})},v.prototype.scale=function(O,$){if(isNaN(O)||isNaN($))throw Xt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(O,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},v.prototype.rotate=function(O){if(isNaN(O))throw Xt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply($)},v.prototype.translate=function(O,$){if(isNaN(O)||isNaN($))throw Xt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,O,$);this.ctx.transform=this.ctx.transform.multiply(Q)},v.prototype.transform=function(O,$,Q,J,ie,de){if(isNaN(O)||isNaN($)||isNaN(Q)||isNaN(J)||isNaN(ie)||isNaN(de))throw Xt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new l(O,$,Q,J,ie,de);this.ctx.transform=this.ctx.transform.multiply(ye)},v.prototype.setTransform=function(O,$,Q,J,ie,de){O=isNaN(O)?1:O,$=isNaN($)?0:$,Q=isNaN(Q)?0:Q,J=isNaN(J)?1:J,ie=isNaN(ie)?0:ie,de=isNaN(de)?0:de,this.ctx.transform=new l(O,$,Q,J,ie,de)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(O,$,Q,J,ie,de,ye,_e,De){var Le=this.pdf.getImageProperties(O),Ve=1,je=1,et=1,Ee=1;J!==void 0&&_e!==void 0&&(et=_e/J,Ee=De/ie,Ve=Le.width/J*_e/J,je=Le.height/ie*De/ie),de===void 0&&(de=$,ye=Q,$=0,Q=0),J!==void 0&&_e===void 0&&(_e=J,De=ie),J===void 0&&_e===void 0&&(_e=Le.width,De=Le.height);for(var X,ft=this.ctx.transform.decompose(),Ke=Y(ft.rotate.shx),Ce=new l,Me=(Ce=(Ce=(Ce=Ce.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale)).applyToRectangle(new a(de-$*et,ye-Q*Ee,J*Ve,ie*je)),Ue=V.call(this,Me),Be=[],Je=0;Je<Ue.length;Je+=1)Be.indexOf(Ue[Je])===-1&&Be.push(Ue[Je]);if(M(Be),this.autoPaging)for(var lt=Be[0],gt=Be[Be.length-1],bt=lt;bt<gt+1;bt++){this.pdf.setPage(bt);var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=bt===1?this.posY+this.margin[0]:this.margin[0],nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=bt===1?0:nt+(bt-2)*xt;if(this.ctx.clip_path.length!==0){var qn=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(X,this.posX+this.margin[3],-ze+vt+this.ctx.prevPageLastElemOffset),ee.call(this,"fill",!0),this.path=qn}var St=JSON.parse(JSON.stringify(Me));St=I([St],this.posX+this.margin[3],-ze+vt+this.ctx.prevPageLastElemOffset)[0];var Dr=(bt>lt||bt<gt)&&N.call(this);Dr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,xt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",St.x,St.y,St.w,St.h,null,null,Ke),Dr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,Ke)};var V=function(O,$,Q){var J=[];$=$||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":J.push(Math.floor((O.y+ie)/Q)+1);break;case"arc":J.push(Math.floor((O.y+ie-O.radius)/Q)+1),J.push(Math.floor((O.y+ie+O.radius)/Q)+1);break;case"qct":var de=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);J.push(Math.floor((de.y+ie)/Q)+1),J.push(Math.floor((de.y+de.h+ie)/Q)+1);break;case"bct":var ye=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);J.push(Math.floor((ye.y+ie)/Q)+1),J.push(Math.floor((ye.y+ye.h+ie)/Q)+1);break;case"rect":J.push(Math.floor((O.y+ie)/Q)+1),J.push(Math.floor((O.y+O.h+ie)/Q)+1)}for(var _e=0;_e<J.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<J[_e];)b.call(this);return J},b=function(){var O=this.fillStyle,$=this.strokeStyle,Q=this.font,J=this.lineCap,ie=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=$,this.font=Q,this.lineCap=J,this.lineWidth=ie,this.lineJoin=de},I=function(O,$,Q){for(var J=0;J<O.length;J++)switch(O[J].type){case"bct":O[J].x2+=$,O[J].y2+=Q;case"qct":O[J].x1+=$,O[J].y1+=Q;case"mt":case"lt":case"arc":default:O[J].x+=$,O[J].y+=Q}return O},M=function(O){return O.sort(function($,Q){return $-Q})},K=function(O,$){for(var Q,J,ie=this.fillStyle,de=this.strokeStyle,ye=this.lineCap,_e=this.lineWidth,De=Math.abs(_e*this.ctx.transform.scaleX),Le=this.lineJoin,Ve=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),et=[],Ee=0;Ee<je.length;Ee++)if(je[Ee].x!==void 0)for(var X=V.call(this,je[Ee]),ft=0;ft<X.length;ft+=1)et.indexOf(X[ft])===-1&&et.push(X[ft]);for(var Ke=0;Ke<et.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<et[Ke];)b.call(this);if(M(et),this.autoPaging)for(var Ce=et[0],Me=et[et.length-1],Ue=Ce;Ue<Me+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=ie,this.strokeStyle=de,this.lineCap=ye,this.lineWidth=De,this.lineJoin=Le;var Be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=Ue===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=Ue===1?0:lt+(Ue-2)*gt;if(this.ctx.clip_path.length!==0){var st=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Q,this.posX+this.margin[3],-bt+Je+this.ctx.prevPageLastElemOffset),ee.call(this,O,!0),this.path=st}if(J=JSON.parse(JSON.stringify(Ve)),this.path=I(J,this.posX+this.margin[3],-bt+Je+this.ctx.prevPageLastElemOffset),$===!1||Ue===0){var vt=(Ue>Ce||Ue<Me)&&N.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,gt,null).clip().discardPath()),ee.call(this,O,$),vt&&this.pdf.restoreGraphicsState()}this.lineWidth=_e}else this.lineWidth=De,ee.call(this,O,$),this.lineWidth=_e;this.path=Ve},ee=function(O,$){if((O!=="stroke"||$||!A.call(this))&&(O==="stroke"||$||!m.call(this))){for(var Q,J,ie=[],de=this.path,ye=0;ye<de.length;ye++){var _e=de[ye];switch(_e.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:_e,deltas:[],abs:[]});break;case"lt":var De=ie.length;if(de[ye-1]&&!isNaN(de[ye-1].x)&&(Q=[_e.x-de[ye-1].x,_e.y-de[ye-1].y],De>0)){for(;De>=0;De--)if(ie[De-1].close!==!0&&ie[De-1].begin!==!0){ie[De-1].deltas.push(Q),ie[De-1].abs.push(_e);break}}break;case"bct":Q=[_e.x1-de[ye-1].x,_e.y1-de[ye-1].y,_e.x2-de[ye-1].x,_e.y2-de[ye-1].y,_e.x-de[ye-1].x,_e.y-de[ye-1].y],ie[ie.length-1].deltas.push(Q);break;case"qct":var Le=de[ye-1].x+2/3*(_e.x1-de[ye-1].x),Ve=de[ye-1].y+2/3*(_e.y1-de[ye-1].y),je=_e.x+2/3*(_e.x1-_e.x),et=_e.y+2/3*(_e.y1-_e.y),Ee=_e.x,X=_e.y;Q=[Le-de[ye-1].x,Ve-de[ye-1].y,je-de[ye-1].x,et-de[ye-1].y,Ee-de[ye-1].x,X-de[ye-1].y],ie[ie.length-1].deltas.push(Q);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(_e)}}J=$?null:O==="stroke"?"stroke":"fill";for(var ft=!1,Ke=0;Ke<ie.length;Ke++)if(ie[Ke].arc)for(var Ce=ie[Ke].abs,Me=0;Me<Ce.length;Me++){var Ue=Ce[Me];Ue.type==="arc"?S.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,$,!ft):k.call(this,Ue.x,Ue.y),ft=!0}else if(ie[Ke].close===!0)this.pdf.internal.out("h"),ft=!1;else if(ie[Ke].begin!==!0){var Be=ie[Ke].start.x,Je=ie[Ke].start.y;W.call(this,ie[Ke].deltas,Be,Je),ft=!0}J&&R.call(this,J),$&&j.call(this)}},oe=function(O){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-Q;case"top":return O+$-Q;case"hanging":return O+$-2*Q;case"middle":return O+$/2-Q;case"ideographic":return O;case"alphabetic":default:return O}},C=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function($,Q){this.colorStops.push([$,Q])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(O,$,Q,J,ie,de,ye,_e,De){for(var Le=fe.call(this,Q,J,ie,de),Ve=0;Ve<Le.length;Ve++){var je=Le[Ve];Ve===0&&(De?E.call(this,je.x1+O,je.y1+$):k.call(this,je.x1+O,je.y1+$)),ce.call(this,O,$,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}_e?j.call(this):R.call(this,ye)},R=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(O,$){this.pdf.internal.out(n(O)+" "+r($)+" m")},T=function(O){var $;switch(O.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var Q=this.pdf.getTextDimensions(O.text),J=oe.call(this,O.y),ie=C.call(this,J)-Q.h,de=this.ctx.transform.applyToPoint(new o(O.x,J)),ye=this.ctx.transform.decompose(),_e=new l;_e=(_e=(_e=_e.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var De,Le,Ve,je=this.ctx.transform.applyToRectangle(new a(O.x,J,Q.w,Q.h)),et=_e.applyToRectangle(new a(O.x,ie,Q.w,Q.h)),Ee=V.call(this,et),X=[],ft=0;ft<Ee.length;ft+=1)X.indexOf(Ee[ft])===-1&&X.push(Ee[ft]);if(M(X),this.autoPaging)for(var Ke=X[0],Ce=X[X.length-1],Me=Ke;Me<Ce+1;Me++){this.pdf.setPage(Me);var Ue=Me===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[2],lt=Je-this.margin[0],gt=this.pdf.internal.pageSize.width-this.margin[1],bt=gt-this.margin[3],st=Me===1?0:Be+(Me-2)*lt;if(this.ctx.clip_path.length!==0){var vt=this.path;De=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(De,this.posX+this.margin[3],-1*st+Ue),ee.call(this,"fill",!0),this.path=vt}var nt=I([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-st+Ue+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*O.scale),Ve=this.lineWidth,this.lineWidth=Ve*O.scale);var xt=this.autoPaging!=="text";if(xt||nt.y+nt.h<=Je){if(xt||nt.y>=Ue&&nt.x<=gt){var ze=xt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||gt-nt.x)[0],qn=I([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-st+Ue+this.ctx.prevPageLastElemOffset)[0],St=xt&&(Me>Ke||Me<Ce)&&N.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,lt,null).clip().discardPath()),this.pdf.text(ze,qn.x,qn.y,{angle:O.angle,align:$,renderingMode:O.renderingMode}),St&&this.pdf.restoreGraphicsState()}}else nt.y<Je&&(this.ctx.prevPageLastElemOffset+=Je-nt.y);O.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=Ve)}else O.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*O.scale),Ve=this.lineWidth,this.lineWidth=Ve*O.scale),this.pdf.text(O.text,de.x+this.posX,de.y+this.posY,{angle:O.angle,align:$,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=Ve)},k=function(O,$,Q,J){Q=Q||0,J=J||0,this.pdf.internal.out(n(O+Q)+" "+r($+J)+" l")},W=function(O,$,Q){return this.pdf.lines(O,$,Q,null,null)},ce=function(O,$,Q,J,ie,de,ye,_e){this.pdf.internal.out([e(i(Q+O)),e(s(J+$)),e(i(ie+O)),e(s(de+$)),e(i(ye+O)),e(s(_e+$)),"c"].join(" "))},fe=function(O,$,Q,J){for(var ie=2*Math.PI,de=Math.PI/2;$>Q;)$-=ie;var ye=Math.abs(Q-$);ye<ie&&J&&(ye=ie-ye);for(var _e=[],De=J?-1:1,Le=$;ye>1e-5;){var Ve=Le+De*Math.min(ye,de);_e.push(ve.call(this,O,Le,Ve)),ye-=Math.abs(Ve-Le),Le=Ve}return _e},ve=function(O,$,Q){var J=(Q-$)/2,ie=O*Math.cos(J),de=O*Math.sin(J),ye=ie,_e=-de,De=ye*ye+_e*_e,Le=De+ye*ie+_e*de,Ve=4/3*(Math.sqrt(2*De*Le)-Le)/(ye*de-_e*ie),je=ye-Ve*_e,et=_e+Ve*ye,Ee=je,X=-et,ft=J+$,Ke=Math.cos(ft),Ce=Math.sin(ft);return{x1:O*Math.cos($),y1:O*Math.sin($),x2:je*Ke-et*Ce,y2:je*Ce+et*Ke,x3:Ee*Ke-X*Ce,y3:Ee*Ce+X*Ke,x4:O*Math.cos(Q),y4:O*Math.sin(Q)}},Y=function(O){return 180*O/Math.PI},le=function(O,$,Q,J,ie,de){var ye=O+.5*(Q-O),_e=$+.5*(J-$),De=ie+.5*(Q-ie),Le=de+.5*(J-de),Ve=Math.min(O,ie,ye,De),je=Math.max(O,ie,ye,De),et=Math.min($,de,_e,Le),Ee=Math.max($,de,_e,Le);return new a(Ve,et,je-Ve,Ee-et)},he=function(O,$,Q,J,ie,de,ye,_e){var De,Le,Ve,je,et,Ee,X,ft,Ke,Ce,Me,Ue,Be,Je,lt=Q-O,gt=J-$,bt=ie-Q,st=de-J,vt=ye-ie,nt=_e-de;for(Le=0;Le<41;Le++)Ke=(X=(Ve=O+(De=Le/40)*lt)+De*((et=Q+De*bt)-Ve))+De*(et+De*(ie+De*vt-et)-X),Ce=(ft=(je=$+De*gt)+De*((Ee=J+De*st)-je))+De*(Ee+De*(de+De*nt-Ee)-ft),Le==0?(Me=Ke,Ue=Ce,Be=Ke,Je=Ce):(Me=Math.min(Me,Ke),Ue=Math.min(Ue,Ce),Be=Math.max(Be,Ke),Je=Math.max(Je,Ce));return new a(Math.round(Me),Math.round(Ue),Math.round(Be-Me),Math.round(Je-Ue))},Re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,$,Q=(O=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:$}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(ot.API),function(t){var e=function(s){var o,a,l,h,p,v,_,m,A,N;for(a=[],l=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>l;l+=4)(p=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(v=(p=((p=((p=((p=(p-(N=p%85))/85)-(A=p%85))/85)-(m=p%85))/85)-(_=p%85))/85)%85,a.push(v+33,_+33,m+33,A+33,N+33)):a.push(122);return function(V,b){for(var I=b;I>0;I--)V.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,h,p,v=String,_="length",m=255,A="charCodeAt",N="slice",V="replace";for(s[N](-2),s=s[N](0,-2)[V](/\s/g,"")[V]("z","!!!!!"),l=[],h=0,p=(s+=o="uuuuu"[N](s[_]%5||5))[_];p>h;h+=5)a=52200625*(s[A](h)-33)+614125*(s[A](h+1)-33)+7225*(s[A](h+2)-33)+85*(s[A](h+3)-33)+(s[A](h+4)-33),l.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(b,I){for(var M=I;M>0;M--)b.pop()}(l,o[_]),v.fromCharCode.apply(v,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=Qg(o)).reduce(function(l,h){return l+String.fromCharCode(h)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:h.reverse().join(" ")}}}(ot.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,h,p){var v=new XMLHttpRequest,_=0,m=function(A){var N=A.length,V=[],b=String.fromCharCode;for(_=0;_<N;_+=1)V.push(b(255&A.charCodeAt(_)));return V.join("")};if(v.open("GET",l,!h),v.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(v.onload=function(){v.status===200?p(m(this.responseText)):p(void 0)}),v.send(null),h&&v.status===200)return m(v.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(ot.API),function(t){function e(){return(at.html2canvas?Promise.resolve(at.html2canvas):$g(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(at.DOMPurify?Promise.resolve(at.DOMPurify):$g(()=>import("./purify.es-31816194.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Ut(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var h in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[h]=a.style[h];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),l);return h=(h=h.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(h,p){for(var v=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),_=h.firstChild;_;_=_.nextSibling)p!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||v.appendChild(l(_,p));return h.nodeType===1&&(h.nodeName==="CANVAS"?(v.width=h.width,v.height=h.height,v.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(v.value=h.value),v.addEventListener("load",function(){v.scrollTop=h.scrollTop,v.scrollLeft=h.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=h,h)for(var _=0;_<h.length;++_){var m=h[_],A=m.src.find(function(N){return N.format==="truetype"});A&&l.addFont(A.url,m.ref.name,m.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,l.context2d.save(!0),a(this.prop.container,v)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,h){return Math.floor(l*h/72*96)}return this.then(function(){(o=o||ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,h){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,h){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(h,p){return l.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(v){return l.updateProgress(null,h),v}).then(h,p).then(function(v){return l.updateProgress(1),v})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=l.call(h,o,a);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ot.getPageSize=function(o,a,l){if(Ut(o)==="object"){var h=o;o=h.orientation,a=h.unit||a,l=h.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var p,v=(""+l).toLowerCase(),_={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+a}var m,A=0,N=0;if(_.hasOwnProperty(v))A=_[v][1]/p,N=_[v][0]/p;else try{A=l[1],N=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",N>A&&(m=N,N=A,A=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",A>N&&(m=N,N=A,A=m)}return{width:N,height:A,unit:a,k:p,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(t2):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(ot.API),ot.API.addJS=function(t){return nb=t,this.internal.events.subscribe("postPutResources",function(){Vd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),tb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+nb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vd!==void 0&&tb!==void 0&&this.internal.out("/Names <</JavaScript "+Vd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(s=0;s<h;s++){var v=n.internal.newObject();p.push(v);var _=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<p.length;s++)n.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ot.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,h=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(v){for(var _,m=256*v.charCodeAt(4)+v.charCodeAt(5),A=v.length,N={width:0,height:0,numcomponents:1},V=4;V<A;V+=2){if(V+=m,e.indexOf(v.charCodeAt(V+1))!==-1){_=256*v.charCodeAt(V+5)+v.charCodeAt(V+6),N={width:256*v.charCodeAt(V+7)+v.charCodeAt(V+8),height:_,numcomponents:v.charCodeAt(V+9)};break}m=256*v.charCodeAt(V+2)+v.charCodeAt(V+3)}return N}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}p={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:h,index:r,alias:i}}return p}}(ot.API);var Su,Bd,rb,ib,sb,$j=function(){var t,e,n;function r(s){var o,a,l,h,p,v,_,m,A,N,V,b,I,M;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(o=this.readUInt32(),A=(function(){var K,ee;for(ee=[],K=0;K<4;++K)ee.push(String.fromCharCode(this.data[this.pos++]));return ee}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),h=this.readUInt16()||100,v.delay=1e3*p/h,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(A==="fdAT"&&(this.pos+=4,o-=4),s=(v!=null?v.data:void 0)||this.imgData,b=0;0<=o?b<o:b>o;0<=o?++b:--b)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((N=l-this.transparency.indexed.length)>0)for(I=0;0<=N?I<N:I>N;0<=N?++I:--I)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":_=(V=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,V.slice(0,_)),this.text[m]=String.fromCharCode.apply(String,V.slice(_+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(M=this.colorType)===4||M===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(v,_,m,A){var N,V,b,I,M,K,ee,oe,C,S,R,j,E,T,k,W,ce,fe,ve,Y,le,he=Math.ceil((h.width-v)/m),Re=Math.ceil((h.height-_)/A),O=h.width==he&&h.height==Re;for(T=o*he,j=O?a:new Uint8Array(T*Re),K=s.length,E=0,V=0;E<Re&&l<K;){switch(s[l++]){case 0:for(I=ce=0;ce<T;I=ce+=1)j[V++]=s[l++];break;case 1:for(I=fe=0;fe<T;I=fe+=1)N=s[l++],M=I<o?0:j[V-o],j[V++]=(N+M)%256;break;case 2:for(I=ve=0;ve<T;I=ve+=1)N=s[l++],b=(I-I%o)/o,k=E&&j[(E-1)*T+b*o+I%o],j[V++]=(k+N)%256;break;case 3:for(I=Y=0;Y<T;I=Y+=1)N=s[l++],b=(I-I%o)/o,M=I<o?0:j[V-o],k=E&&j[(E-1)*T+b*o+I%o],j[V++]=(N+Math.floor((M+k)/2))%256;break;case 4:for(I=le=0;le<T;I=le+=1)N=s[l++],b=(I-I%o)/o,M=I<o?0:j[V-o],E===0?k=W=0:(k=j[(E-1)*T+b*o+I%o],W=b&&j[(E-1)*T+(b-1)*o+I%o]),ee=M+k-W,oe=Math.abs(ee-M),S=Math.abs(ee-k),R=Math.abs(ee-W),C=oe<=S&&oe<=R?M:S<=R?k:W,j[V++]=(N+C)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!O){var $=((_+E*A)*h.width+v)*o,Q=E*T;for(I=0;I<he;I+=1){for(var J=0;J<o;J+=1)a[$++]=j[Q++];$+=(m-1)*o}}E++}}return s=Ej(s),h.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,h,p,v,_,m;for(a=this.palette,p=this.transparency.indexed||[],h=new Uint8Array((p.length||0)+a.length),l=0,s=0,o=v=0,_=a.length;v<_;o=v+=3)h[l++]=a[o],h[l++]=a[o+1],h[l++]=a[o+2],h[l++]=(m=p[s++])!=null?m:255;return h},r.prototype.copyToImageData=function(s,o){var a,l,h,p,v,_,m,A,N,V,b;if(l=this.colors,N=null,a=this.hasAlphaChannel,this.palette.length&&(N=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),l=4,a=!0),A=(h=s.data||s).length,v=N||o,p=_=0,l===1)for(;p<A;)m=N?4*o[p/4]:_,V=v[m++],h[p++]=V,h[p++]=V,h[p++]=V,h[p++]=a?v[m++]:255,_=m;else for(;p<A;)m=N?4*o[p/4]:_,h[p++]=v[m++],h[p++]=v[m++],h[p++]=v[m++],h[p++]=a?v[m++]:255,_=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(at)==="[object Window]"){try{e=at.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,h,p,v,_,m;if(this.animation){for(m=[],a=p=0,v=(_=this.animation.frames).length;p<v;a=++p)o=_[a],l=s.createImageData(o.width,o.height),h=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,h),o.imageData=l,m.push(o.image=t(l));return m}},r.prototype.renderFrame=function(s,o){var a,l,h;return a=(l=this.animation.frames)[o],h=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,h,p,v,_=this;return a=0,v=this.animation,h=v.numFrames,l=v.frames,p=v.numPlays,(o=function(){var m,A;if(m=a++%h,A=l[m],_.renderFrame(s,m),h>1&&a/h<p)return _.animation._timeout=setTimeout(o,A.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Hj(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var h=!0,p=[],v=0,_=null,m=0,A=null;for(this.width=n,this.height=r;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,A=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=t[e++];v=t[e++]|t[e++]<<8,_=t[e++],!(1&N)&&(_=null),m=N>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var V=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,M=t[e++]|t[e++]<<8,K=t[e++],ee=K>>6&1,oe=1<<(7&K)+1,C=a,S=l,R=!1;K>>7&&(R=!0,C=e,S=oe,e+=3*oe);var j=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}p.push({x:V,y:b,width:I,height:M,has_local_palette:R,palette_offset:C,palette_size:S,data_offset:j,data_length:e-j,transparent_index:_,interlaced:!!ee,delay:v,disposal:m});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return A},this.frameInfo=function(T){if(T<0||T>=p.length)throw new Error("Frame index out of range.");return p[T]},this.decodeAndBlitFrameBGRA=function(T,k){var W=this.frameInfo(T),ce=W.width*W.height,fe=new Uint8Array(ce);ob(t,W.data_offset,fe,ce);var ve=W.palette_offset,Y=W.transparent_index;Y===null&&(Y=256);var le=W.width,he=n-le,Re=le,O=4*(W.y*n+W.x),$=4*((W.y+W.height)*n+W.x),Q=O,J=4*he;W.interlaced===!0&&(J+=4*n*7);for(var ie=8,de=0,ye=fe.length;de<ye;++de){var _e=fe[de];if(Re===0&&(Re=le,(Q+=J)>=$&&(J=4*he+4*n*(ie-1),Q=O+(le+he)*(ie<<1),ie>>=1)),_e===Y)Q+=4;else{var De=t[ve+3*_e],Le=t[ve+3*_e+1],Ve=t[ve+3*_e+2];k[Q++]=Ve,k[Q++]=Le,k[Q++]=De,k[Q++]=255}--Re}},this.decodeAndBlitFrameRGBA=function(T,k){var W=this.frameInfo(T),ce=W.width*W.height,fe=new Uint8Array(ce);ob(t,W.data_offset,fe,ce);var ve=W.palette_offset,Y=W.transparent_index;Y===null&&(Y=256);var le=W.width,he=n-le,Re=le,O=4*(W.y*n+W.x),$=4*((W.y+W.height)*n+W.x),Q=O,J=4*he;W.interlaced===!0&&(J+=4*n*7);for(var ie=8,de=0,ye=fe.length;de<ye;++de){var _e=fe[de];if(Re===0&&(Re=le,(Q+=J)>=$&&(J=4*he+4*n*(ie-1),Q=O+(le+he)*(ie<<1),ie>>=1)),_e===Y)Q+=4;else{var De=t[ve+3*_e],Le=t[ve+3*_e+1],Ve=t[ve+3*_e+2];k[Q++]=De,k[Q++]=Le,k[Q++]=Ve,k[Q++]=255}--Re}}}function ob(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,h=(1<<l)-1,p=0,v=0,_=0,m=t[e++],A=new Int32Array(4096),N=null;;){for(;p<16&&m!==0;)v|=t[e++]<<p,p+=8,m===1?m=t[e++]:--m;if(p<l)break;var V=v&h;if(v>>=l,p-=l,V!==s){if(V===o)break;for(var b=V<a?V:N,I=0,M=b;M>s;)M=A[M]>>8,++I;var K=M;if(_+I+(b!==V?1:0)>r)return void Xt.log("Warning, gif stream longer than expected.");n[_++]=K;var ee=_+=I;for(b!==V&&(n[_++]=K),M=b;I--;)M=A[M],n[--ee]=255&M,M>>=8;N!==null&&a<4096&&(A[a++]=N<<8|K,a>=h+1&&l<12&&(++l,h=h<<1|1)),N=V}else a=o+1,h=(1<<(l=i+1))-1,N=null}return _!==r&&Xt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _m(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),h=new Array(64),p=new Array(64),v=new Array(65535),_=new Array(65535),m=new Array(64),A=new Array(64),N=[],V=0,b=7,I=new Array(64),M=new Array(64),K=new Array(64),ee=new Array(256),oe=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fe(O,$){for(var Q=0,J=0,ie=new Array,de=1;de<=16;de++){for(var ye=1;ye<=O[de];ye++)ie[$[J]]=[],ie[$[J]][0]=Q,ie[$[J]][1]=de,J++,Q++;Q*=2}return ie}function ve(O){for(var $=O[0],Q=O[1]-1;Q>=0;)$&1<<Q&&(V|=1<<b),Q--,--b<0&&(V==255?(Y(255),Y(0)):Y(V),b=7,V=0)}function Y(O){N.push(O)}function le(O){Y(O>>8&255),Y(255&O)}function he(O,$,Q,J,ie){for(var de,ye=ie[0],_e=ie[240],De=function(Ce,Me){var Ue,Be,Je,lt,gt,bt,st,vt,nt,xt,ze=0;for(nt=0;nt<8;++nt){Ue=Ce[ze],Be=Ce[ze+1],Je=Ce[ze+2],lt=Ce[ze+3],gt=Ce[ze+4],bt=Ce[ze+5],st=Ce[ze+6];var qn=Ue+(vt=Ce[ze+7]),St=Ue-vt,Dr=Be+st,Mt=Be-st,$t=Je+bt,Ti=Je-bt,Rt=lt+gt,Qi=lt-gt,tn=qn+Rt,Mr=qn-Rt,Er=Dr+$t,Yt=Dr-$t;Ce[ze]=tn+Er,Ce[ze+4]=tn-Er;var ut=.707106781*(Yt+Mr);Ce[ze+2]=Mr+ut,Ce[ze+6]=Mr-ut;var At=.382683433*((tn=Qi+Ti)-(Yt=Mt+St)),ws=.5411961*tn+At,gn=1.306562965*Yt+At,ri=.707106781*(Er=Ti+Mt),or=St+ri,tt=St-ri;Ce[ze+5]=tt+ws,Ce[ze+3]=tt-ws,Ce[ze+1]=or+gn,Ce[ze+7]=or-gn,ze+=8}for(ze=0,nt=0;nt<8;++nt){Ue=Ce[ze],Be=Ce[ze+8],Je=Ce[ze+16],lt=Ce[ze+24],gt=Ce[ze+32],bt=Ce[ze+40],st=Ce[ze+48];var Gt=Ue+(vt=Ce[ze+56]),ii=Ue-vt,Pn=Be+st,nn=Be-st,vn=Je+bt,xr=Je-bt,si=lt+gt,Xi=lt-gt,oi=Gt+si,ar=Gt-si,jr=Pn+vn,Fr=Pn-vn;Ce[ze]=oi+jr,Ce[ze+32]=oi-jr;var Qn=.707106781*(Fr+ar);Ce[ze+16]=ar+Qn,Ce[ze+48]=ar-Qn;var Mn=.382683433*((oi=Xi+xr)-(Fr=nn+ii)),bs=.5411961*oi+Mn,Hs=1.306562965*Fr+Mn,Es=.707106781*(jr=xr+nn),xs=ii+Es,Ws=ii-Es;Ce[ze+40]=Ws+bs,Ce[ze+24]=Ws-bs,Ce[ze+8]=xs+Hs,Ce[ze+56]=xs-Hs,ze++}for(nt=0;nt<64;++nt)xt=Ce[nt]*Me[nt],m[nt]=xt>0?xt+.5|0:xt-.5|0;return m}(O,$),Le=0;Le<64;++Le)A[C[Le]]=De[Le];var Ve=A[0]-Q;Q=A[0],Ve==0?ve(J[0]):(ve(J[_[de=32767+Ve]]),ve(v[de]));for(var je=63;je>0&&A[je]==0;)je--;if(je==0)return ve(ye),Q;for(var et,Ee=1;Ee<=je;){for(var X=Ee;A[Ee]==0&&Ee<=je;)++Ee;var ft=Ee-X;if(ft>=16){et=ft>>4;for(var Ke=1;Ke<=et;++Ke)ve(_e);ft&=15}de=32767+A[Ee],ve(ie[(ft<<4)+_[de]]),ve(v[de]),Ee++}return je!=63&&ve(ye),Q}function Re(O){O=Math.min(Math.max(O,1),100),s!=O&&(function($){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var ie=o((Q[J]*$+50)/100);ie=Math.min(Math.max(ie,1),255),a[C[J]]=ie}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var _e=o((de[ye]*$+50)/100);_e=Math.min(Math.max(_e,1),255),l[C[ye]]=_e}for(var De=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Ve=0;Ve<8;Ve++)for(var je=0;je<8;je++)h[Le]=1/(a[C[Le]]*De[Ve]*De[je]*8),p[Le]=1/(l[C[Le]]*De[Ve]*De[je]*8),Le++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),s=O)}this.encode=function(O,$){$&&Re($),N=new Array,V=0,b=7,le(65496),le(65504),le(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),le(1),le(1),Y(0),Y(0),function(){le(65499),le(132),Y(0);for(var Be=0;Be<64;Be++)Y(a[Be]);Y(1);for(var Je=0;Je<64;Je++)Y(l[Je])}(),function(Be,Je){le(65472),le(17),Y(8),le(Je),le(Be),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(O.width,O.height),function(){le(65476),le(418),Y(0);for(var Be=0;Be<16;Be++)Y(S[Be+1]);for(var Je=0;Je<=11;Je++)Y(R[Je]);Y(16);for(var lt=0;lt<16;lt++)Y(j[lt+1]);for(var gt=0;gt<=161;gt++)Y(E[gt]);Y(1);for(var bt=0;bt<16;bt++)Y(T[bt+1]);for(var st=0;st<=11;st++)Y(k[st]);Y(17);for(var vt=0;vt<16;vt++)Y(W[vt+1]);for(var nt=0;nt<=161;nt++)Y(ce[nt])}(),le(65498),le(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var Q=0,J=0,ie=0;V=0,b=7,this.encode.displayName="_encode_";for(var de,ye,_e,De,Le,Ve,je,et,Ee,X=O.data,ft=O.width,Ke=O.height,Ce=4*ft,Me=0;Me<Ke;){for(de=0;de<Ce;){for(Le=Ce*Me+de,je=-1,et=0,Ee=0;Ee<64;Ee++)Ve=Le+(et=Ee>>3)*Ce+(je=4*(7&Ee)),Me+et>=Ke&&(Ve-=Ce*(Me+1+et-Ke)),de+je>=Ce&&(Ve-=de+je-Ce+4),ye=X[Ve++],_e=X[Ve++],De=X[Ve++],I[Ee]=(oe[ye]+oe[_e+256>>0]+oe[De+512>>0]>>16)-128,M[Ee]=(oe[ye+768>>0]+oe[_e+1024>>0]+oe[De+1280>>0]>>16)-128,K[Ee]=(oe[ye+1280>>0]+oe[_e+1536>>0]+oe[De+1792>>0]>>16)-128;Q=he(I,h,Q,e,r),J=he(M,p,J,n,i),ie=he(K,p,ie,n,i),de+=32}Me+=8}if(b>=0){var Ue=[];Ue[1]=b+1,Ue[0]=(1<<b+1)-1,ve(Ue)}return le(65497),new Uint8Array(N)},t=t||50,function(){for(var O=String.fromCharCode,$=0;$<256;$++)ee[$]=O($)}(),e=fe(S,R),n=fe(T,k),r=fe(j,E),i=fe(W,ce),function(){for(var O=1,$=2,Q=1;Q<=15;Q++){for(var J=O;J<$;J++)_[32767+J]=Q,v[32767+J]=[],v[32767+J][1]=Q,v[32767+J][0]=J;for(var ie=-($-1);ie<=-O;ie++)_[32767+ie]=Q,v[32767+ie]=[],v[32767+ie][1]=Q,v[32767+ie][0]=$-1+ie;O<<=1,$<<=1}}(),function(){for(var O=0;O<256;O++)oe[O]=19595*O,oe[O+256>>0]=38470*O,oe[O+512>>0]=7471*O+32768,oe[O+768>>0]=-11059*O,oe[O+1024>>0]=-21709*O,oe[O+1280>>0]=32768*O+8421375,oe[O+1536>>0]=-27439*O,oe[O+1792>>0]=-5329*O}(),Re(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function us(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ab(t){function e(S){if(!S)throw Error("assert :P")}function n(S,R,j){for(var E=0;4>E;E++)if(S[R+E]!=j.charCodeAt(E))return!0;return!1}function r(S,R,j,E,T){for(var k=0;k<T;k++)S[R+k]=j[E+k]}function i(S,R,j,E){for(var T=0;T<E;T++)S[R+T]=j}function s(S){return new Int32Array(S)}function o(S,R){for(var j=[],E=0;E<S;E++)j.push(new R);return j}function a(S,R){var j=[];return function E(T,k,W){for(var ce=W[k],fe=0;fe<ce&&(T.push(W.length>k+1?[]:new R),!(W.length<k+1));fe++)E(T[fe],k+1,W)}(j,0,S),j}var l=function(){var S=this;function R(u,f){for(var g=1<<f-1>>>0;u&g;)g>>>=1;return g?(u&g-1)+g:u}function j(u,f,g,w,L){e(!(w%g));do u[f+(w-=g)]=L;while(0<w)}function E(u,f,g,w,L){if(e(2328>=L),512>=L)var D=s(512);else if((D=s(L))==null)return 0;return function(F,U,z,H,te,me){var ge,ae,Ae=U,be=1<<z,ne=s(16),se=s(16);for(e(te!=0),e(H!=null),e(F!=null),e(0<z),ae=0;ae<te;++ae){if(15<H[ae])return 0;++ne[H[ae]]}if(ne[0]==te)return 0;for(se[1]=0,ge=1;15>ge;++ge){if(ne[ge]>1<<ge)return 0;se[ge+1]=se[ge]+ne[ge]}for(ae=0;ae<te;++ae)ge=H[ae],0<H[ae]&&(me[se[ge]++]=ae);if(se[15]==1)return(H=new T).g=0,H.value=me[0],j(F,Ae,1,be,H),be;var xe,Ie=-1,Se=be-1,He=0,Fe=1,rt=1,qe=1<<z;for(ae=0,ge=1,te=2;ge<=z;++ge,te<<=1){if(Fe+=rt<<=1,0>(rt-=ne[ge]))return 0;for(;0<ne[ge];--ne[ge])(H=new T).g=ge,H.value=me[ae++],j(F,Ae+He,te,qe,H),He=R(He,ge)}for(ge=z+1,te=2;15>=ge;++ge,te<<=1){if(Fe+=rt<<=1,0>(rt-=ne[ge]))return 0;for(;0<ne[ge];--ne[ge]){if(H=new T,(He&Se)!=Ie){for(Ae+=qe,xe=1<<(Ie=ge)-z;15>Ie&&!(0>=(xe-=ne[Ie]));)++Ie,xe<<=1;be+=qe=1<<(xe=Ie-z),F[U+(Ie=He&Se)].g=xe+z,F[U+Ie].value=Ae-U-Ie}H.g=ge-z,H.value=me[ae++],j(F,Ae+(He>>z),te,qe,H),He=R(He,ge)}}return Fe!=2*se[15]-1?0:be}(u,f,g,w,L,D)}function T(){this.value=this.g=0}function k(){this.value=this.g=0}function W(){this.G=o(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Yn,k)}function ce(u,f,g,w){e(u!=null),e(f!=null),e(2147483648>w),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=g,u.Jd=f,u.Yc=g+w,u.Zc=4<=w?g+w-4+1:g,de(u)}function fe(u,f){for(var g=0;0<f--;)g|=_e(u,128)<<f;return g}function ve(u,f){var g=fe(u,f);return ye(u)?-g:g}function Y(u,f,g,w){var L,D=0;for(e(u!=null),e(f!=null),e(4294967288>w),u.Sb=w,u.Ra=0,u.u=0,u.h=0,4<w&&(w=4),L=0;L<w;++L)D+=f[g+L]<<8*L;u.Ra=D,u.bb=w,u.oa=f,u.pa=g}function le(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<uu-8>>>0,++u.bb,u.u-=8;Q(u)&&(u.h=1,u.u=0)}function he(u,f){if(e(0<=f),!u.h&&f<=lu){var g=$(u)&au[f];return u.u+=f,le(u),g}return u.h=1,u.u=0}function Re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(u){return u.Ra>>>(u.u&uu-1)>>>0}function Q(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>uu}function J(u,f){u.u=f,u.h=Q(u)}function ie(u){u.u>=zc&&(e(u.u>=zc),le(u))}function de(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ye(u){return fe(u,1)}function _e(u,f){var g=u.Ca;0>u.b&&de(u);var w=u.b,L=g*f>>>8,D=(u.I>>>w>L)+0;for(D?(g-=L,u.I-=L+1<<w>>>0):g=L+1,w=g,L=0;256<=w;)L+=8,w>>=8;return w=7^L+qr[w],u.b-=w,u.Ca=(g<<w)-1,D}function De(u,f,g){u[f+0]=g>>24&255,u[f+1]=g>>16&255,u[f+2]=g>>8&255,u[f+3]=g>>0&255}function Le(u,f){return u[f+0]<<0|u[f+1]<<8}function Ve(u,f){return Le(u,f)|u[f+2]<<16}function je(u,f){return Le(u,f)|Le(u,f+2)<<16}function et(u,f){var g=1<<f;return e(u!=null),e(0<f),u.X=s(g),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function Ee(u,f){e(u!=null),e(f!=null),e(u.Xa==f.Xa),r(f.X,0,u.X,0,1<<f.Xa)}function X(){this.X=[],this.Xa=this.Mb=0}function ft(u,f,g,w){e(g!=null),e(w!=null);var L=g[0],D=w[0];return L==0&&(L=(u*D+f/2)/f),D==0&&(D=(f*L+u/2)/u),0>=L||0>=D?0:(g[0]=L,w[0]=D,1)}function Ke(u,f){return u+(1<<f)-1>>>f}function Ce(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function Me(u,f){S[f]=function(g,w,L,D,F,U,z){var H;for(H=0;H<F;++H){var te=S[u](U[z+H-1],L,D+H);U[z+H]=Ce(g[w+H],te)}}}function Ue(){this.ud=this.hd=this.jd=0}function Be(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function Je(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function lt(u,f){return Je(u+(u-f+.5>>1))}function gt(u,f,g){return Math.abs(f-g)-Math.abs(u-g)}function bt(u,f,g,w,L,D,F){for(w=D[F-1],g=0;g<L;++g)D[F+g]=w=Ce(u[f+g],w)}function st(u,f,g,w,L){var D;for(D=0;D<g;++D){var F=u[f+D],U=F>>8&255,z=16711935&(z=(z=16711935&F)+((U<<16)+U));w[L+D]=(4278255360&F)+z>>>0}}function vt(u,f){f.jd=u>>0&255,f.hd=u>>8&255,f.ud=u>>16&255}function nt(u,f,g,w,L,D){var F;for(F=0;F<w;++F){var U=f[g+F],z=U>>>8,H=U,te=255&(te=(te=U>>>16)+((u.jd<<24>>24)*(z<<24>>24)>>>5));H=255&(H=(H=H+((u.hd<<24>>24)*(z<<24>>24)>>>5))+((u.ud<<24>>24)*(te<<24>>24)>>>5)),L[D+F]=(4278255360&U)+(te<<16)+H}}function xt(u,f,g,w,L){S[f]=function(D,F,U,z,H,te,me,ge,ae){for(z=me;z<ge;++z)for(me=0;me<ae;++me)H[te++]=L(U[w(D[F++])])},S[u]=function(D,F,U,z,H,te,me){var ge=8>>D.b,ae=D.Ea,Ae=D.K[0],be=D.w;if(8>ge)for(D=(1<<D.b)-1,be=(1<<ge)-1;F<U;++F){var ne,se=0;for(ne=0;ne<ae;++ne)ne&D||(se=w(z[H++])),te[me++]=L(Ae[se&be]),se>>=ge}else S["VP8LMapColor"+g](z,H,Ae,be,te,me,F,U,ae)}}function ze(u,f,g,w,L){for(g=f+g;f<g;){var D=u[f++];w[L++]=D>>16&255,w[L++]=D>>8&255,w[L++]=D>>0&255}}function qn(u,f,g,w,L){for(g=f+g;f<g;){var D=u[f++];w[L++]=D>>16&255,w[L++]=D>>8&255,w[L++]=D>>0&255,w[L++]=D>>24&255}}function St(u,f,g,w,L){for(g=f+g;f<g;){var D=(F=u[f++])>>16&240|F>>12&15,F=F>>0&240|F>>28&15;w[L++]=D,w[L++]=F}}function Dr(u,f,g,w,L){for(g=f+g;f<g;){var D=(F=u[f++])>>16&248|F>>13&7,F=F>>5&224|F>>3&31;w[L++]=D,w[L++]=F}}function Mt(u,f,g,w,L){for(g=f+g;f<g;){var D=u[f++];w[L++]=D>>0&255,w[L++]=D>>8&255,w[L++]=D>>16&255}}function $t(u,f,g,w,L,D){if(D==0)for(g=f+g;f<g;)De(w,((D=u[f++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),L+=32;else r(w,L,u,f,g)}function Ti(u,f){S[f][0]=S[u+"0"],S[f][1]=S[u+"1"],S[f][2]=S[u+"2"],S[f][3]=S[u+"3"],S[f][4]=S[u+"4"],S[f][5]=S[u+"5"],S[f][6]=S[u+"6"],S[f][7]=S[u+"7"],S[f][8]=S[u+"8"],S[f][9]=S[u+"9"],S[f][10]=S[u+"10"],S[f][11]=S[u+"11"],S[f][12]=S[u+"12"],S[f][13]=S[u+"13"],S[f][14]=S[u+"0"],S[f][15]=S[u+"0"]}function Rt(u){return u==i1||u==s1||u==Xf||u==o1}function Qi(){this.eb=[],this.size=this.A=this.fb=0}function tn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Mr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qi,this.f.kb=new tn,this.sd=null}function Er(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ut(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function At(u,f){var g=u.T,w=f.ba.f.RGBA,L=w.eb,D=w.fb+u.ka*w.A,F=Vi[f.ba.S],U=u.y,z=u.O,H=u.f,te=u.N,me=u.ea,ge=u.W,ae=f.cc,Ae=f.dc,be=f.Mc,ne=f.Nc,se=u.ka,xe=u.ka+u.T,Ie=u.U,Se=Ie+1>>1;for(se==0?F(U,z,null,null,H,te,me,ge,H,te,me,ge,L,D,null,null,Ie):(F(f.ec,f.fc,U,z,ae,Ae,be,ne,H,te,me,ge,L,D-w.A,L,D,Ie),++g);se+2<xe;se+=2)ae=H,Ae=te,be=me,ne=ge,te+=u.Rc,ge+=u.Rc,D+=2*w.A,F(U,(z+=2*u.fa)-u.fa,U,z,ae,Ae,be,ne,H,te,me,ge,L,D-w.A,L,D,Ie);return z+=u.fa,u.j+xe<u.o?(r(f.ec,f.fc,U,z,Ie),r(f.cc,f.dc,H,te,Se),r(f.Mc,f.Nc,me,ge,Se),g--):1&xe||F(U,z,null,null,H,te,me,ge,H,te,me,ge,L,D+w.A,null,null,Ie),g}function ws(u,f,g){var w=u.F,L=[u.J];if(w!=null){var D=u.U,F=f.ba.S,U=F==Qf||F==Xf;f=f.ba.f.RGBA;var z=[0],H=u.ka;z[0]=u.T,u.Kb&&(H==0?--z[0]:(--H,L[0]-=u.width),u.j+u.ka+u.T==u.o&&(z[0]=u.o-u.j-H));var te=f.eb;H=f.fb+H*f.A,u=Zt(w,L[0],u.width,D,z,te,H+(U?0:3),f.A),e(g==z),u&&Rt(F)&&ji(te,H,U,D,z,f.A)}return 0}function gn(u){var f=u.ma,g=f.ba.S,w=11>g,L=g==Gf||g==Kf||g==Qf||g==r1||g==12||Rt(g);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!eo(f.Oa,u,L?11:12))return 0;if(L&&Rt(g)&&Te(),u.da)alert("todo:use_scaling");else{if(w){if(f.Ib=ut,u.Kb){if(g=u.U+1>>1,f.memory=s(u.U+2*g),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+g,f.Ib=At,Te()}}else alert("todo:EmitYUV");L&&(f.Jb=ws,w&&ue())}if(w&&!My){for(u=0;256>u;++u)nA[u]=89858*(u-128)+Jf>>Yf,sA[u]=-22014*(u-128)+Jf,iA[u]=-45773*(u-128),rA[u]=113618*(u-128)+Jf>>Yf;for(u=Xc;u<u1;++u)f=76283*(u-16)+Jf>>Yf,oA[u-Xc]=pt(f,255),aA[u-Xc]=pt(f+8>>4,15);My=1}return 1}function ri(u){var f=u.ma,g=u.U,w=u.T;return e(!(1&u.ka)),0>=g||0>=w?0:(g=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,g),f.Dc+=g,1)}function or(u){u.ma.memory=null}function tt(u,f,g,w){return he(u,8)!=47?0:(f[0]=he(u,14)+1,g[0]=he(u,14)+1,w[0]=he(u,1),he(u,3)!=0?0:!u.h)}function Gt(u,f){if(4>u)return u+1;var g=u-2>>1;return(2+(1&u)<<g)+he(f,g)+1}function ii(u,f){return 120<f?f-120:1<=(g=((g=qS[f-1])>>4)*u+(8-(15&g)))?g:1;var g}function Pn(u,f,g){var w=$(g),L=u[f+=255&w].g-8;return 0<L&&(J(g,g.u+8),w=$(g),f+=u[f].value,f+=w&(1<<L)-1),J(g,g.u+u[f].g),u[f].value}function nn(u,f,g){return g.g+=u.g,g.value+=u.value<<f>>>0,e(8>=g.g),u.g}function vn(u,f,g){var w=u.xc;return e((f=w==0?0:u.vc[u.md*(g>>w)+(f>>w)])<u.Wb),u.Ya[f]}function xr(u,f,g,w){var L=u.ab,D=u.c*f,F=u.C;f=F+f;var U=g,z=w;for(w=u.Ta,g=u.Ua;0<L--;){var H=u.gc[L],te=F,me=f,ge=U,ae=z,Ae=(z=w,U=g,H.Ea);switch(e(te<me),e(me<=H.nc),H.hc){case 2:Bf(ge,ae,(me-te)*Ae,z,U);break;case 0:var be=te,ne=me,se=z,xe=U,Ie=(qe=H).Ea;be==0&&(t1(ge,ae,null,null,1,se,xe),bt(ge,ae+1,0,0,Ie-1,se,xe+1),ae+=Ie,xe+=Ie,++be);for(var Se=1<<qe.b,He=Se-1,Fe=Ke(Ie,qe.b),rt=qe.K,qe=qe.w+(be>>qe.b)*Fe;be<ne;){var Dt=rt,Vt=qe,Lt=1;for($c(ge,ae,se,xe-Ie,1,se,xe);Lt<Ie;){var Tt=(Lt&~He)+Se;Tt>Ie&&(Tt=Ie),(0,Wo[Dt[Vt++]>>8&15])(ge,ae+ +Lt,se,xe+Lt-Ie,Tt-Lt,se,xe+Lt),Lt=Tt}ae+=Ie,xe+=Ie,++be&He||(qe+=Fe)}me!=H.nc&&r(z,U-Ae,z,U+(me-te-1)*Ae,Ae);break;case 1:for(Ae=ge,ne=ae,Ie=(ge=H.Ea)-(xe=ge&~(se=(ae=1<<H.b)-1)),be=Ke(ge,H.b),Se=H.K,H=H.w+(te>>H.b)*be;te<me;){for(He=Se,Fe=H,rt=new Ue,qe=ne+xe,Dt=ne+ge;ne<qe;)vt(He[Fe++],rt),al(rt,Ae,ne,ae,z,U),ne+=ae,U+=ae;ne<Dt&&(vt(He[Fe++],rt),al(rt,Ae,ne,Ie,z,U),ne+=Ie,U+=Ie),++te&se||(H+=be)}break;case 3:if(ge==z&&ae==U&&0<H.b){for(ne=z,ge=Ae=U+(me-te)*Ae-(xe=(me-te)*Ke(H.Ea,H.b)),ae=z,se=U,be=[],xe=(Ie=xe)-1;0<=xe;--xe)be[xe]=ae[se+xe];for(xe=Ie-1;0<=xe;--xe)ne[ge+xe]=be[xe];Oi(H,te,me,z,Ae,z,U)}else Oi(H,te,me,ge,ae,z,U)}U=w,z=g}z!=g&&r(w,g,U,z,D)}function si(u,f){var g=u.V,w=u.Ba+u.c*u.C,L=f-u.C;if(e(f<=u.l.o),e(16>=L),0<L){var D=u.l,F=u.Ta,U=u.Ua,z=D.width;if(xr(u,L,g,w),L=U=[U],e((g=u.C)<(w=f)),e(D.v<D.va),w>D.o&&(w=D.o),g<D.j){var H=D.j-g;g=D.j,L[0]+=H*z}if(g>=w?g=0:(L[0]+=4*D.v,D.ka=g-D.j,D.U=D.va-D.v,D.T=w-g,g=1),g){if(U=U[0],11>(g=u.ca).S){var te=g.f.RGBA,me=(w=g.S,L=D.U,D=D.T,H=te.eb,te.A),ge=D;for(te=te.fb+u.Ma*te.A;0<ge--;){var ae=F,Ae=U,be=L,ne=H,se=te;switch(w){case Wf:zr(ae,Ae,be,ne,se);break;case Gf:Ir(ae,Ae,be,ne,se);break;case i1:Ir(ae,Ae,be,ne,se),ji(ne,se,0,be,1,0);break;case Iy:no(ae,Ae,be,ne,se);break;case Kf:$t(ae,Ae,be,ne,se,1);break;case s1:$t(ae,Ae,be,ne,se,1),ji(ne,se,0,be,1,0);break;case Qf:$t(ae,Ae,be,ne,se,0);break;case Xf:$t(ae,Ae,be,ne,se,0),ji(ne,se,1,be,1,0);break;case r1:Go(ae,Ae,be,ne,se);break;case o1:Go(ae,Ae,be,ne,se),Jt(ne,se,be,1,0);break;case Ty:to(ae,Ae,be,ne,se);break;default:e(0)}U+=z,te+=me}u.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=g.height)}}u.C=f,e(u.C<=u.i)}function Xi(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var g=u.Ya[f].G,w=u.Ya[f].H;if(0<g[1][w[1]+0].g||0<g[2][w[2]+0].g||0<g[3][w[3]+0].g)return 0}return 1}function oi(u,f,g,w,L,D){if(u.Z!=0){var F=u.qd,U=u.rd;for(e(Yo[u.Z]!=null);f<g;++f)Yo[u.Z](F,U,w,L,w,L,D),F=w,U=L,L+=D;u.qd=F,u.rd=U}}function ar(u,f){var g=u.l.ma,w=g.Z==0||g.Z==1?u.l.j:u.C;if(w=u.C<w?w:u.C,e(f<=u.l.o),f>w){var L=u.l.width,D=g.ca,F=g.tb+L*w,U=u.V,z=u.Ba+u.c*w,H=u.gc;e(u.ab==1),e(H[0].hc==3),Uf(H[0],w,f,U,z,D,F),oi(g,w,f,D,F,L)}u.C=u.Ma=f}function jr(u,f,g,w,L,D,F){var U=u.$/w,z=u.$%w,H=u.m,te=u.s,me=g+u.$,ge=me;L=g+w*L;var ae=g+w*D,Ae=280+te.ua,be=u.Pb?U:16777216,ne=0<te.ua?te.Wa:null,se=te.wc,xe=me<ae?vn(te,z,U):null;e(u.C<D),e(ae<=L);var Ie=!1;e:for(;;){for(;Ie||me<ae;){var Se=0;if(U>=be){var He=me-g;e((be=u).Pb),be.wd=be.m,be.xd=He,0<be.s.ua&&Ee(be.s.Wa,be.s.vb),be=U+$S}if(z&se||(xe=vn(te,z,U)),e(xe!=null),xe.Qb&&(f[me]=xe.qb,Ie=!0),!Ie)if(ie(H),xe.jc){Se=H,He=f;var Fe=me,rt=xe.pd[$(Se)&Yn-1];e(xe.jc),256>rt.g?(J(Se,Se.u+rt.g),He[Fe]=rt.value,Se=0):(J(Se,Se.u+rt.g-256),e(256<=rt.value),Se=rt.value),Se==0&&(Ie=!0)}else Se=Pn(xe.G[0],xe.H[0],H);if(H.h)break;if(Ie||256>Se){if(!Ie)if(xe.nd)f[me]=(xe.qb|Se<<8)>>>0;else{if(ie(H),Ie=Pn(xe.G[1],xe.H[1],H),ie(H),He=Pn(xe.G[2],xe.H[2],H),Fe=Pn(xe.G[3],xe.H[3],H),H.h)break;f[me]=(Fe<<24|Ie<<16|Se<<8|He)>>>0}if(Ie=!1,++me,++z>=w&&(z=0,++U,F!=null&&U<=D&&!(U%16)&&F(u,U),ne!=null))for(;ge<me;)Se=f[ge++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se}else if(280>Se){if(Se=Gt(Se-256,H),He=Pn(xe.G[4],xe.H[4],H),ie(H),He=ii(w,He=Gt(He,H)),H.h)break;if(me-g<He||L-me<Se)break e;for(Fe=0;Fe<Se;++Fe)f[me+Fe]=f[me+Fe-He];for(me+=Se,z+=Se;z>=w;)z-=w,++U,F!=null&&U<=D&&!(U%16)&&F(u,U);if(e(me<=L),z&se&&(xe=vn(te,z,U)),ne!=null)for(;ge<me;)Se=f[ge++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se}else{if(!(Se<Ae))break e;for(Ie=Se-280,e(ne!=null);ge<me;)Se=f[ge++],ne.X[(506832829*Se&4294967295)>>>ne.Mb]=Se;Se=me,e(!(Ie>>>(He=ne).Xa)),f[Se]=He.X[Ie],Ie=!0}Ie||e(H.h==Q(H))}if(u.Pb&&H.h&&me<L)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&Ee(u.s.vb,u.s.Wa);else{if(H.h)break e;F!=null&&F(u,U>D?D:U),u.a=0,u.$=me-g}return 1}return u.a=3,0}function Fr(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,e(u!=null)}function Qn(){var u=new ol;return u==null?null:(u.a=0,u.xb=Py,Ti("Predictor","VP8LPredictors"),Ti("Predictor","VP8LPredictors_C"),Ti("PredictorAdd","VP8LPredictorsAdd"),Ti("PredictorAdd","VP8LPredictorsAdd_C"),Bf=st,al=nt,zr=ze,Ir=qn,Go=St,to=Dr,no=Mt,S.VP8LMapColor32b=cu,S.VP8LMapColor8b=qf,u)}function Mn(u,f,g,w,L){var D=1,F=[u],U=[f],z=w.m,H=w.s,te=null,me=0;e:for(;;){if(g)for(;D&&he(z,1);){var ge=F,ae=U,Ae=w,be=1,ne=Ae.m,se=Ae.gc[Ae.ab],xe=he(ne,2);if(Ae.Oc&1<<xe)D=0;else{switch(Ae.Oc|=1<<xe,se.hc=xe,se.Ea=ge[0],se.nc=ae[0],se.K=[null],++Ae.ab,e(4>=Ae.ab),xe){case 0:case 1:se.b=he(ne,3)+2,be=Mn(Ke(se.Ea,se.b),Ke(se.nc,se.b),0,Ae,se.K),se.K=se.K[0];break;case 3:var Ie,Se=he(ne,8)+1,He=16<Se?0:4<Se?1:2<Se?2:3;if(ge[0]=Ke(se.Ea,He),se.b=He,Ie=be=Mn(Se,1,0,Ae,se.K)){var Fe,rt=Se,qe=se,Dt=1<<(8>>qe.b),Vt=s(Dt);if(Vt==null)Ie=0;else{var Lt=qe.K[0],Tt=qe.w;for(Vt[0]=qe.K[0][0],Fe=1;Fe<1*rt;++Fe)Vt[Fe]=Ce(Lt[Tt+Fe],Vt[Fe-1]);for(;Fe<4*Dt;++Fe)Vt[Fe]=0;qe.K[0]=null,qe.K[0]=Vt,Ie=1}}be=Ie;break;case 2:break;default:e(0)}D=be}}if(F=F[0],U=U[0],D&&he(z,1)&&!(D=1<=(me=he(z,4))&&11>=me)){w.a=3;break e}var Qt;if(Qt=D)t:{var Wt,Et,Ln,$r=w,Cn=F,Hr=U,Bt=me,pi=g,mi=$r.m,zn=$r.s,Jn=[null],Nr=1,Bi=0,Ts=zS[Bt];n:for(;;){if(pi&&he(mi,1)){var $n=he(mi,3)+2,oo=Ke(Cn,$n),fl=Ke(Hr,$n),mu=oo*fl;if(!Mn(oo,fl,0,$r,Jn))break n;for(Jn=Jn[0],zn.xc=$n,Wt=0;Wt<mu;++Wt){var Jo=Jn[Wt]>>8&65535;Jn[Wt]=Jo,Jo>=Nr&&(Nr=Jo+1)}}if(mi.h)break n;for(Et=0;5>Et;++Et){var _n=Ny[Et];!Et&&0<Bt&&(_n+=1<<Bt),Bi<_n&&(Bi=_n)}var c1=o(Nr*Ts,T),Vy=Nr,By=o(Vy,W);if(By==null)var ed=null;else e(65536>=Vy),ed=By;var Yc=s(Bi);if(ed==null||Yc==null||c1==null){$r.a=1;break n}var td=c1;for(Wt=Ln=0;Wt<Nr;++Wt){var os=ed[Wt],gu=os.G,vu=os.H,Uy=0,nd=1,qy=0;for(Et=0;5>Et;++Et){_n=Ny[Et],gu[Et]=td,vu[Et]=Ln,!Et&&0<Bt&&(_n+=1<<Bt);i:{var rd,h1=_n,id=$r,Jc=Yc,cA=td,hA=Ln,f1=0,Zo=id.m,fA=he(Zo,1);if(i(Jc,0,0,h1),fA){var dA=he(Zo,1)+1,pA=he(Zo,1),zy=he(Zo,pA==0?1:8);Jc[zy]=1,dA==2&&(Jc[zy=he(Zo,8)]=1);var sd=1}else{var $y=s(19),Hy=he(Zo,4)+4;if(19<Hy){id.a=3;var od=0;break i}for(rd=0;rd<Hy;++rd)$y[US[rd]]=he(Zo,3);var d1=void 0,Zc=void 0,Wy=id,mA=$y,ad=h1,Gy=Jc,p1=0,ea=Wy.m,Ky=8,Qy=o(128,T);r:for(;E(Qy,0,7,mA,19);){if(he(ea,1)){var gA=2+2*he(ea,3);if((d1=2+he(ea,gA))>ad)break r}else d1=ad;for(Zc=0;Zc<ad&&d1--;){ie(ea);var Xy=Qy[0+(127&$(ea))];J(ea,ea.u+Xy.g);var yu=Xy.value;if(16>yu)Gy[Zc++]=yu,yu!=0&&(Ky=yu);else{var vA=yu==16,Yy=yu-16,yA=VS[Yy],Jy=he(ea,FS[Yy])+yA;if(Zc+Jy>ad)break r;for(var _A=vA?Ky:0;0<Jy--;)Gy[Zc++]=_A}}p1=1;break r}p1||(Wy.a=3),sd=p1}(sd=sd&&!Zo.h)&&(f1=E(cA,hA,8,Jc,h1)),sd&&f1!=0?od=f1:(id.a=3,od=0)}if(od==0)break n;if(nd&&BS[Et]==1&&(nd=td[Ln].g==0),Uy+=td[Ln].g,Ln+=od,3>=Et){var eh,m1=Yc[0];for(eh=1;eh<_n;++eh)Yc[eh]>m1&&(m1=Yc[eh]);qy+=m1}}if(os.nd=nd,os.Qb=0,nd&&(os.qb=(gu[3][vu[3]+0].value<<24|gu[1][vu[1]+0].value<<16|gu[2][vu[2]+0].value)>>>0,Uy==0&&256>gu[0][vu[0]+0].value&&(os.Qb=1,os.qb+=gu[0][vu[0]+0].value<<8)),os.jc=!os.Qb&&6>qy,os.jc){var ld,ao=os;for(ld=0;ld<Yn;++ld){var ta=ld,na=ao.pd[ta],ud=ao.G[0][ao.H[0]+ta];256<=ud.value?(na.g=ud.g+256,na.value=ud.value):(na.g=0,na.value=0,ta>>=nn(ud,8,na),ta>>=nn(ao.G[1][ao.H[1]+ta],16,na),ta>>=nn(ao.G[2][ao.H[2]+ta],0,na),nn(ao.G[3][ao.H[3]+ta],24,na))}}}zn.vc=Jn,zn.Wb=Nr,zn.Ya=ed,zn.yc=c1,Qt=1;break t}Qt=0}if(!(D=Qt)){w.a=3;break e}if(0<me){if(H.ua=1<<me,!et(H.Wa,me)){w.a=1,D=0;break e}}else H.ua=0;var g1=w,Zy=F,wA=U,v1=g1.s,y1=v1.xc;if(g1.c=Zy,g1.i=wA,v1.md=Ke(Zy,y1),v1.wc=y1==0?-1:(1<<y1)-1,g){w.xb=YS;break e}if((te=s(F*U))==null){w.a=1,D=0;break e}D=(D=jr(w,te,0,F,U,U,null))&&!z.h;break e}return D?(L!=null?L[0]=te:(e(te==null),e(g)),w.$=0,g||Fr(H)):Fr(H),D}function bs(u,f){var g=u.c*u.i,w=g+f+16*f;return e(u.c<=f),u.V=s(w),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+g+f,1)}function Hs(u,f){var g=u.C,w=f-g,L=u.V,D=u.Ba+u.c*g;for(e(f<=u.l.o);0<w;){var F=16<w?16:w,U=u.l.ma,z=u.l.width,H=z*F,te=U.ca,me=U.tb+z*g,ge=u.Ta,ae=u.Ua;xr(u,F,L,D),Sn(ge,ae,te,me,H),oi(U,g,g+F,te,me,z),w-=F,L+=F*u.c,g+=F}e(g==f),u.C=u.Ma=f}function Es(){this.ub=this.yd=this.td=this.Rb=0}function xs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ws(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ga(){this.Yb=function(){var u=[];return function f(g,w,L){for(var D=L[w],F=0;F<D&&(g.push(L.length>w+1?[]:0),!(L.length<w+1));F++)f(g[F],w+1,L)}(u,0,[3,11]),u}()}function Fc(){this.jb=s(3),this.Wc=a([4,8],Ga),this.Xc=a([4,17],Ga)}function Lo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Gs(){this.ld=this.La=this.dd=this.tc=0}function Co(){this.Na=this.la=0}function Ks(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ai(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ka(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gs),this.Y=0,this.ya=Array(new ai),this.aa=0,this.l=new Qs}function Kl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ql(){this.cb=this.a=0,this.sc="",this.m=new Re,this.Od=new Es,this.Kc=new xs,this.ed=new Lo,this.Qa=new Ws,this.Ic=this.$c=this.Aa=0,this.D=new Ka,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Re),this.ia=0,this.pb=o(4,Ks),this.Pa=new Fc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Kl),this.Hd=0,this.rb=Array(new Co),this.sb=0,this.wa=Array(new Gs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ai),this.L=this.aa=0,this.gd=a([4,2],Gs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xl(){var u=new Ql;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Qc||(Qc=Xa)),u}function rn(u,f,g){return u.a==0&&(u.a=f,u.sc=g,u.cb=0),0}function Ro(u,f,g){return 3<=g&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function Qa(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return rn(u,2,"null VP8Io passed to VP8GetHeaders()");var g=f.data,w=f.w,L=f.ha;if(4>L)return rn(u,7,"Truncated header.");var D=g[w+0]|g[w+1]<<8|g[w+2]<<16,F=u.Od;if(F.Rb=!(1&D),F.td=D>>1&7,F.yd=D>>4&1,F.ub=D>>5,3<F.td)return rn(u,3,"Incorrect keyframe parameters.");if(!F.yd)return rn(u,4,"Frame not displayable.");w+=3,L-=3;var U=u.Kc;if(F.Rb){if(7>L)return rn(u,7,"cannot parse picture header");if(!Ro(g,w,L))return rn(u,3,"Bad code word");U.c=16383&(g[w+4]<<8|g[w+3]),U.Td=g[w+4]>>6,U.i=16383&(g[w+6]<<8|g[w+5]),U.Ud=g[w+6]>>6,w+=7,L-=7,u.za=U.c+15>>4,u.Ub=U.i+15>>4,f.width=U.c,f.height=U.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((D=u.Pa).jb,0,255,D.jb.length),e((D=u.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,i(D.Zb,0,0,D.Zb.length),i(D.Lb,0,0,D.Lb)}if(F.ub>L)return rn(u,7,"bad partition length");ce(D=u.m,g,w,F.ub),w+=F.ub,L-=F.ub,F.Rb&&(U.Ld=ye(D),U.Kd=ye(D)),U=u.Qa;var z,H=u.Pa;if(e(D!=null),e(U!=null),U.Cb=ye(D),U.Cb){if(U.Bb=ye(D),ye(D)){for(U.Fb=ye(D),z=0;4>z;++z)U.Zb[z]=ye(D)?ve(D,7):0;for(z=0;4>z;++z)U.Lb[z]=ye(D)?ve(D,6):0}if(U.Bb)for(z=0;3>z;++z)H.jb[z]=ye(D)?fe(D,8):255}else U.Bb=0;if(D.Ka)return rn(u,3,"cannot parse segment header");if((U=u.ed).zd=ye(D),U.Tb=fe(D,6),U.wb=fe(D,3),U.Pc=ye(D),U.Pc&&ye(D)){for(H=0;4>H;++H)ye(D)&&(U.vd[H]=ve(D,6));for(H=0;4>H;++H)ye(D)&&(U.od[H]=ve(D,6))}if(u.L=U.Tb==0?0:U.zd?1:2,D.Ka)return rn(u,3,"cannot parse filter header");var te=L;if(L=z=w,w=z+te,U=te,u.Xb=(1<<fe(u.m,2))-1,te<3*(H=u.Xb))g=7;else{for(z+=3*H,U-=3*H,te=0;te<H;++te){var me=g[L+0]|g[L+1]<<8|g[L+2]<<16;me>U&&(me=U),ce(u.Jc[+te],g,z,me),z+=me,U-=me,L+=3}ce(u.Jc[+H],g,z,U),g=z<w?0:5}if(g!=0)return rn(u,g,"cannot parse partitions");for(g=fe(z=u.m,7),L=ye(z)?ve(z,4):0,w=ye(z)?ve(z,4):0,U=ye(z)?ve(z,4):0,H=ye(z)?ve(z,4):0,z=ye(z)?ve(z,4):0,te=u.Qa,me=0;4>me;++me){if(te.Cb){var ge=te.Zb[me];te.Fb||(ge+=g)}else{if(0<me){u.pb[me]=u.pb[0];continue}ge=g}var ae=u.pb[me];ae.Sc[0]=a1[pt(ge+L,127)],ae.Sc[1]=l1[pt(ge+0,127)],ae.Eb[0]=2*a1[pt(ge+w,127)],ae.Eb[1]=101581*l1[pt(ge+U,127)]>>16,8>ae.Eb[1]&&(ae.Eb[1]=8),ae.Qc[0]=a1[pt(ge+H,117)],ae.Qc[1]=l1[pt(ge+z,127)],ae.lc=ge+z}if(!F.Rb)return rn(u,4,"Not a key frame.");for(ye(D),F=u.Pa,g=0;4>g;++g){for(L=0;8>L;++L)for(w=0;3>w;++w)for(U=0;11>U;++U)H=_e(D,QS[g][L][w][U])?fe(D,8):GS[g][L][w][U],F.Wc[g][L].Yb[w][U]=H;for(L=0;17>L;++L)F.Xc[g][L]=F.Wc[g][XS[L]]}return u.kc=ye(D),u.kc&&(u.Bd=fe(D,8)),u.cb=1}function Xa(u,f,g,w,L,D,F){var U=f[L].Yb[g];for(g=0;16>L;++L){if(!_e(u,U[g+0]))return L;for(;!_e(u,U[g+1]);)if(U=f[++L].Yb[0],g=0,L==16)return 16;var z=f[L+1].Yb;if(_e(u,U[g+2])){var H=u,te=0;if(_e(H,(ge=U)[(me=g)+3]))if(_e(H,ge[me+6])){for(U=0,me=2*(te=_e(H,ge[me+8]))+(ge=_e(H,ge[me+9+te])),te=0,ge=HS[me];ge[U];++U)te+=te+_e(H,ge[U]);te+=3+(8<<me)}else _e(H,ge[me+7])?(te=7+2*_e(H,165),te+=_e(H,145)):te=5+_e(H,159);else te=_e(H,ge[me+4])?3+_e(H,ge[me+5]):2;U=z[2]}else te=1,U=z[1];z=F+WS[L],0>(H=u).b&&de(H);var me,ge=H.b,ae=(me=H.Ca>>1)-(H.I>>ge)>>31;--H.b,H.Ca+=ae,H.Ca|=1,H.I-=(me+1&ae)<<ge,D[z]=((te^ae)-ae)*w[(0<L)+0]}return 16}function Ya(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function Vc(u,f){if(u==null)return 0;if(f==null)return rn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Qa(u,f))return 0;if(e(u.cb),f.ac==null||f.ac(f)){f.ob&&(u.L=0);var g=Zf[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=f.v-g>>4,u.zb=f.j-g>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=f.o+15+g>>4,u.Hb=f.va+15+g>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var w=u.ed;for(g=0;4>g;++g){var L;if(u.Qa.Cb){var D=u.Qa.Lb[g];u.Qa.Fb||(D+=w.Tb)}else D=w.Tb;for(L=0;1>=L;++L){var F=u.gd[g][L],U=D;if(w.Pc&&(U+=w.vd[0],L&&(U+=w.od[0])),0<(U=0>U?0:63<U?63:U)){var z=U;0<w.wb&&(z=4<w.wb?z>>2:z>>1)>9-w.wb&&(z=9-w.wb),1>z&&(z=1),F.dd=z,F.tc=2*U+z,F.ld=40<=U?2:15<=U?1:0}else F.tc=0;F.La=L}}}g=0}else rn(u,6,"Frame setup failed"),g=u.a;if(g=g==0){if(g){u.$c=0,0<u.Aa||(u.Ic=uA);e:{g=u.Ic,w=4*(z=u.za);var H=32*z,te=z+1,me=0<u.L?z*(0<u.Aa?2:1):0,ge=(u.Aa==2?2:1)*z;if((F=w+832+(L=3*(16*g+Zf[u.L])/2*H)+(D=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=F)g=0;else{if(F>u.Vb){if(u.Vb=0,u.Ec=s(F),u.Fc=0,u.Ec==null){g=rn(u,1,"no memory during frame initialization.");break e}u.Vb=F}F=u.Ec,U=u.Fc,u.Ac=F,u.Bc=U,U+=w,u.Gd=o(H,Kl),u.Hd=0,u.rb=o(te+1,Co),u.sb=1,u.wa=me?o(me,Gs):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=z),e(!0),u.oc=F,u.pc=U,U+=832,u.ya=o(ge,ai),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=z),u.R=16*z,u.B=8*z,z=(H=Zf[u.L])*u.R,H=H/2*u.B,u.sa=F,u.ta=U+z,u.qa=u.sa,u.ra=u.ta+16*g*u.R+H,u.Ha=u.qa,u.Ia=u.ra+8*g*u.B+H,u.$c=0,U+=L,u.mb=D?F:null,u.nb=D?U:null,e(U+D<=u.Fc+u.Vb),Ya(u),i(u.Ac,u.Bc,0,w),g=1}}if(g){if(f.ka=0,f.y=u.sa,f.O=u.ta,f.f=u.qa,f.N=u.ra,f.ea=u.Ha,f.Vd=u.Ia,f.fa=u.R,f.Rc=u.B,f.F=null,f.J=0,!$f){for(g=-255;255>=g;++g)jn[255+g]=0>g?-g:g;for(g=-1020;1020>=g;++g)io[1020+g]=-128>g?-128:127<g?127:g;for(g=-112;112>=g;++g)Kc[112+g]=-16>g?-16:15<g?15:g;for(g=-255;510>=g;++g)pu[255+g]=0>g?0:255<g?255:g;$f=1}hu=Do,ro=Oo,Hc=Ys,Tr=Yl,Di=jt,xn=Br,fu=ts,zf=As,Wc=su,ll=Is,ul=rl,Ko=ns,cl=il,du=sl,hl=nl,Qo=Ar,Gc=Pi,Mi=ci,ss[0]=ki,ss[1]=Js,ss[2]=eu,ss[3]=Ss,ss[4]=tu,ss[5]=Sr,ss[6]=nu,ss[7]=Za,ss[8]=Fo,ss[9]=Uc,Xo[0]=Zl,Xo[1]=Jl,Xo[2]=Ji,Xo[3]=Mo,Xo[4]=yn,Xo[5]=Ni,Xo[6]=Ja,so[0]=Ur,so[1]=Bc,so[2]=Vo,so[3]=Bo,so[4]=Zi,so[5]=ru,so[6]=Ht,g=1}else g=0}g&&(g=function(ae,Ae){for(ae.M=0;ae.M<ae.Va;++ae.M){var be,ne=ae.Jc[ae.M&ae.Xb],se=ae.m,xe=ae;for(be=0;be<xe.za;++be){var Ie=se,Se=xe,He=Se.Ac,Fe=Se.Bc+4*be,rt=Se.zc,qe=Se.ya[Se.aa+be];if(Se.Qa.Bb?qe.$b=_e(Ie,Se.Pa.jb[0])?2+_e(Ie,Se.Pa.jb[2]):_e(Ie,Se.Pa.jb[1]):qe.$b=0,Se.kc&&(qe.Ad=_e(Ie,Se.Bd)),qe.Za=!_e(Ie,145)+0,qe.Za){var Dt=qe.Ob,Vt=0;for(Se=0;4>Se;++Se){var Lt,Tt=rt[0+Se];for(Lt=0;4>Lt;++Lt){Tt=KS[He[Fe+Lt]][Tt];for(var Qt=ky[_e(Ie,Tt[0])];0<Qt;)Qt=ky[2*Qt+_e(Ie,Tt[Qt])];Tt=-Qt,He[Fe+Lt]=Tt}r(Dt,Vt,He,Fe,4),Vt+=4,rt[0+Se]=Tt}}else Tt=_e(Ie,156)?_e(Ie,128)?1:3:_e(Ie,163)?2:0,qe.Ob[0]=Tt,i(He,Fe,Tt,4),i(rt,0,Tt,4);qe.Dd=_e(Ie,142)?_e(Ie,114)?_e(Ie,183)?1:3:2:0}if(xe.m.Ka)return rn(ae,7,"Premature end-of-partition0 encountered.");for(;ae.ja<ae.za;++ae.ja){if(xe=ne,Ie=(se=ae).rb[se.sb-1],He=se.rb[se.sb+se.ja],be=se.ya[se.aa+se.ja],Fe=se.kc?be.Ad:0)Ie.la=He.la=0,be.Za||(Ie.Na=He.Na=0),be.Hc=0,be.Gc=0,be.ia=0;else{var Wt,Et;if(Ie=He,He=xe,Fe=se.Pa.Xc,rt=se.ya[se.aa+se.ja],qe=se.pb[rt.$b],Se=rt.ad,Dt=0,Vt=se.rb[se.sb-1],Tt=Lt=0,i(Se,Dt,0,384),rt.Za)var Ln=0,$r=Fe[3];else{Qt=s(16);var Cn=Ie.Na+Vt.Na;if(Cn=Qc(He,Fe[1],Cn,qe.Eb,0,Qt,0),Ie.Na=Vt.Na=(0<Cn)+0,1<Cn)hu(Qt,0,Se,Dt);else{var Hr=Qt[0]+3>>3;for(Qt=0;256>Qt;Qt+=16)Se[Dt+Qt]=Hr}Ln=1,$r=Fe[0]}var Bt=15&Ie.la,pi=15&Vt.la;for(Qt=0;4>Qt;++Qt){var mi=1&pi;for(Hr=Et=0;4>Hr;++Hr)Bt=Bt>>1|(mi=(Cn=Qc(He,$r,Cn=mi+(1&Bt),qe.Sc,Ln,Se,Dt))>Ln)<<7,Et=Et<<2|(3<Cn?3:1<Cn?2:Se[Dt+0]!=0),Dt+=16;Bt>>=4,pi=pi>>1|mi<<7,Lt=(Lt<<8|Et)>>>0}for($r=Bt,Ln=pi>>4,Wt=0;4>Wt;Wt+=2){for(Et=0,Bt=Ie.la>>4+Wt,pi=Vt.la>>4+Wt,Qt=0;2>Qt;++Qt){for(mi=1&pi,Hr=0;2>Hr;++Hr)Cn=mi+(1&Bt),Bt=Bt>>1|(mi=0<(Cn=Qc(He,Fe[2],Cn,qe.Qc,0,Se,Dt)))<<3,Et=Et<<2|(3<Cn?3:1<Cn?2:Se[Dt+0]!=0),Dt+=16;Bt>>=2,pi=pi>>1|mi<<5}Tt|=Et<<4*Wt,$r|=Bt<<4<<Wt,Ln|=(240&pi)<<Wt}Ie.la=$r,Vt.la=Ln,rt.Hc=Lt,rt.Gc=Tt,rt.ia=43690&Tt?0:qe.ia,Fe=!(Lt|Tt)}if(0<se.L&&(se.wa[se.Y+se.ja]=se.gd[be.$b][be.Za],se.wa[se.Y+se.ja].La|=!Fe),xe.Ka)return rn(ae,7,"Premature end-of-file encountered.")}if(Ya(ae),se=Ae,xe=1,be=(ne=ae).D,Ie=0<ne.L&&ne.M>=ne.zb&&ne.M<=ne.Va,ne.Aa==0)e:{if(be.M=ne.M,be.uc=Ie,Xn(ne,be),xe=1,be=(Et=ne.D).Nb,Ie=(Tt=Zf[ne.L])*ne.R,He=Tt/2*ne.B,Qt=16*be*ne.R,Hr=8*be*ne.B,Fe=ne.sa,rt=ne.ta-Ie+Qt,qe=ne.qa,Se=ne.ra-He+Hr,Dt=ne.Ha,Vt=ne.Ia-He+Hr,pi=(Bt=Et.M)==0,Lt=Bt>=ne.Va-1,ne.Aa==2&&Xn(ne,Et),Et.uc)for(mi=(Cn=ne).D.M,e(Cn.D.uc),Et=Cn.yb;Et<Cn.Hb;++Et){Ln=Et,$r=mi;var zn=(Jn=(_n=Cn).D).Nb;Wt=_n.R;var Jn=Jn.wa[Jn.Y+Ln],Nr=_n.sa,Bi=_n.ta+16*zn*Wt+16*Ln,Ts=Jn.dd,$n=Jn.tc;if($n!=0)if(e(3<=$n),_n.L==1)0<Ln&&Qo(Nr,Bi,Wt,$n+4),Jn.La&&Mi(Nr,Bi,Wt,$n),0<$r&&hl(Nr,Bi,Wt,$n+4),Jn.La&&Gc(Nr,Bi,Wt,$n);else{var oo=_n.B,fl=_n.qa,mu=_n.ra+8*zn*oo+8*Ln,Jo=_n.Ha,_n=_n.Ia+8*zn*oo+8*Ln;zn=Jn.ld,0<Ln&&(zf(Nr,Bi,Wt,$n+4,Ts,zn),ll(fl,mu,Jo,_n,oo,$n+4,Ts,zn)),Jn.La&&(Ko(Nr,Bi,Wt,$n,Ts,zn),du(fl,mu,Jo,_n,oo,$n,Ts,zn)),0<$r&&(fu(Nr,Bi,Wt,$n+4,Ts,zn),Wc(fl,mu,Jo,_n,oo,$n+4,Ts,zn)),Jn.La&&(ul(Nr,Bi,Wt,$n,Ts,zn),cl(fl,mu,Jo,_n,oo,$n,Ts,zn))}}if(ne.ia&&alert("todo:DitherRow"),se.put!=null){if(Et=16*Bt,Bt=16*(Bt+1),pi?(se.y=ne.sa,se.O=ne.ta+Qt,se.f=ne.qa,se.N=ne.ra+Hr,se.ea=ne.Ha,se.W=ne.Ia+Hr):(Et-=Tt,se.y=Fe,se.O=rt,se.f=qe,se.N=Se,se.ea=Dt,se.W=Vt),Lt||(Bt-=Tt),Bt>se.o&&(Bt=se.o),se.F=null,se.J=null,ne.Fa!=null&&0<ne.Fa.length&&Et<Bt&&(se.J=fi(ne,se,Et,Bt-Et),se.F=ne.mb,se.F==null&&se.F.length==0)){xe=rn(ne,3,"Could not decode alpha data.");break e}Et<se.j&&(Tt=se.j-Et,Et=se.j,e(!(1&Tt)),se.O+=ne.R*Tt,se.N+=ne.B*(Tt>>1),se.W+=ne.B*(Tt>>1),se.F!=null&&(se.J+=se.width*Tt)),Et<Bt&&(se.O+=se.v,se.N+=se.v>>1,se.W+=se.v>>1,se.F!=null&&(se.J+=se.v),se.ka=Et-se.j,se.U=se.va-se.v,se.T=Bt-Et,xe=se.put(se))}be+1!=ne.Ic||Lt||(r(ne.sa,ne.ta-Ie,Fe,rt+16*ne.R,Ie),r(ne.qa,ne.ra-He,qe,Se+8*ne.B,He),r(ne.Ha,ne.Ia-He,Dt,Vt+8*ne.B,He))}if(!xe)return rn(ae,6,"Output aborted.")}return 1}(u,f)),f.bc!=null&&f.bc(f),g&=1}return g?(u.cb=0,g):0}function Vr(u,f,g,w,L){L=u[f+g+32*w]+(L>>3),u[f+g+32*w]=-256&L?0>L?0:255:L}function Xs(u,f,g,w,L,D){Vr(u,f,0,g,w+L),Vr(u,f,1,g,w+D),Vr(u,f,2,g,w-D),Vr(u,f,3,g,w-L)}function lr(u){return(20091*u>>16)+u}function li(u,f,g,w){var L,D=0,F=s(16);for(L=0;4>L;++L){var U=u[f+0]+u[f+8],z=u[f+0]-u[f+8],H=(35468*u[f+4]>>16)-lr(u[f+12]),te=lr(u[f+4])+(35468*u[f+12]>>16);F[D+0]=U+te,F[D+1]=z+H,F[D+2]=z-H,F[D+3]=U-te,D+=4,f++}for(L=D=0;4>L;++L)U=(u=F[D+0]+4)+F[D+8],z=u-F[D+8],H=(35468*F[D+4]>>16)-lr(F[D+12]),Vr(g,w,0,0,U+(te=lr(F[D+4])+(35468*F[D+12]>>16))),Vr(g,w,1,0,z+H),Vr(g,w,2,0,z-H),Vr(g,w,3,0,U-te),D++,w+=32}function Br(u,f,g,w){var L=u[f+0]+4,D=35468*u[f+4]>>16,F=lr(u[f+4]),U=35468*u[f+1]>>16;Xs(g,w,0,L+F,u=lr(u[f+1]),U),Xs(g,w,1,L+D,u,U),Xs(g,w,2,L-D,u,U),Xs(g,w,3,L-F,u,U)}function Oo(u,f,g,w,L){li(u,f,g,w),L&&li(u,f+16,g,w+4)}function Ys(u,f,g,w){ro(u,f+0,g,w,1),ro(u,f+32,g,w+128,1)}function Yl(u,f,g,w){var L;for(u=u[f+0]+4,L=0;4>L;++L)for(f=0;4>f;++f)Vr(g,w,f,L,u)}function jt(u,f,g,w){u[f+0]&&Tr(u,f+0,g,w),u[f+16]&&Tr(u,f+16,g,w+4),u[f+32]&&Tr(u,f+32,g,w+128),u[f+48]&&Tr(u,f+48,g,w+128+4)}function Do(u,f,g,w){var L,D=s(16);for(L=0;4>L;++L){var F=u[f+0+L]+u[f+12+L],U=u[f+4+L]+u[f+8+L],z=u[f+4+L]-u[f+8+L],H=u[f+0+L]-u[f+12+L];D[0+L]=F+U,D[8+L]=F-U,D[4+L]=H+z,D[12+L]=H-z}for(L=0;4>L;++L)F=(u=D[0+4*L]+3)+D[3+4*L],U=D[1+4*L]+D[2+4*L],z=D[1+4*L]-D[2+4*L],H=u-D[3+4*L],g[w+0]=F+U>>3,g[w+16]=H+z>>3,g[w+32]=F-U>>3,g[w+48]=H-z>>3,w+=64}function Yi(u,f,g){var w,L=f-32,D=di,F=255-u[L-1];for(w=0;w<g;++w){var U,z=D,H=F+u[f-1];for(U=0;U<g;++U)u[f+U]=z[H+u[L+U]];f+=32}}function Js(u,f){Yi(u,f,4)}function Bc(u,f){Yi(u,f,8)}function Jl(u,f){Yi(u,f,16)}function Ji(u,f){var g;for(g=0;16>g;++g)r(u,f+32*g,u,f-32,16)}function Mo(u,f){var g;for(g=16;0<g;--g)i(u,f,u[f-1],16),f+=32}function jo(u,f,g){var w;for(w=0;16>w;++w)i(f,g+32*w,u,16)}function Zl(u,f){var g,w=16;for(g=0;16>g;++g)w+=u[f-1+32*g]+u[f+g-32];jo(w>>5,u,f)}function yn(u,f){var g,w=8;for(g=0;16>g;++g)w+=u[f-1+32*g];jo(w>>4,u,f)}function Ni(u,f){var g,w=8;for(g=0;16>g;++g)w+=u[f+g-32];jo(w>>4,u,f)}function Ja(u,f){jo(128,u,f)}function ct(u,f,g){return u+2*f+g+2>>2}function eu(u,f){var g,w=f-32;for(w=new Uint8Array([ct(u[w-1],u[w+0],u[w+1]),ct(u[w+0],u[w+1],u[w+2]),ct(u[w+1],u[w+2],u[w+3]),ct(u[w+2],u[w+3],u[w+4])]),g=0;4>g;++g)r(u,f+32*g,w,0,w.length)}function Ss(u,f){var g=u[f-1],w=u[f-1+32],L=u[f-1+64],D=u[f-1+96];De(u,f+0,16843009*ct(u[f-1-32],g,w)),De(u,f+32,16843009*ct(g,w,L)),De(u,f+64,16843009*ct(w,L,D)),De(u,f+96,16843009*ct(L,D,D))}function ki(u,f){var g,w=4;for(g=0;4>g;++g)w+=u[f+g-32]+u[f-1+32*g];for(w>>=3,g=0;4>g;++g)i(u,f+32*g,w,4)}function tu(u,f){var g=u[f-1+0],w=u[f-1+32],L=u[f-1+64],D=u[f-1-32],F=u[f+0-32],U=u[f+1-32],z=u[f+2-32],H=u[f+3-32];u[f+0+96]=ct(w,L,u[f-1+96]),u[f+1+96]=u[f+0+64]=ct(g,w,L),u[f+2+96]=u[f+1+64]=u[f+0+32]=ct(D,g,w),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=ct(F,D,g),u[f+3+64]=u[f+2+32]=u[f+1+0]=ct(U,F,D),u[f+3+32]=u[f+2+0]=ct(z,U,F),u[f+3+0]=ct(H,z,U)}function nu(u,f){var g=u[f+1-32],w=u[f+2-32],L=u[f+3-32],D=u[f+4-32],F=u[f+5-32],U=u[f+6-32],z=u[f+7-32];u[f+0+0]=ct(u[f+0-32],g,w),u[f+1+0]=u[f+0+32]=ct(g,w,L),u[f+2+0]=u[f+1+32]=u[f+0+64]=ct(w,L,D),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=ct(L,D,F),u[f+3+32]=u[f+2+64]=u[f+1+96]=ct(D,F,U),u[f+3+64]=u[f+2+96]=ct(F,U,z),u[f+3+96]=ct(U,z,z)}function Sr(u,f){var g=u[f-1+0],w=u[f-1+32],L=u[f-1+64],D=u[f-1-32],F=u[f+0-32],U=u[f+1-32],z=u[f+2-32],H=u[f+3-32];u[f+0+0]=u[f+1+64]=D+F+1>>1,u[f+1+0]=u[f+2+64]=F+U+1>>1,u[f+2+0]=u[f+3+64]=U+z+1>>1,u[f+3+0]=z+H+1>>1,u[f+0+96]=ct(L,w,g),u[f+0+64]=ct(w,g,D),u[f+0+32]=u[f+1+96]=ct(g,D,F),u[f+1+32]=u[f+2+96]=ct(D,F,U),u[f+2+32]=u[f+3+96]=ct(F,U,z),u[f+3+32]=ct(U,z,H)}function Za(u,f){var g=u[f+0-32],w=u[f+1-32],L=u[f+2-32],D=u[f+3-32],F=u[f+4-32],U=u[f+5-32],z=u[f+6-32],H=u[f+7-32];u[f+0+0]=g+w+1>>1,u[f+1+0]=u[f+0+64]=w+L+1>>1,u[f+2+0]=u[f+1+64]=L+D+1>>1,u[f+3+0]=u[f+2+64]=D+F+1>>1,u[f+0+32]=ct(g,w,L),u[f+1+32]=u[f+0+96]=ct(w,L,D),u[f+2+32]=u[f+1+96]=ct(L,D,F),u[f+3+32]=u[f+2+96]=ct(D,F,U),u[f+3+64]=ct(F,U,z),u[f+3+96]=ct(U,z,H)}function Uc(u,f){var g=u[f-1+0],w=u[f-1+32],L=u[f-1+64],D=u[f-1+96];u[f+0+0]=g+w+1>>1,u[f+2+0]=u[f+0+32]=w+L+1>>1,u[f+2+32]=u[f+0+64]=L+D+1>>1,u[f+1+0]=ct(g,w,L),u[f+3+0]=u[f+1+32]=ct(w,L,D),u[f+3+32]=u[f+1+64]=ct(L,D,D),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=D}function Fo(u,f){var g=u[f-1+0],w=u[f-1+32],L=u[f-1+64],D=u[f-1+96],F=u[f-1-32],U=u[f+0-32],z=u[f+1-32],H=u[f+2-32];u[f+0+0]=u[f+2+32]=g+F+1>>1,u[f+0+32]=u[f+2+64]=w+g+1>>1,u[f+0+64]=u[f+2+96]=L+w+1>>1,u[f+0+96]=D+L+1>>1,u[f+3+0]=ct(U,z,H),u[f+2+0]=ct(F,U,z),u[f+1+0]=u[f+3+32]=ct(g,F,U),u[f+1+32]=u[f+3+64]=ct(w,g,F),u[f+1+64]=u[f+3+96]=ct(L,w,g),u[f+1+96]=ct(D,L,w)}function Vo(u,f){var g;for(g=0;8>g;++g)r(u,f+32*g,u,f-32,8)}function Bo(u,f){var g;for(g=0;8>g;++g)i(u,f,u[f-1],8),f+=32}function ui(u,f,g){var w;for(w=0;8>w;++w)i(f,g+32*w,u,8)}function Ur(u,f){var g,w=8;for(g=0;8>g;++g)w+=u[f+g-32]+u[f-1+32*g];ui(w>>4,u,f)}function ru(u,f){var g,w=4;for(g=0;8>g;++g)w+=u[f+g-32];ui(w>>3,u,f)}function Zi(u,f){var g,w=4;for(g=0;8>g;++g)w+=u[f-1+32*g];ui(w>>3,u,f)}function Ht(u,f){ui(128,u,f)}function Uo(u,f,g){var w=u[f-g],L=u[f+0],D=3*(L-w)+n1[1020+u[f-2*g]-u[f+g]],F=Hf[112+(D+4>>3)];u[f-g]=di[255+w+Hf[112+(D+3>>3)]],u[f+0]=di[255+L-F]}function iu(u,f,g,w){var L=u[f+0],D=u[f+g];return Fi[255+u[f-2*g]-u[f-g]]>w||Fi[255+D-L]>w}function el(u,f,g,w){return 4*Fi[255+u[f-g]-u[f+0]]+Fi[255+u[f-2*g]-u[f+g]]<=w}function tl(u,f,g,w,L){var D=u[f-3*g],F=u[f-2*g],U=u[f-g],z=u[f+0],H=u[f+g],te=u[f+2*g],me=u[f+3*g];return 4*Fi[255+U-z]+Fi[255+F-H]>w?0:Fi[255+u[f-4*g]-D]<=L&&Fi[255+D-F]<=L&&Fi[255+F-U]<=L&&Fi[255+me-te]<=L&&Fi[255+te-H]<=L&&Fi[255+H-z]<=L}function nl(u,f,g,w){var L=2*w+1;for(w=0;16>w;++w)el(u,f+w,g,L)&&Uo(u,f+w,g)}function Ar(u,f,g,w){var L=2*w+1;for(w=0;16>w;++w)el(u,f+w*g,1,L)&&Uo(u,f+w*g,1)}function Pi(u,f,g,w){var L;for(L=3;0<L;--L)nl(u,f+=4*g,g,w)}function ci(u,f,g,w){var L;for(L=3;0<L;--L)Ar(u,f+=4,g,w)}function es(u,f,g,w,L,D,F,U){for(D=2*D+1;0<L--;){if(tl(u,f,g,D,F))if(iu(u,f,g,U))Uo(u,f,g);else{var z=u,H=f,te=g,me=z[H-2*te],ge=z[H-te],ae=z[H+0],Ae=z[H+te],be=z[H+2*te],ne=27*(xe=n1[1020+3*(ae-ge)+n1[1020+me-Ae]])+63>>7,se=18*xe+63>>7,xe=9*xe+63>>7;z[H-3*te]=di[255+z[H-3*te]+xe],z[H-2*te]=di[255+me+se],z[H-te]=di[255+ge+ne],z[H+0]=di[255+ae-ne],z[H+te]=di[255+Ae-se],z[H+2*te]=di[255+be-xe]}f+=w}}function hi(u,f,g,w,L,D,F,U){for(D=2*D+1;0<L--;){if(tl(u,f,g,D,F))if(iu(u,f,g,U))Uo(u,f,g);else{var z=u,H=f,te=g,me=z[H-te],ge=z[H+0],ae=z[H+te],Ae=Hf[112+((be=3*(ge-me))+4>>3)],be=Hf[112+(be+3>>3)],ne=Ae+1>>1;z[H-2*te]=di[255+z[H-2*te]+ne],z[H-te]=di[255+me+be],z[H+0]=di[255+ge-Ae],z[H+te]=di[255+ae-ne]}f+=w}}function ts(u,f,g,w,L,D){es(u,f,g,1,16,w,L,D)}function As(u,f,g,w,L,D){es(u,f,1,g,16,w,L,D)}function rl(u,f,g,w,L,D){var F;for(F=3;0<F;--F)hi(u,f+=4*g,g,1,16,w,L,D)}function ns(u,f,g,w,L,D){var F;for(F=3;0<F;--F)hi(u,f+=4,1,g,16,w,L,D)}function su(u,f,g,w,L,D,F,U){es(u,f,L,1,8,D,F,U),es(g,w,L,1,8,D,F,U)}function Is(u,f,g,w,L,D,F,U){es(u,f,1,L,8,D,F,U),es(g,w,1,L,8,D,F,U)}function il(u,f,g,w,L,D,F,U){hi(u,f+4*L,L,1,8,D,F,U),hi(g,w+4*L,L,1,8,D,F,U)}function sl(u,f,g,w,L,D,F,U){hi(u,f+4,1,L,8,D,F,U),hi(g,w+4,1,L,8,D,F,U)}function Li(){this.ba=new Mr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function qo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function zo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $o(){this.ua=0,this.Wa=new X,this.vb=new X,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new T}function ol(){this.xb=this.a=0,this.l=new Qs,this.ca=new Mr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $o,this.ab=0,this.gc=o(4,zo),this.Oc=0}function Zs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ci(u,f,g,w,L,D,F){for(u=u==null?0:u[f+0],f=0;f<F;++f)L[D+f]=u+g[w+f]&255,u=L[D+f]}function Ho(u,f,g,w,L,D,F){var U;if(u==null)Ci(null,null,g,w,L,D,F);else for(U=0;U<F;++U)L[D+U]=u[f+U]+g[w+U]&255}function rs(u,f,g,w,L,D,F){if(u==null)Ci(null,null,g,w,L,D,F);else{var U,z=u[f+0],H=z,te=z;for(U=0;U<F;++U)H=te+(z=u[f+U])-H,te=g[w+U]+(-256&H?0>H?0:255:H)&255,H=z,L[D+U]=te}}function fi(u,f,g,w){var L=f.width,D=f.o;if(e(u!=null&&f!=null),0>g||0>=w||g+w>D)return null;if(!u.Cc){if(u.ga==null){var F;if(u.ga=new Zs,(F=u.ga==null)||(F=f.width*f.o,e(u.Gb.length==0),u.Gb=s(F),u.Uc=0,u.Gb==null?F=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,F=1),F=!F),!F){F=u.ga;var U=u.Fa,z=u.P,H=u.qc,te=u.mb,me=u.nb,ge=z+1,ae=H-1,Ae=F.l;if(e(U!=null&&te!=null&&f!=null),Yo[0]=null,Yo[1]=Ci,Yo[2]=Ho,Yo[3]=rs,F.ca=te,F.tb=me,F.c=f.width,F.i=f.height,e(0<F.c&&0<F.i),1>=H)f=0;else if(F.$a=U[z+0]>>0&3,F.Z=U[z+0]>>2&3,F.Lc=U[z+0]>>4&3,z=U[z+0]>>6&3,0>F.$a||1<F.$a||4<=F.Z||1<F.Lc||z)f=0;else if(Ae.put=ri,Ae.ac=gn,Ae.bc=or,Ae.ma=F,Ae.width=f.width,Ae.height=f.height,Ae.Da=f.Da,Ae.v=f.v,Ae.va=f.va,Ae.j=f.j,Ae.o=f.o,F.$a)e:{e(F.$a==1),f=Qn();t:for(;;){if(f==null){f=0;break e}if(e(F!=null),F.mc=f,f.c=F.c,f.i=F.i,f.l=F.l,f.l.ma=F,f.l.width=F.c,f.l.height=F.i,f.a=0,Y(f.m,U,ge,ae),!Mn(F.c,F.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&Xi(f.s)?(F.ic=1,U=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(U),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(F.ic=0,f=bs(f,F.c)),!f))break t;f=1;break e}F.mc=null,f=0}else f=ae>=F.c*F.i;F=!f}if(F)return null;u.ga.Lc!=1?u.Ga=0:w=D-g}e(u.ga!=null),e(g+w<=D);e:{if(f=(U=u.ga).c,D=U.l.o,U.$a==0){if(ge=u.rc,ae=u.Vc,Ae=u.Fa,z=u.P+1+g*f,H=u.mb,te=u.nb+g*f,e(z<=u.P+u.qc),U.Z!=0)for(e(Yo[U.Z]!=null),F=0;F<w;++F)Yo[U.Z](ge,ae,Ae,z,H,te,f),ge=H,ae=te,te+=f,z+=f;else for(F=0;F<w;++F)r(H,te,Ae,z,f),ge=H,ae=te,te+=f,z+=f;u.rc=ge,u.Vc=ae}else{if(e(U.mc!=null),f=g+w,e((F=U.mc)!=null),e(f<=F.i),F.C>=f)f=1;else if(U.ic||ue(),U.ic){U=F.V,ge=F.Ba,ae=F.c;var be=F.i,ne=(Ae=1,z=F.$/ae,H=F.$%ae,te=F.m,me=F.s,F.$),se=ae*be,xe=ae*f,Ie=me.wc,Se=ne<xe?vn(me,H,z):null;e(ne<=se),e(f<=be),e(Xi(me));t:for(;;){for(;!te.h&&ne<xe;){if(H&Ie||(Se=vn(me,H,z)),e(Se!=null),ie(te),256>(be=Pn(Se.G[0],Se.H[0],te)))U[ge+ne]=be,++ne,++H>=ae&&(H=0,++z<=f&&!(z%16)&&ar(F,z));else{if(!(280>be)){Ae=0;break t}be=Gt(be-256,te);var He,Fe=Pn(Se.G[4],Se.H[4],te);if(ie(te),!(ne>=(Fe=ii(ae,Fe=Gt(Fe,te)))&&se-ne>=be)){Ae=0;break t}for(He=0;He<be;++He)U[ge+ne+He]=U[ge+ne+He-Fe];for(ne+=be,H+=be;H>=ae;)H-=ae,++z<=f&&!(z%16)&&ar(F,z);ne<xe&&H&Ie&&(Se=vn(me,H,z))}e(te.h==Q(te))}ar(F,z>f?f:z);break t}!Ae||te.h&&ne<se?(Ae=0,F.a=te.h?5:3):F.$=ne,f=Ae}else f=jr(F,F.V,F.Ba,F.c,F.i,f,Hs);if(!f){w=0;break e}}g+w>=D&&(u.Cc=1),w=1}if(!w)return null;if(u.Cc&&((w=u.ga)!=null&&(w.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+g*L}function d(u,f,g,w,L,D){for(;0<L--;){var F,U=u,z=f+(g?1:0),H=u,te=f+(g?0:3);for(F=0;F<w;++F){var me=H[te+4*F];me!=255&&(me*=32897,U[z+4*F+0]=U[z+4*F+0]*me>>23,U[z+4*F+1]=U[z+4*F+1]*me>>23,U[z+4*F+2]=U[z+4*F+2]*me>>23)}f+=D}}function P(u,f,g,w,L){for(;0<w--;){var D;for(D=0;D<g;++D){var F=u[f+2*D+0],U=15&(H=u[f+2*D+1]),z=4369*U,H=(240&H|H>>4)*z>>16;u[f+2*D+0]=(240&F|F>>4)*z>>16&240|(15&F|F<<4)*z>>16>>4&15,u[f+2*D+1]=240&H|U}f+=L}}function G(u,f,g,w,L,D,F,U){var z,H,te=255;for(H=0;H<L;++H){for(z=0;z<w;++z){var me=u[f+z];D[F+4*z]=me,te&=me}f+=g,F+=U}return te!=255}function Z(u,f,g,w,L){var D;for(D=0;D<L;++D)g[w+D]=u[f+D]>>8}function ue(){ji=d,Jt=P,Zt=G,Sn=Z}function we(u,f,g){S[u]=function(w,L,D,F,U,z,H,te,me,ge,ae,Ae,be,ne,se,xe,Ie){var Se,He=Ie-1>>1,Fe=U[z+0]|H[te+0]<<16,rt=me[ge+0]|ae[Ae+0]<<16;e(w!=null);var qe=3*Fe+rt+131074>>2;for(f(w[L+0],255&qe,qe>>16,be,ne),D!=null&&(qe=3*rt+Fe+131074>>2,f(D[F+0],255&qe,qe>>16,se,xe)),Se=1;Se<=He;++Se){var Dt=U[z+Se]|H[te+Se]<<16,Vt=me[ge+Se]|ae[Ae+Se]<<16,Lt=Fe+Dt+rt+Vt+524296,Tt=Lt+2*(Dt+rt)>>3;qe=Tt+Fe>>1,Fe=(Lt=Lt+2*(Fe+Vt)>>3)+Dt>>1,f(w[L+2*Se-1],255&qe,qe>>16,be,ne+(2*Se-1)*g),f(w[L+2*Se-0],255&Fe,Fe>>16,be,ne+(2*Se-0)*g),D!=null&&(qe=Lt+rt>>1,Fe=Tt+Vt>>1,f(D[F+2*Se-1],255&qe,qe>>16,se,xe+(2*Se-1)*g),f(D[F+2*Se+0],255&Fe,Fe>>16,se,xe+(2*Se+0)*g)),Fe=Dt,rt=Vt}1&Ie||(qe=3*Fe+rt+131074>>2,f(w[L+Ie-1],255&qe,qe>>16,be,ne+(Ie-1)*g),D!=null&&(qe=3*rt+Fe+131074>>2,f(D[F+Ie-1],255&qe,qe>>16,se,xe+(Ie-1)*g)))}}function Te(){Vi[Wf]=JS,Vi[Gf]=Ly,Vi[Iy]=ZS,Vi[Kf]=Cy,Vi[Qf]=Ry,Vi[r1]=Oy,Vi[Ty]=eA,Vi[i1]=Ly,Vi[s1]=Cy,Vi[Xf]=Ry,Vi[o1]=Oy}function $e(u){return u&~tA?0>u?0:255:u>>Dy}function Qe(u,f){return $e((19077*u>>8)+(26149*f>>8)-14234)}function c(u,f,g){return $e((19077*u>>8)-(6419*f>>8)-(13320*g>>8)+8708)}function y(u,f){return $e((19077*u>>8)+(33050*f>>8)-17685)}function x(u,f,g,w,L){w[L+0]=Qe(u,g),w[L+1]=c(u,f,g),w[L+2]=y(u,f)}function B(u,f,g,w,L){w[L+0]=y(u,f),w[L+1]=c(u,f,g),w[L+2]=Qe(u,g)}function re(u,f,g,w,L){var D=c(u,f,g);f=D<<3&224|y(u,f)>>3,w[L+0]=248&Qe(u,g)|D>>5,w[L+1]=f}function pe(u,f,g,w,L){var D=240&y(u,f)|15;w[L+0]=240&Qe(u,g)|c(u,f,g)>>4,w[L+1]=D}function Pe(u,f,g,w,L){w[L+0]=255,x(u,f,g,w,L+1)}function dt(u,f,g,w,L){B(u,f,g,w,L),w[L+3]=255}function Ft(u,f,g,w,L){x(u,f,g,w,L),w[L+3]=255}function pt(u,f){return 0>u?0:u>f?f:u}function Kt(u,f,g){S[u]=function(w,L,D,F,U,z,H,te,me){for(var ge=te+(-2&me)*g;te!=ge;)f(w[L+0],D[F+0],U[z+0],H,te),f(w[L+1],D[F+0],U[z+0],H,te+g),L+=2,++F,++z,te+=2*g;1&me&&f(w[L+0],D[F+0],U[z+0],H,te)}}function En(u,f,g){return g==0?u==0?f==0?6:5:f==0?4:0:g}function Ri(u,f,g,w,L){switch(u>>>30){case 3:ro(f,g,w,L,0);break;case 2:xn(f,g,w,L);break;case 1:Tr(f,g,w,L)}}function Xn(u,f){var g,w,L=f.M,D=f.Nb,F=u.oc,U=u.pc+40,z=u.oc,H=u.pc+584,te=u.oc,me=u.pc+600;for(g=0;16>g;++g)F[U+32*g-1]=129;for(g=0;8>g;++g)z[H+32*g-1]=129,te[me+32*g-1]=129;for(0<L?F[U-1-32]=z[H-1-32]=te[me-1-32]=129:(i(F,U-32-1,127,21),i(z,H-32-1,127,9),i(te,me-32-1,127,9)),w=0;w<u.za;++w){var ge=f.ya[f.aa+w];if(0<w){for(g=-1;16>g;++g)r(F,U+32*g-4,F,U+32*g+12,4);for(g=-1;8>g;++g)r(z,H+32*g-4,z,H+32*g+4,4),r(te,me+32*g-4,te,me+32*g+4,4)}var ae=u.Gd,Ae=u.Hd+w,be=ge.ad,ne=ge.Hc;if(0<L&&(r(F,U-32,ae[Ae].y,0,16),r(z,H-32,ae[Ae].f,0,8),r(te,me-32,ae[Ae].ea,0,8)),ge.Za){var se=F,xe=U-32+16;for(0<L&&(w>=u.za-1?i(se,xe,ae[Ae].y[15],4):r(se,xe,ae[Ae+1].y,0,4)),g=0;4>g;g++)se[xe+128+g]=se[xe+256+g]=se[xe+384+g]=se[xe+0+g];for(g=0;16>g;++g,ne<<=2)se=F,xe=U+jy[g],ss[ge.Ob[g]](se,xe),Ri(ne,be,16*+g,se,xe)}else if(se=En(w,L,ge.Ob[0]),Xo[se](F,U),ne!=0)for(g=0;16>g;++g,ne<<=2)Ri(ne,be,16*+g,F,U+jy[g]);for(g=ge.Gc,se=En(w,L,ge.Dd),so[se](z,H),so[se](te,me),ne=be,se=z,xe=H,255&(ge=g>>0)&&(170&ge?Hc(ne,256,se,xe):Di(ne,256,se,xe)),ge=te,ne=me,255&(g>>=8)&&(170&g?Hc(be,320,ge,ne):Di(be,320,ge,ne)),L<u.Ub-1&&(r(ae[Ae].y,0,F,U+480,16),r(ae[Ae].f,0,z,H+224,8),r(ae[Ae].ea,0,te,me+224,8)),g=8*D*u.B,ae=u.sa,Ae=u.ta+16*w+16*D*u.R,be=u.qa,ge=u.ra+8*w+g,ne=u.Ha,se=u.Ia+8*w+g,g=0;16>g;++g)r(ae,Ae+g*u.R,F,U+32*g,16);for(g=0;8>g;++g)r(be,ge+g*u.B,z,H+32*g,8),r(ne,se+g*u.B,te,me+32*g,8)}}function is(u,f,g,w,L,D,F,U,z){var H=[0],te=[0],me=0,ge=z!=null?z.kd:0,ae=z??new qo;if(u==null||12>g)return 7;ae.data=u,ae.w=f,ae.ha=g,f=[f],g=[g],ae.gb=[ae.gb];e:{var Ae=f,be=g,ne=ae.gb;if(e(u!=null),e(be!=null),e(ne!=null),ne[0]=0,12<=be[0]&&!n(u,Ae[0],"RIFF")){if(n(u,Ae[0]+8,"WEBP")){ne=3;break e}var se=je(u,Ae[0]+4);if(12>se||4294967286<se){ne=3;break e}if(ge&&se>be[0]-8){ne=7;break e}ne[0]=se,Ae[0]+=12,be[0]-=12}ne=0}if(ne!=0)return ne;for(se=0<ae.gb[0],g=g[0];;){e:{var xe=u;be=f,ne=g;var Ie=H,Se=te,He=Ae=[0];if((qe=me=[me])[0]=0,8>ne[0])ne=7;else{if(!n(xe,be[0],"VP8X")){if(je(xe,be[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var Fe=je(xe,be[0]+8),rt=1+Ve(xe,be[0]+12);if(2147483648<=rt*(xe=1+Ve(xe,be[0]+15))){ne=3;break e}He!=null&&(He[0]=Fe),Ie!=null&&(Ie[0]=rt),Se!=null&&(Se[0]=xe),be[0]+=18,ne[0]-=18,qe[0]=1}ne=0}}if(me=me[0],Ae=Ae[0],ne!=0)return ne;if(be=!!(2&Ae),!se&&me)return 3;if(D!=null&&(D[0]=!!(16&Ae)),F!=null&&(F[0]=be),U!=null&&(U[0]=0),F=H[0],Ae=te[0],me&&be&&z==null){ne=0;break}if(4>g){ne=7;break}if(se&&me||!se&&!me&&!n(u,f[0],"ALPH")){g=[g],ae.na=[ae.na],ae.P=[ae.P],ae.Sa=[ae.Sa];e:{Fe=u,ne=f,se=g;var qe=ae.gb;Ie=ae.na,Se=ae.P,He=ae.Sa,rt=22,e(Fe!=null),e(se!=null),xe=ne[0];var Dt=se[0];for(e(Ie!=null),e(He!=null),Ie[0]=null,Se[0]=null,He[0]=0;;){if(ne[0]=xe,se[0]=Dt,8>Dt){ne=7;break e}var Vt=je(Fe,xe+4);if(4294967286<Vt){ne=3;break e}var Lt=8+Vt+1&-2;if(rt+=Lt,0<qe&&rt>qe){ne=3;break e}if(!n(Fe,xe,"VP8 ")||!n(Fe,xe,"VP8L")){ne=0;break e}if(Dt[0]<Lt){ne=7;break e}n(Fe,xe,"ALPH")||(Ie[0]=Fe,Se[0]=xe+8,He[0]=Vt),xe+=Lt,Dt-=Lt}}if(g=g[0],ae.na=ae.na[0],ae.P=ae.P[0],ae.Sa=ae.Sa[0],ne!=0)break}g=[g],ae.Ja=[ae.Ja],ae.xa=[ae.xa];e:if(qe=u,ne=f,se=g,Ie=ae.gb[0],Se=ae.Ja,He=ae.xa,Fe=ne[0],xe=!n(qe,Fe,"VP8 "),rt=!n(qe,Fe,"VP8L"),e(qe!=null),e(se!=null),e(Se!=null),e(He!=null),8>se[0])ne=7;else{if(xe||rt){if(qe=je(qe,Fe+4),12<=Ie&&qe>Ie-12){ne=3;break e}if(ge&&qe>se[0]-8){ne=7;break e}Se[0]=qe,ne[0]+=8,se[0]-=8,He[0]=rt}else He[0]=5<=se[0]&&qe[Fe+0]==47&&!(qe[Fe+4]>>5),Se[0]=se[0];ne=0}if(g=g[0],ae.Ja=ae.Ja[0],ae.xa=ae.xa[0],f=f[0],ne!=0)break;if(4294967286<ae.Ja)return 3;if(U==null||be||(U[0]=ae.xa?2:1),F=[F],Ae=[Ae],ae.xa){if(5>g){ne=7;break}U=F,ge=Ae,be=D,u==null||5>g?u=0:5<=g&&u[f+0]==47&&!(u[f+4]>>5)?(se=[0],qe=[0],Ie=[0],Y(Se=new O,u,f,g),tt(Se,se,qe,Ie)?(U!=null&&(U[0]=se[0]),ge!=null&&(ge[0]=qe[0]),be!=null&&(be[0]=Ie[0]),u=1):u=0):u=0}else{if(10>g){ne=7;break}U=Ae,u==null||10>g||!Ro(u,f+3,g-3)?u=0:(ge=u[f+0]|u[f+1]<<8|u[f+2]<<16,be=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=ae.Ja||!be||!u?u=0:(F&&(F[0]=be),U&&(U[0]=u),u=1))}if(!u||(F=F[0],Ae=Ae[0],me&&(H[0]!=F||te[0]!=Ae)))return 3;z!=null&&(z[0]=ae,z.offset=f-z.w,e(4294967286>f-z.w),e(z.offset==z.ha-g));break}return ne==0||ne==7&&me&&z==null?(D!=null&&(D[0]|=ae.na!=null&&0<ae.na.length),w!=null&&(w[0]=F),L!=null&&(L[0]=Ae),0):ne}function eo(u,f,g){var w=f.width,L=f.height,D=0,F=0,U=w,z=L;if(f.Da=u!=null&&0<u.Da,f.Da&&(U=u.cd,z=u.bd,D=u.v,F=u.j,11>g||(D&=-2,F&=-2),0>D||0>F||0>=U||0>=z||D+U>w||F+z>L))return 0;if(f.v=D,f.j=F,f.va=D+U,f.o=F+z,f.U=U,f.T=z,f.da=u!=null&&0<u.da,f.da){if(!ft(U,z,g=[u.ib],D=[u.hb]))return 0;f.ib=g[0],f.hb=D[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*w/4&&f.hb<3*L/4,f.Kb=0),1}function qc(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function ou(u,f,g,w){if(w==null||0>=u||0>=f)return 2;if(g!=null){if(g.Da){var L=g.cd,D=g.bd,F=-2&g.v,U=-2&g.j;if(0>F||0>U||0>=L||0>=D||F+L>u||U+D>f)return 2;u=L,f=D}if(g.da){if(!ft(u,f,L=[g.ib],D=[g.hb]))return 2;u=L[0],f=D[0]}}w.width=u,w.height=f;e:{var z=w.width,H=w.height;if(u=w.S,0>=z||0>=H||!(u>=Wf&&13>u))u=2;else{if(0>=w.Rd&&w.sd==null){F=D=L=f=0;var te=(U=z*Fy[u])*H;if(11>u||(D=(H+1)/2*(f=(z+1)/2),u==12&&(F=(L=z)*H)),(H=s(te+2*D+F))==null){u=1;break e}w.sd=H,11>u?((z=w.f.RGBA).eb=H,z.fb=0,z.A=U,z.size=te):((z=w.f.kb).y=H,z.O=0,z.fa=U,z.Fd=te,z.f=H,z.N=0+te,z.Ab=f,z.Cd=D,z.ea=H,z.W=0+te+D,z.Db=f,z.Ed=D,u==12&&(z.F=H,z.J=0+te+2*D),z.Tc=F,z.lb=L)}if(f=1,L=w.S,D=w.width,F=w.height,L>=Wf&&13>L)if(11>L)u=w.f.RGBA,f&=(U=Math.abs(u.A))*(F-1)+D<=u.size,f&=U>=D*Fy[L],f&=u.eb!=null;else{u=w.f.kb,U=(D+1)/2,te=(F+1)/2,z=Math.abs(u.fa),H=Math.abs(u.Ab);var me=Math.abs(u.Db),ge=Math.abs(u.lb),ae=ge*(F-1)+D;f&=z*(F-1)+D<=u.Fd,f&=H*(te-1)+U<=u.Cd,f=(f&=me*(te-1)+U<=u.Ed)&z>=D&H>=U&me>=U,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,L==12&&(f&=ge>=D,f&=ae<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||g!=null&&g.fd&&(u=qc(w)),u}var Yn=64,au=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],lu=24,uu=32,zc=8,qr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Me("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(u){return u},S.Predictor2=function(u,f,g){return f[g+0]},S.Predictor3=function(u,f,g){return f[g+1]},S.Predictor4=function(u,f,g){return f[g-1]},S.Predictor5=function(u,f,g){return Be(Be(u,f[g+1]),f[g+0])},S.Predictor6=function(u,f,g){return Be(u,f[g-1])},S.Predictor7=function(u,f,g){return Be(u,f[g+0])},S.Predictor8=function(u,f,g){return Be(f[g-1],f[g+0])},S.Predictor9=function(u,f,g){return Be(f[g+0],f[g+1])},S.Predictor10=function(u,f,g){return Be(Be(u,f[g-1]),Be(f[g+0],f[g+1]))},S.Predictor11=function(u,f,g){var w=f[g+0];return 0>=gt(w>>24&255,u>>24&255,(f=f[g-1])>>24&255)+gt(w>>16&255,u>>16&255,f>>16&255)+gt(w>>8&255,u>>8&255,f>>8&255)+gt(255&w,255&u,255&f)?w:u},S.Predictor12=function(u,f,g){var w=f[g+0];return(Je((u>>24&255)+(w>>24&255)-((f=f[g-1])>>24&255))<<24|Je((u>>16&255)+(w>>16&255)-(f>>16&255))<<16|Je((u>>8&255)+(w>>8&255)-(f>>8&255))<<8|Je((255&u)+(255&w)-(255&f)))>>>0},S.Predictor13=function(u,f,g){var w=f[g-1];return(lt((u=Be(u,f[g+0]))>>24&255,w>>24&255)<<24|lt(u>>16&255,w>>16&255)<<16|lt(u>>8&255,w>>8&255)<<8|lt(u>>0&255,w>>0&255))>>>0};var t1=S.PredictorAdd0;S.PredictorAdd1=bt,Me("Predictor2","PredictorAdd2"),Me("Predictor3","PredictorAdd3"),Me("Predictor4","PredictorAdd4"),Me("Predictor5","PredictorAdd5"),Me("Predictor6","PredictorAdd6"),Me("Predictor7","PredictorAdd7"),Me("Predictor8","PredictorAdd8"),Me("Predictor9","PredictorAdd9"),Me("Predictor10","PredictorAdd10"),Me("Predictor11","PredictorAdd11"),Me("Predictor12","PredictorAdd12"),Me("Predictor13","PredictorAdd13");var $c=S.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Bf,Oi=S.ColorIndexInverseTransform,cu=S.MapARGB,Uf=S.VP8LColorIndexInverseTransformAlpha,qf=S.MapAlpha,Wo=S.VP8LPredictorsAdd=[];Wo.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var al,zr,Ir,Go,to,no,hu,ro,xn,Hc,Tr,Di,fu,zf,Wc,ll,ul,Ko,cl,du,hl,Qo,Gc,Mi,ji,Jt,Zt,Sn,jn=s(511),io=s(2041),Kc=s(225),pu=s(767),$f=0,n1=io,Hf=Kc,di=pu,Fi=jn,Wf=0,Gf=1,Iy=2,Kf=3,Qf=4,r1=5,Ty=6,i1=7,s1=8,Xf=9,o1=10,FS=[2,3,7],VS=[3,3,11],Ny=[280,256,256,256,40],BS=[0,1,1,1,0],US=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qS=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],zS=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$S=8,a1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],l1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qc=null,HS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],WS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ky=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],GS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],KS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],QS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],XS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xo=[],ss=[],so=[],YS=1,Py=2,Yo=[],Vi=[];we("UpsampleRgbLinePair",x,3),we("UpsampleBgrLinePair",B,3),we("UpsampleRgbaLinePair",Ft,4),we("UpsampleBgraLinePair",dt,4),we("UpsampleArgbLinePair",Pe,4),we("UpsampleRgba4444LinePair",pe,2),we("UpsampleRgb565LinePair",re,2);var JS=S.UpsampleRgbLinePair,ZS=S.UpsampleBgrLinePair,Ly=S.UpsampleRgbaLinePair,Cy=S.UpsampleBgraLinePair,Ry=S.UpsampleArgbLinePair,Oy=S.UpsampleRgba4444LinePair,eA=S.UpsampleRgb565LinePair,Yf=16,Jf=1<<Yf-1,Xc=-227,u1=482,Dy=6,tA=(256<<Dy)-1,My=0,nA=s(256),rA=s(256),iA=s(256),sA=s(256),oA=s(u1-Xc),aA=s(u1-Xc);Kt("YuvToRgbRow",x,3),Kt("YuvToBgrRow",B,3),Kt("YuvToRgbaRow",Ft,4),Kt("YuvToBgraRow",dt,4),Kt("YuvToArgbRow",Pe,4),Kt("YuvToRgba4444Row",pe,2),Kt("YuvToRgb565Row",re,2);var jy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zf=[0,2,8],lA=[8,7,6,4,4,2,2,2,1,1,1,1],uA=1;this.WebPDecodeRGBA=function(u,f,g,w,L){var D=Gf,F=new Li,U=new Mr;F.ba=U,U.S=D,U.width=[U.width],U.height=[U.height];var z=U.width,H=U.height,te=new Er;if(te==null||u==null)var me=2;else e(te!=null),me=is(u,f,g,te.width,te.height,te.Pd,te.Qd,te.format,null);if(me!=0?z=0:(z!=null&&(z[0]=te.width[0]),H!=null&&(H[0]=te.height[0]),z=1),z){U.width=U.width[0],U.height=U.height[0],w!=null&&(w[0]=U.width),L!=null&&(L[0]=U.height);e:{if(w=new Qs,(L=new qo).data=u,L.w=f,L.ha=g,L.kd=1,f=[0],e(L!=null),((u=is(L.data,L.w,L.ha,null,null,null,f,null,L))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(e(F!=null),w.data=L.data,w.w=L.w+L.offset,w.ha=L.ha-L.offset,w.put=ri,w.ac=gn,w.bc=or,w.ma=F,L.xa){if((u=Qn())==null){F=1;break e}if(function(ge,ae){var Ae=[0],be=[0],ne=[0];t:for(;;){if(ge==null)return 0;if(ae==null)return ge.a=2,0;if(ge.l=ae,ge.a=0,Y(ge.m,ae.data,ae.w,ae.ha),!tt(ge.m,Ae,be,ne)){ge.a=3;break t}if(ge.xb=Py,ae.width=Ae[0],ae.height=be[0],!Mn(Ae[0],be[0],1,ge,null))break t;return 1}return e(ge.a!=0),0}(u,w)){if(w=(f=ou(w.width,w.height,F.Oa,F.ba))==0){t:{w=u;n:for(;;){if(w==null){w=0;break t}if(e(w.s.yc!=null),e(w.s.Ya!=null),e(0<w.s.Wb),e((g=w.l)!=null),e((L=g.ma)!=null),w.xb!=0){if(w.ca=L.ba,w.tb=L.tb,e(w.ca!=null),!eo(L.Oa,g,Kf)){w.a=2;break n}if(!bs(w,g.width)||g.da)break n;if((g.da||Rt(w.ca.S))&&ue(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&ue()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!et(w.s.vb,w.s.Wa.Xa)){w.a=1;break n}w.xb=0}if(!jr(w,w.V,w.Ba,w.c,w.i,g.o,si))break n;L.Dc=w.Ma,w=1;break t}e(w.a!=0),w=0}w=!w}w&&(f=u.a)}else f=u.a}else{if((u=new Xl)==null){F=1;break e}if(u.Fa=L.na,u.P=L.P,u.qc=L.Sa,Qa(u,w)){if((f=ou(w.width,w.height,F.Oa,F.ba))==0){if(u.Aa=0,g=F.Oa,e((L=u)!=null),g!=null){if(0<(z=0>(z=g.Md)?0:100<z?255:255*z/100)){for(H=te=0;4>H;++H)12>(me=L.pb[H]).lc&&(me.ia=z*lA[0>me.lc?0:me.lc]>>3),te|=me.ia;te&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=g.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}Vc(u,w)||(f=u.a)}}else f=u.a}f==0&&F.Oa!=null&&F.Oa.fd&&(f=qc(F.ba))}F=f}D=F!=0?null:11>D?U.f.RGBA.eb:U.f.kb.y}else D=null;return D};var Fy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(S,R){for(var j="",E=0;E<4;E++)j+=String.fromCharCode(S[R++]);return j}function p(S,R){return(S[R+0]<<0|S[R+1]<<8|S[R+2]<<16)>>>0}function v(S,R){return(S[R+0]<<0|S[R+1]<<8|S[R+2]<<16|S[R+3]<<24)>>>0}new l;var _=[0],m=[0],A=[],N=new l,V=t,b=function(S,R){var j={},E=0,T=!1,k=0,W=0;if(j.frames=[],!function($,Q,J,ie){for(var de=0;de<ie;de++)if($[Q+de]!=J.charCodeAt(de))return!0;return!1}(S,R,"RIFF",4)){for(v(S,R+=4),R+=8;R<S.length;){var ce=h(S,R),fe=v(S,R+=4);R+=4;var ve=fe+(1&fe);switch(ce){case"VP8 ":case"VP8L":j.frames[E]===void 0&&(j.frames[E]={}),(he=j.frames[E]).src_off=T?W:R-8,he.src_size=k+fe+8,E++,T&&(T=!1,k=0,W=0);break;case"VP8X":(he=j.header={}).feature_flags=S[R];var Y=R+4;he.canvas_width=1+p(S,Y),Y+=3,he.canvas_height=1+p(S,Y),Y+=3;break;case"ALPH":T=!0,k=ve+8,W=R-8;break;case"ANIM":(he=j.header).bgcolor=v(S,R),Y=R+4,he.loop_count=(Re=S)[(O=Y)+0]<<0|Re[O+1]<<8,Y+=2;break;case"ANMF":var le,he;(he=j.frames[E]={}).offset_x=2*p(S,R),R+=3,he.offset_y=2*p(S,R),R+=3,he.width=1+p(S,R),R+=3,he.height=1+p(S,R),R+=3,he.duration=p(S,R),R+=3,le=S[R++],he.dispose=1&le,he.blend=le>>1&1}ce!="ANMF"&&(R+=ve)}var Re,O;return j}}(V,0);b.response=V,b.rgbaoutput=!0,b.dataurl=!1;var I=b.header?b.header:null,M=b.frames?b.frames:null;if(I){I.loop_counter=I.loop_count,_=[I.canvas_height],m=[I.canvas_width];for(var K=0;K<M.length&&M[K].blend!=0;K++);}var ee=M[0],oe=N.WebPDecodeRGBA(V,ee.src_off,ee.src_size,m,_);ee.rgba=oe,ee.imgwidth=m[0],ee.imgheight=_[0];for(var C=0;C<m[0]*_[0]*4;C++)A[C]=oe[C];return this.width=m,this.height=_,this.data=A,this}(function(t){var e=function(){return typeof Qg=="function"},n=function(_,m,A,N){var V=4,b=o;switch(N){case t.image_compression.FAST:V=1,b=s;break;case t.image_compression.MEDIUM:V=6,b=a;break;case t.image_compression.SLOW:V=9,b=l}_=r(_,m,A,b);var I=Qg(_,{level:V});return t.__addimage__.arrayBufferToBinaryString(I)},r=function(_,m,A,N){for(var V,b,I,M=_.length/m,K=new Uint8Array(_.length+M),ee=p(),oe=0;oe<M;oe+=1){if(I=oe*m,V=_.subarray(I,I+m),N)K.set(N(V,A,b),I+oe);else{for(var C,S=ee.length,R=[];C<S;C+=1)R[C]=ee[C](V,A,b);var j=v(R.concat());K.set(R[j],I+oe)}b=V}return K},i=function(_){var m=Array.apply([],_);return m.unshift(0),m},s=function(_,m){var A,N=[],V=_.length;N[0]=1;for(var b=0;b<V;b+=1)A=_[b-m]||0,N[b+1]=_[b]-A+256&255;return N},o=function(_,m,A){var N,V=[],b=_.length;V[0]=2;for(var I=0;I<b;I+=1)N=A&&A[I]||0,V[I+1]=_[I]-N+256&255;return V},a=function(_,m,A){var N,V,b=[],I=_.length;b[0]=3;for(var M=0;M<I;M+=1)N=_[M-m]||0,V=A&&A[M]||0,b[M+1]=_[M]+256-(N+V>>>1)&255;return b},l=function(_,m,A){var N,V,b,I,M=[],K=_.length;M[0]=4;for(var ee=0;ee<K;ee+=1)N=_[ee-m]||0,V=A&&A[ee]||0,b=A&&A[ee-m]||0,I=h(N,V,b),M[ee+1]=_[ee]-I+256&255;return M},h=function(_,m,A){if(_===m&&m===A)return _;var N=Math.abs(m-A),V=Math.abs(_-A),b=Math.abs(_+m-A-A);return N<=V&&N<=b?_:V<=b?m:A},p=function(){return[i,s,o,a,l]},v=function(_){var m=_.map(function(A){return A.reduce(function(N,V){return N+Math.abs(V)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(_,m,A,N){var V,b,I,M,K,ee,oe,C,S,R,j,E,T,k,W,ce=this.decode.FLATE_DECODE,fe="";if(this.__addimage__.isArrayBuffer(_)&&(_=new Uint8Array(_)),this.__addimage__.isArrayBufferView(_)){if(_=(I=new $j(_)).imgData,b=I.bits,V=I.colorSpace,K=I.colors,[4,6].indexOf(I.colorType)!==-1){if(I.bits===8){S=(C=I.pixelBitlength==32?new Uint32Array(I.decodePixels().buffer):I.pixelBitlength==16?new Uint16Array(I.decodePixels().buffer):new Uint8Array(I.decodePixels().buffer)).length,j=new Uint8Array(S*I.colors),R=new Uint8Array(S);var ve,Y=I.pixelBitlength-I.bits;for(k=0,W=0;k<S;k++){for(T=C[k],ve=0;ve<Y;)j[W++]=T>>>ve&255,ve+=I.bits;R[k]=T>>>ve&255}}if(I.bits===16){S=(C=new Uint32Array(I.decodePixels().buffer)).length,j=new Uint8Array(S*(32/I.pixelBitlength)*I.colors),R=new Uint8Array(S*(32/I.pixelBitlength)),E=I.colors>1,k=0,W=0;for(var le=0;k<S;)T=C[k++],j[W++]=T>>>0&255,E&&(j[W++]=T>>>16&255,T=C[k++],j[W++]=T>>>0&255),R[le++]=T>>>16&255;b=8}N!==t.image_compression.NONE&&e()?(_=n(j,I.width*I.colors,I.colors,N),oe=n(R,I.width,1,N)):(_=j,oe=R,ce=void 0)}if(I.colorType===3&&(V=this.color_spaces.INDEXED,ee=I.palette,I.transparency.indexed)){var he=I.transparency.indexed,Re=0;for(k=0,S=he.length;k<S;++k)Re+=he[k];if((Re/=255)===S-1&&he.indexOf(0)!==-1)M=[he.indexOf(0)];else if(Re!==S){for(C=I.decodePixels(),R=new Uint8Array(C.length),k=0,S=C.length;k<S;k++)R[k]=he[C[k]];oe=n(R,I.width,1)}}var O=function($){var Q;switch($){case t.image_compression.FAST:Q=11;break;case t.image_compression.MEDIUM:Q=13;break;case t.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(N);return ce===this.decode.FLATE_DECODE&&(fe="/Predictor "+O+" "),fe+="/Colors "+K+" /BitsPerComponent "+b+" /Columns "+I.width,(this.__addimage__.isArrayBuffer(_)||this.__addimage__.isArrayBufferView(_))&&(_=this.__addimage__.arrayBufferToBinaryString(_)),(oe&&this.__addimage__.isArrayBuffer(oe)||this.__addimage__.isArrayBufferView(oe))&&(oe=this.__addimage__.arrayBufferToBinaryString(oe)),{alias:A,data:_,index:m,filter:ce,decodeParameters:fe,transparency:M,palette:ee,sMask:oe,predictor:O,width:I.width,height:I.height,bitsPerComponent:b,colorSpace:V}}}})(ot.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new Hj(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var h={data:l,width:o,height:a},p=new _m(100).encode(h,100);return t.processJPEG.call(this,p,n,r,i)},t.processGIF87A=t.processGIF89A}(ot.API),us.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},us.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Xt.log("bit decode error:"+n)}},us.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},us.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,h=this.palette[a];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[l],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},us.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},us.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,h=s>>15?255:0,p=r*this.width*4+4*i;this.data[p]=l,this.data[p+1]=a,this.data[p+2]=o,this.data[p+3]=h}this.pos+=t}},us.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,h=(o>>11)/e*255|0,p=i*this.width*4+4*s;this.data[p]=h,this.data[p+1]=l,this.data[p+2]=a,this.data[p+3]=255}this.pos+=t}},us.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},us.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},us.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new us(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},h=new _m(100).encode(l,100);return t.processJPEG.call(this,h,n,r,i)}}(ot.API),ab.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new ab(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},h=new _m(100).encode(l,100);return t.processJPEG.call(this,h,n,r,i)}}(ot.API),ot.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,h=0;h<i;h+=4){var p=r[h],v=r[h+1],_=r[h+2],m=r[h+3];s[a++]=p,s[a++]=v,s[a++]=_,o[l++]=m}var A=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:A,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ot.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Su=ot.API,Bd=Su.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=h.fof?h.fof:1,v=e.doKerning!==!1,_=0,m=t.length,A=0,N=a[0]||l,V=[];for(n=0;n<m;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?V.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(_=v&&Ut(h[r])==="object"&&!isNaN(parseInt(h[r][A],10))?h[r][A]/p:0,V.push((a[r]||N)/l+_)),A=r;return V},rb=Su.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Su.processArabic&&(t=Su.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Bd.apply(this,arguments).reduce(function(s,o){return s+o},0)},ib=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},sb=function(t,e,n){n||(n={});var r,i,s,o,a,l,h,p=[],v=[p],_=n.textIndent||0,m=0,A=0,N=t.split(" "),V=Bd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?N[0].length+2:n.lineIndent||0){var b=Array(l).join(" "),I=[];N.map(function(K){(K=K.split(/\s*\n/)).length>1?I=I.concat(K.map(function(ee,oe){return(oe&&ee.length?`
`:"")+ee})):I.push(K[0])}),N=I,l=rb.apply(this,[b,n])}for(s=0,o=N.length;s<o;s++){var M=0;if(r=N[s],l&&r[0]==`
`&&(r=r.substr(1),M=1),_+m+(A=(i=Bd.apply(this,[r,n])).reduce(function(K,ee){return K+ee},0))>e||M){if(A>e){for(a=ib.apply(this,[r,i,e-(_+m),e]),p.push(a.shift()),p=[a.pop()];a.length;)v.push([a.shift()]);A=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(K,ee){return K+ee},0)}else p=[r];v.push(p),_=A+l,m=V}else p.push(r),_+=m+A,m=V}return h=l?function(K,ee){return(ee?b:"")+K.join(" ")}:function(K){return K.join(" ")},v.map(h)},Su.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,h=[];for(a=0,l=r.length;a<l;a++)h=h.concat(sb.apply(this,[r[a],o,s]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(v){return"0x"+parseInt(v,10).toString(16)},o=t.__fontmetrics__.compress=function(v){var _,m,A,N,V=["{"];for(var b in v){if(_=v[b],isNaN(parseInt(b,10))?m="'"+b+"'":(b=parseInt(b,10),m=(m=s(b).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof _=="number")_<0?(A=s(_).slice(3),N="-"):(A=s(_).slice(2),N=""),A=N+A.slice(0,-1)+r[A.slice(-1)];else{if(Ut(_)!=="object")throw new Error("Don't know what to do with value type "+Ut(_)+".");A=o(_)}V.push(m+A)}return V.push("}"),V.join("")},a=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var _,m,A,N,V={},b=1,I=V,M=[],K="",ee="",oe=v.length-1,C=1;C<oe;C+=1)(N=v[C])=="'"?_?(A=_.join(""),_=void 0):_=[]:_?_.push(N):N=="{"?(M.push([I,A]),I={},A=void 0):N=="}"?((m=M.pop())[0][m[1]]=I,A=void 0,I=m[0]):N=="-"?b=-1:A===void 0?n.hasOwnProperty(N)?(K+=n[N],A=parseInt(K,16)*b,b=1,K=""):K+=N:n.hasOwnProperty(N)?(ee+=n[N],I[A]=parseInt(ee,16)*b,b=1,A=void 0,ee=""):ee+=N;return V},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},p={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var _=v.font,m=p.Unicode[_.postScriptName];m&&(_.metadata.Unicode={},_.metadata.Unicode.widths=m.widths,_.metadata.Unicode.kerning=m.kerning);var A=h.Unicode[_.postScriptName];A&&(_.metadata.Unicode.encoding=A,_.encoding=A.codePages[0])}])}(ot.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Bh(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ot),function(t){function e(){return(at.canvg?Promise.resolve(at.canvg):$g(()=>import("./index.es-0ecfaf31.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ot.API.addSvgAsImage=function(n,r,i,s,o,a,l,h){if(isNaN(r)||isNaN(i))throw Xt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Xt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=o;var v=p.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,p.width,p.height);var _={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(A){return A.fromString(v,n,_)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(_)}).then(function(){m.addImage(p.toDataURL("image/jpeg",1),r,i,s,o,l,h)})}}(),ot.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ot.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],h=0,p=0,v=0;function _(A,N){var V,b=!1;for(V=0;V<A.length;V+=1)A[V]===N&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=a.length;for(v=0;v<m;v+=1)n[a[v]].value=n[a[v]].defaultValue,n[a[v]].explicitSet=!1}if(Ut(t)==="object"){for(i in t)if(s=t[i],_(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&_(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")l.push(String(s[h]-1));else if(s[h].length>1){for(p=0;p<s[h].length;p+=1)typeof s[h][p]!="number"&&(r=!1);r===!0&&l.push([s[h][0]-1,s[h][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,N=[];for(A in n)n[A].explicitSet===!0&&(n[A].type==="name"?N.push("/"+A+" /"+n[A].value):N.push("/"+A+" "+n[A].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ot.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],v=0,_=s.length;v<_;++v){if(a=o.metadata.characterToGlyph(s.charCodeAt(v)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(v),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return p.join("");a=a.toString(16),p.push(h[4-a.length],a)}return p.join("")},r=function(s){var o,a,l,h,p,v,_;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],v=0,_=(a=Object.keys(s).sort(function(m,A){return m-A})).length;v<_;v++)o=a[v],l.length>=100&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+h+">"));return l.length&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,h=o.newObject,p=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var v=a.metadata.Unicode.widths,_=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",A=0;A<_.length;A++)m+=String.fromCharCode(_[A]);var N=h();p({data:m,addLength1:!0,objectId:N}),l("endobj");var V=h();p({data:r(a.metadata.toUnicode),addLength1:!0,objectId:V}),l("endobj");var b=h();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Cu(a.fontName)),l("/FontFile2 "+N+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var I=h();l("<<"),l("/Type /Font"),l("/BaseFont /"+Cu(a.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+t.API.PDFObject.convert(v)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=h(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+V+" 0 R"),l("/BaseFont /"+Cu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+I+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,h=o.newObject,p=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var v=a.metadata.rawData,_="",m=0;m<v.length;m++)_+=String.fromCharCode(v[m]);var A=h();p({data:_,addLength1:!0,objectId:A}),l("endobj");var N=h();p({data:r(a.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var V=h();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+A+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Cu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=h();for(var b=0;b<a.metadata.hmtx.widths.length;b++)a.metadata.hmtx.widths[b]=parseInt(a.metadata.hmtx.widths[b]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Cu(a.fontName)+"/FontDescriptor "+V+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,h=s.y,p=s.options||{},v=s.mutex||{},_=v.pdfEscape,m=v.activeFontKey,A=v.fonts,N=m,V="",b=0,I="",M=A[N].encoding;if(A[N].encoding!=="Identity-H")return{text:a,x:l,y:h,options:p,mutex:v};for(I=a,N=m,Array.isArray(a)&&(I=a[0]),b=0;b<I.length;b+=1)A[N].metadata.hasOwnProperty("cmap")&&(o=A[N].metadata.cmap.unicode.codeMap[I[b].charCodeAt(0)]),o||I[b].charCodeAt(0)<256&&A[N].metadata.hasOwnProperty("Unicode")?V+=I[b]:V+="";var K="";return parseInt(N.slice(1))<14||M==="WinAnsiEncoding"?K=_(V,N).split("").map(function(ee){return ee.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(K=n(V,A[N])),v.isHex=!0,{text:K,x:l,y:h,options:p,mutex:v}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?a.push([i(Object.assign({},l,{text:o[h][0]})).text,o[h][1],o[h][2]]):a.push(i(Object.assign({},l,{text:o[h]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ot),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ot.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,h,p,v=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},V=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,M=0;this.__bidiEngine__={};var K=function(E){var T=E.charCodeAt(),k=T>>8,W=N[k];return W!==void 0?v[256*W+(255&T)]:k===252||k===253?"AL":b.test(k)?"L":k===8?"R":"N"},ee=function(E){for(var T,k=0;k<E.length;k++){if((T=K(E.charAt(k)))==="L")return!1;if(T==="R")return!0}return!1},oe=function(E,T,k,W){var ce,fe,ve,Y,le=T[W];switch(le){case"L":case"R":I=!1;break;case"N":case"AN":break;case"EN":I&&(le="AN");break;case"AL":I=!0,le="R";break;case"WS":le="N";break;case"CS":W<1||W+1>=T.length||(ce=k[W-1])!=="EN"&&ce!=="AN"||(fe=T[W+1])!=="EN"&&fe!=="AN"?le="N":I&&(fe="AN"),le=fe===ce?fe:"N";break;case"ES":le=(ce=W>0?k[W-1]:"B")==="EN"&&W+1<T.length&&T[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&k[W-1]==="EN"){le="EN";break}if(I){le="N";break}for(ve=W+1,Y=T.length;ve<Y&&T[ve]==="ET";)ve++;le=ve<Y&&T[ve]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Y=T.length,ve=W+1;ve<Y&&T[ve]==="NSM";)ve++;if(ve<Y){var he=E[W],Re=he>=1425&&he<=2303||he===64286;if(ce=T[ve],Re&&(ce==="R"||ce==="AL")){le="R";break}}}le=W<1||(ce=T[W-1])==="B"?"N":k[W-1];break;case"B":I=!1,i=!0,le=M;break;case"S":s=!0,le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"BN":le="N"}return le},C=function(E,T,k){var W=E.split("");return k&&S(W,k,{hiLevel:M}),W.reverse(),T&&T.reverse(),W.join("")},S=function(E,T,k){var W,ce,fe,ve,Y,le=-1,he=E.length,Re=0,O=[],$=M?m:_,Q=[];for(I=!1,i=!1,s=!1,ce=0;ce<he;ce++)Q[ce]=K(E[ce]);for(fe=0;fe<he;fe++){if(Y=Re,O[fe]=oe(E,Q,O,fe),W=240&(Re=$[Y][A[O[fe]]]),Re&=15,T[fe]=ve=$[Re][5],W>0)if(W===16){for(ce=le;ce<fe;ce++)T[ce]=1;le=-1}else le=-1;if($[Re][6])le===-1&&(le=fe);else if(le>-1){for(ce=le;ce<fe;ce++)T[ce]=ve;le=-1}Q[fe]==="B"&&(T[fe]=0),k.hiLevel|=ve}s&&function(J,ie,de){for(var ye=0;ye<de;ye++)if(J[ye]==="S"){ie[ye]=M;for(var _e=ye-1;_e>=0&&J[_e]==="WS";_e--)ie[_e]=M}}(Q,T,he)},R=function(E,T,k,W,ce){if(!(ce.hiLevel<E)){if(E===1&&M===1&&!i)return T.reverse(),void(k&&k.reverse());for(var fe,ve,Y,le,he=T.length,Re=0;Re<he;){if(W[Re]>=E){for(Y=Re+1;Y<he&&W[Y]>=E;)Y++;for(le=Re,ve=Y-1;le<ve;le++,ve--)fe=T[le],T[le]=T[ve],T[ve]=fe,k&&(fe=k[le],k[le]=k[ve],k[ve]=fe);Re=Y}Re++}}},j=function(E,T,k){var W=E.split(""),ce={hiLevel:M};return k||(k=[]),S(W,k,ce),function(fe,ve,Y){if(Y.hiLevel!==0&&p)for(var le,he=0;he<fe.length;he++)ve[he]===1&&(le=V.indexOf(fe[he]))>=0&&(fe[he]=V[le+1])}(W,k,ce),R(2,W,T,k,ce),R(1,W,T,k,ce),W.join("")};return this.__bidiEngine__.doBidiReorder=function(E,T,k){if(function(ce,fe){if(fe)for(var ve=0;ve<ce.length;ve++)fe[ve]=ve;a===void 0&&(a=ee(ce)),h===void 0&&(h=ee(ce))}(E,T),o||!l||h)if(o&&l&&a^h)M=a?1:0,E=C(E,T,k);else if(!o&&l&&h)M=a?1:0,E=j(E,T,k),E=C(E,T);else if(!o||a||l||h){if(o&&!l&&a^h)E=C(E,T),a?(M=0,E=j(E,T,k)):(M=1,E=j(E,T,k),E=C(E,T));else if(o&&a&&!l&&h)M=1,E=j(E,T,k),E=C(E,T);else if(!o&&!l&&a^h){var W=p;a?(M=1,E=j(E,T,k),M=0,p=!1,E=j(E,T,k),p=W):(M=0,E=j(E,T,k),E=C(E,T),M=1,p=!1,E=j(E,T,k),p=W,E=C(E,T))}}else M=0,E=j(E,T,k);else M=a?1:0,E=j(E,T,k);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,a=E.isInputRtl,h=E.isOutputRtl,p=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ot),ot.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Ba(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new oF(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Wj(this.contents),this.head=new Kj(this),this.name=new Zj(this),this.cmap=new OS(this),this.toUnicode={},this.hhea=new Qj(this),this.maxp=new eF(this),this.hmtx=new tF(this),this.post=new Yj(this),this.os2=new Xj(this),this.loca=new sF(this),this.glyf=new nF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,h;for(h=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var _s,Ba=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),Wj=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,h,p,v,_,m,A,N;for(N in m=Object.keys(n).length,l=Math.log(2),v=16*Math.floor(Math.log(m)/l),o=Math.floor(v/l),p=16*m-v,(i=new Ba).writeInt(this.scalarType),i.writeShort(m),i.writeShort(v),i.writeShort(o),i.writeShort(p),s=16*m,h=i.pos+s,a=null,A=[],n)for(_=n[N],i.writeString(N),i.writeInt(t(_)),i.writeInt(h),i.writeInt(_.length),A=A.concat(_),N==="head"&&(a=h),h+=_.length;h%4;)A.push(0),h++;return i.write(A),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=DS.call(n);n.length%4;)n.push(0);for(s=new Ba(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Gj={}.hasOwnProperty,$s=function(t,e){for(var n in e)Gj.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};_s=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Kj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,_s),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Ba).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),lb=function(){function t(e,n){var r,i,s,o,a,l,h,p,v,_,m,A,N,V,b,I,M;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),_=m/2,e.pos+=6,s=function(){var K,ee;for(ee=[],l=K=0;0<=_?K<_:K>_;l=0<=_?++K:--K)ee.push(e.readUInt16());return ee}(),e.pos+=2,N=function(){var K,ee;for(ee=[],l=K=0;0<=_?K<_:K>_;l=0<=_?++K:--K)ee.push(e.readUInt16());return ee}(),h=function(){var K,ee;for(ee=[],l=K=0;0<=_?K<_:K>_;l=0<=_?++K:--K)ee.push(e.readUInt16());return ee}(),p=function(){var K,ee;for(ee=[],l=K=0;0<=_?K<_:K>_;l=0<=_?++K:--K)ee.push(e.readUInt16());return ee}(),i=(this.length-e.pos+this.offset)/2,a=function(){var K,ee;for(ee=[],l=K=0;0<=i?K<i:K>i;l=0<=i?++K:--K)ee.push(e.readUInt16());return ee}(),l=b=0,M=s.length;b<M;l=++b)for(V=s[l],r=I=A=N[l];A<=V?I<=V:I>=V;r=A<=V?++I:--I)p[l]===0?o=r+h[l]:(o=a[p[l]/2+(r-A)-(_-l)]||0)!==0&&(o+=h[l]),this.codeMap[r]=65535&o}e.pos=v}return t.encode=function(e,n){var r,i,s,o,a,l,h,p,v,_,m,A,N,V,b,I,M,K,ee,oe,C,S,R,j,E,T,k,W,ce,fe,ve,Y,le,he,Re,O,$,Q,J,ie,de,ye,_e,De,Le,Ve;switch(W=new Ba,o=Object.keys(e).sort(function(je,et){return je-et}),n){case"macroman":for(N=0,V=function(){var je=[];for(A=0;A<256;++A)je.push(0);return je}(),I={0:0},s={},ce=0,le=o.length;ce<le;ce++)I[_e=e[i=o[ce]]]==null&&(I[_e]=++N),s[i]={old:e[i],new:I[e[i]]},V[i]=I[e[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(V),{charMap:s,subtable:W.data,maxGlyphID:N+1};case"unicode":for(T=[],v=[],M=0,I={},r={},b=h=null,fe=0,he=o.length;fe<he;fe++)I[ee=e[i=o[fe]]]==null&&(I[ee]=++M),r[i]={old:ee,new:I[ee]},a=I[ee]-i,b!=null&&a===h||(b&&v.push(b),T.push(i),h=a),b=i;for(b&&v.push(b),v.push(65535),T.push(65535),j=2*(R=T.length),S=2*Math.pow(Math.log(R)/Math.LN2,2),_=Math.log(S/2)/Math.LN2,C=2*R-S,l=[],oe=[],m=[],A=ve=0,Re=T.length;ve<Re;A=++ve){if(E=T[A],p=v[A],E===65535){l.push(0),oe.push(0);break}if(E-(k=r[E].new)>=32768)for(l.push(0),oe.push(2*(m.length+R-A)),i=Y=E;E<=p?Y<=p:Y>=p;i=E<=p?++Y:--Y)m.push(r[i].new);else l.push(k-E),oe.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*R+2*m.length),W.writeUInt16(0),W.writeUInt16(j),W.writeUInt16(S),W.writeUInt16(_),W.writeUInt16(C),de=0,O=v.length;de<O;de++)i=v[de],W.writeUInt16(i);for(W.writeUInt16(0),ye=0,$=T.length;ye<$;ye++)i=T[ye],W.writeUInt16(i);for(De=0,Q=l.length;De<Q;De++)a=l[De],W.writeUInt16(a);for(Le=0,J=oe.length;Le<J;Le++)K=oe[Le],W.writeUInt16(K);for(Ve=0,ie=m.length;Ve<ie;Ve++)N=m[Ve],W.writeUInt16(N);return{charMap:r,subtable:W.data,maxGlyphID:M+1}}},t}(),OS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,_s),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new lb(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=lb.encode(n,r),(s=new Ba).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Qj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,_s),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),Xj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,_s),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),Yj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,_s),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,h;for(h=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)h.push(n.readUInt32());return h}).call(this)}},e}(),Jj=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Zj=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,_s),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,h,p,v,_,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(h={},o=v=0,_=i.length;v<_;o=++v)s=i[o],n.pos=s.offset,p=n.readString(s.length),a=new Jj(p,s),h[m=s.nameID]==null&&(h[m]=[]),h[s.nameID].push(a);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),eF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,_s),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),tF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,_s),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,h;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,v;for(v=[],r=p=0;0<=s?p<s:p>s;r=0<=s?++p:--p)v.push(n.readInt16());return v}(),this.widths=(function(){var p,v,_,m;for(m=[],p=0,v=(_=this.metrics).length;p<v;p++)o=_[p],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],h=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),DS=[].slice,nF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,_s),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,h,p,v,_;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Ba(r.read(s))).readShort(),p=l.readShort(),_=l.readShort(),h=l.readShort(),v=l.readShort(),this.cache[n]=a===-1?new iF(l,p,_,h,v):new rF(l,a,p,_,h,v),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,h;for(a=[],o=[],l=0,h=r.length;l<h;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),rF=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),iF=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Ba(DS.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),sF=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return $s(e,_s),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],h=this.offsets[a+1]-l;h>0&&(s+=h)}for(var p=new Array(4*i.length),v=0;v<i.length;++v)p[4*v+3]=255&i[v],p[4*v+2]=(65280&i[v])>>8,p[4*v+1]=(16711680&i[v])>>16,p[4*v]=(4278190080&i[v])>>24;return p},e}(),oF=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,h,p,v,_,m,A,N,V,b;for(i in r=OS.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},b=r.charMap)m[(l=b[i]).old]=l.new;for(A in _=r.maxGlyphID,o)A in m||(m[A]=_++);return p=function(I){var M,K;for(M in K={},I)K[I[M]]=M;return K}(m),v=Object.keys(p).sort(function(I,M){return I-M}),N=function(){var I,M,K;for(K=[],I=0,M=v.length;I<M;I++)a=v[I],K.push(p[a]);return K}(),s=this.font.glyf.encode(o,N,m),h=this.font.loca.encode(s.offsets,N),V={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(V["OS/2"]=this.font.os2.raw()),this.font.directory.encode(V)},t}();ot.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,h;for(h=[],a=0,l=n.length;a<l;a++)r=n[a],h.push(e.convert(r));return h}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const aF=({inventory:t})=>{const e=()=>{const n=new ot;n.setFontSize(16),n.text("Listado de Códigos de Barra",10,10),t.forEach((r,i)=>{const s=20+i*30;n.text(`${r.name} - Código: ${r.code}`,10,s);const o=document.querySelector(`#barcode-${r.code} canvas`);if(o){const a=o.toDataURL("image/png");n.addImage(a,"PNG",10,s+5,50,20)}}),n.save("codigos_de_barra.pdf")};return!t||t.length===0?q.jsxs("div",{className:"p-4",children:[q.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Códigos de Barras"}),q.jsx("p",{className:"text-red-500",children:"No hay elementos en el inventario para generar códigos de barra."})]}):q.jsxs("div",{className:"p-4",children:[q.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Códigos de Barras"}),q.jsx("button",{onClick:e,className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Exportar a PDF"}),q.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:t.map(n=>q.jsxs("div",{id:`barcode-${n.code}`,className:"p-4 border rounded shadow",children:[q.jsx("h2",{className:"text-lg font-semibold mb-2",children:n.name}),q.jsx(pS,{value:n.code,format:"CODE128"}),q.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Código: ",n.code]})]},n.code))})]})},lF={apiKey:"AIzaSyBRPqli1tfmspsBJb7wRvVsHRCDlxUQGkA",authDomain:"inventario-b096f.firebaseapp.com",projectId:"inventario-b096f",storageBucket:"inventario-b096f.appspot.com",messagingSenderId:"161464002849",appId:"1:161464002849:web:79eca28579dfb74b733660",measurementId:"G-CV2948G2MQ"},MS=C4(lF),n0=jP(MS),Wr=SR(MS),ub={categories:["DISPOSITIVOS INTELIGENTES","CONSUMIBLES","MANUALES / RECORDATORIOS","MATERIALES DE INSTALACIÓN"],items:[{name:"TERMINALES INTELIGENTES",category:"DISPOSITIVOS INTELIGENTES",quantity:20,criticalThreshold:5},{name:"TERMINALES RED TELEFONICA",category:"DISPOSITIVOS INTELIGENTES",quantity:15,criticalThreshold:5},{name:"DETECTOR DE CAIDAS",category:"DISPOSITIVOS INTELIGENTES",quantity:25,criticalThreshold:5},{name:"SENSOR PUERTAS Y VENTANAS",category:"DISPOSITIVOS INTELIGENTES",quantity:50,criticalThreshold:10},{name:"LLAVEROS DE INTRUSION",category:"DISPOSITIVOS INTELIGENTES",quantity:30,criticalThreshold:10},{name:"SENSOR DETEC. MOVIMIENTO",category:"DISPOSITIVOS INTELIGENTES",quantity:40,criticalThreshold:10},{name:"ACTUADOR CORTE DE GAS",category:"DISPOSITIVOS INTELIGENTES",quantity:10,criticalThreshold:3},{name:"DETECTOR DE GAS",category:"DISPOSITIVOS INTELIGENTES",quantity:15,criticalThreshold:5},{name:"DETECTOR DE HUMO",category:"DISPOSITIVOS INTELIGENTES",quantity:18,criticalThreshold:5},{name:"BOTON S.O.S FIJO",category:"DISPOSITIVOS INTELIGENTES",quantity:22,criticalThreshold:8},{name:"DISPOSITIVO S.O.S MOVIL",category:"DISPOSITIVOS INTELIGENTES",quantity:12,criticalThreshold:4},{name:"GPS Colgante EV-04",category:"DISPOSITIVOS INTELIGENTES",quantity:8,criticalThreshold:3},{name:"GPS Reloj EV-05",category:"DISPOSITIVOS INTELIGENTES",quantity:9,criticalThreshold:3},{name:"SIMCARDS",category:"CONSUMIBLES",quantity:200,criticalThreshold:50},{name:"CARGADORES CONSOLAS Y DET. GAS",category:"CONSUMIBLES",quantity:30,criticalThreshold:10},{name:"BATERIA DE LITTIO 3V CR2032",category:"CONSUMIBLES",quantity:150,criticalThreshold:40},{name:"MICRO BATERIA LITTIO 3V CR2450",category:"CONSUMIBLES",quantity:100,criticalThreshold:30},{name:"PILA AA",category:"CONSUMIBLES",quantity:300,criticalThreshold:100},{name:"BATERIA 27A",category:"CONSUMIBLES",quantity:80,criticalThreshold:20},{name:"BATERIA 23A",category:"CONSUMIBLES",quantity:80,criticalThreshold:20},{name:"MANUAL PLAN FULL PROTECCION",category:"MANUALES / RECORDATORIOS",quantity:50,criticalThreshold:15},{name:"MANUAL PLAN STARTER + CAIDA",category:"MANUALES / RECORDATORIOS",quantity:50,criticalThreshold:15},{name:"MANUAL PLAN MAYOR",category:"MANUALES / RECORDATORIOS",quantity:50,criticalThreshold:15},{name:"MANUAL DE USO",category:"MANUALES / RECORDATORIOS",quantity:100,criticalThreshold:25},{name:"RECORDATORIO SI SU SENSOR...",category:"MANUALES / RECORDATORIOS",quantity:100,criticalThreshold:25},{name:"NIPLE",category:"MATERIALES DE INSTALACIÓN",quantity:70,criticalThreshold:20},{name:"CODO HI HE",category:"MATERIALES DE INSTALACIÓN",quantity:70,criticalThreshold:20},{name:"FLEXIBLE 1/2 A 1/2",category:"MATERIALES DE INSTALACIÓN",quantity:40,criticalThreshold:15},{name:"REGULADOR DE GAS",category:"MATERIALES DE INSTALACIÓN",quantity:20,criticalThreshold:5},{name:"TEFLON DE GAS",category:"MATERIALES DE INSTALACIÓN",quantity:30,criticalThreshold:10},{name:"CANALETAS",category:"MATERIALES DE INSTALACIÓN",quantity:100,criticalThreshold:30},{name:"ABRAZADERAS METÁLICAS",category:"MATERIALES DE INSTALACIÓN",quantity:200,criticalThreshold:50},{name:"SOPLETES GAS BUTANO",category:"MATERIALES DE INSTALACIÓN",quantity:5,criticalThreshold:2}]},jS=(t,e,n)=>{const r=t.substring(0,3).toUpperCase(),i=e.replace(/[^A-Z0-9]/ig,"").substring(0,3).toUpperCase(),s=(n+1).toString().padStart(3,"0");return`${r}-${i}-${s}`},uF=async()=>{console.log("Verificando si la base de datos necesita ser inicializada...");const t=Ls(Wr,"items");if((await jx(t)).empty){console.log("Base de datos vacía. Inicializando con datos de ejemplo...");const n=jR(Wr);ub.categories.forEach(i=>{const s=xl(Ls(Wr,"categories"));n.set(s,{name:i})});let r=0;for(const i of ub.items){const s=jS(i.category,i.name,r),o=xl(Ls(Wr,"items"));n.set(o,{...i,code:s,lastModified:Nu()}),r++}await n.commit(),console.log("¡Datos iniciales cargados con éxito!")}else console.log("La base de datos ya contiene datos. No se requiere inicialización.")},cF=({onLoginSuccess:t})=>{const[e,n]=Ye.useState(""),[r,i]=Ye.useState(""),[s,o]=Ye.useState(""),[a,l]=Ye.useState(!1),h=async v=>{v.preventDefault(),l(!0),o("");try{await k_(n0,e,r),t()}catch(_){o("Error de autenticación. Verifica tus credenciales."),console.error("Error de login:",_)}finally{l(!1)}},p=async()=>{l(!0),o("");try{await k_(n0,"test@mistatas.com","123456"),t()}catch(v){o('No se pudo iniciar sesión con el usuario de demostración. Asegúrate de que el usuario "test@mistatas.com" exista en Firebase Authentication.'),console.error("Error de login de demo:",v)}finally{l(!1)}};return q.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-gray-100 dark:bg-gray-900",children:q.jsx("div",{className:"w-full max-w-md mx-auto",children:q.jsxs("div",{className:"p-4 sm:p-8 space-y-6 sm:space-y-8 bg-white rounded-xl shadow-lg dark:bg-gray-800",children:[q.jsxs("div",{className:"text-center",children:[q.jsx("img",{src:"https://static.wixstatic.com/media/1831cb_2d8491304a02448cb1751c82852750ff~mv2.png/v1/fill/w_148,h_27,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/Logotipo%20MisTatas%20blanco.png",alt:"Mistatas Logo",className:"h-6 sm:h-8 w-auto mx-auto mb-3 sm:mb-4"}),q.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:"Sistema de Inventario"}),q.jsx("p",{className:"mt-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Gestión inteligente de dispositivos"})]}),q.jsxs("form",{className:"space-y-4 sm:space-y-6",onSubmit:h,children:[q.jsxs("div",{children:[q.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),q.jsx("input",{type:"email",required:!0,className:"w-full px-3 py-2 mt-1 text-sm sm:text-base text-gray-900 bg-gray-100 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600",placeholder:"usuario@mistatas.com",value:e,onChange:v=>n(v.target.value)})]}),q.jsxs("div",{children:[q.jsx("label",{className:"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300",children:"Contraseña"}),q.jsx("input",{type:"password",required:!0,className:"w-full px-3 py-2 mt-1 text-sm sm:text-base text-gray-900 bg-gray-100 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600",placeholder:"••••••••",value:r,onChange:v=>i(v.target.value)})]}),s&&q.jsx("p",{className:"text-xs sm:text-sm text-center text-red-500",children:s}),q.jsx("button",{type:"submit",disabled:a,className:"w-full py-2.5 sm:py-3 text-sm sm:text-base font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:a?"Ingresando...":"Ingresar"})]}),q.jsxs("div",{className:"text-center",children:[q.jsx("button",{onClick:p,disabled:a,className:"w-full py-2 text-sm sm:text-base font-semibold text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 disabled:opacity-50",children:"Entrar como Invitado"}),q.jsx("p",{className:"mt-2 text-2xs sm:text-xs text-gray-500 dark:text-gray-400",children:'Usa "test@mistatas.com" y "123456" para ingresar.'}),"                    "]})]})})})},dl=({title:t,value:e,icon:n,color:r,items:i=[],showDetails:s=!1})=>{const[o,a]=Ye.useState(!1),l=Ye.useRef(null),h={green:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300",red:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300",blue:"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"},p=()=>{s&&i.length>0&&a(!0)};return q.jsxs(q.Fragment,{children:[q.jsxs("div",{onClick:p,className:`p-3 sm:p-6 rounded-xl shadow-md flex items-center space-x-2 sm:space-x-4 ${h[r]} 
                    ${s&&i.length>0?"cursor-pointer transform transition-transform hover:scale-105 hover:shadow-lg":""}`,children:[q.jsx("div",{className:"flex-shrink-0",children:bb.cloneElement(n,{className:"w-6 h-6 sm:w-10 sm:h-10"})}),q.jsxs("div",{className:"min-w-0 flex-1",children:[q.jsx("p",{className:"text-xs sm:text-sm font-medium truncate",children:t}),q.jsx("p",{className:"text-lg sm:text-2xl font-bold",children:e}),s&&i.length>0&&q.jsx("p",{className:"text-xs mt-1 opacity-75",children:"Click para ver detalles"})]})]}),o&&q.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onClick:v=>{v.target===v.currentTarget&&a(!1)},children:q.jsxs("div",{className:"flex items-end sm:items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[q.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),q.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),q.jsxs("div",{ref:l,className:`inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6\r
                                animate-in fade-in zoom-in-95 duration-300`,children:[q.jsx("div",{className:"absolute top-0 right-0 pt-4 pr-4",children:q.jsxs("button",{type:"button",className:"bg-white dark:bg-gray-800 rounded-md text-gray-400 hover:text-gray-500 focus:outline-none",onClick:()=>a(!1),children:[q.jsx("span",{className:"sr-only",children:"Cerrar"}),q.jsx(qv,{className:"h-6 w-6"})]})}),q.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:text-left",children:[q.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",id:"modal-title",children:t}),q.jsx("div",{className:"mt-4 max-h-[60vh] overflow-y-auto",children:q.jsx("div",{className:"space-y-3",children:i.map((v,_)=>q.jsx("div",{className:`p-4 rounded-lg ${h[r]} bg-opacity-50 
                                                    animate-in slide-in-from-bottom-5 duration-300
                                                    ${_>0?"fade-in":""}`,style:{animationDelay:`${_*50}ms`},children:q.jsxs("div",{className:"flex justify-between items-center",children:[q.jsxs("div",{children:[q.jsx("h4",{className:"font-semibold",children:v.name}),q.jsxs("p",{className:"text-sm opacity-75",children:["Código: ",v.code]})]}),q.jsxs("div",{className:"text-right",children:[q.jsx("p",{className:"text-lg font-bold",children:v.quantity}),q.jsxs("p",{className:"text-xs opacity-75",children:["Umbral: ",v.criticalThreshold]})]})]})},v.id||_))})})]})]})]})})]})},hF=({items:t,onNavigate:e})=>{const n=Ye.useMemo(()=>{const i=t.length,s=t.filter(A=>A.quantity>A.criticalThreshold&&A.quantity<=A.criticalThreshold*1.5),o=t.filter(A=>A.quantity<=A.criticalThreshold),a=s.length,l=o.length,h=i-a-l,p=t.find(A=>A.name==="TERMINALES INTELIGENTES")||{quantity:0,criticalThreshold:5},_={quantity:t.filter(A=>A.name.includes("GPS")).reduce((A,N)=>A+N.quantity,0),criticalThreshold:6},m=t.find(A=>A.name==="SIMCARDS")||{quantity:0,criticalThreshold:50};return{totalItems:i,lowStock:a,lowStockItems:s,criticalStock:l,criticalStockItems:o,sufficientStock:h,terminalesInteligentes:p,gpsTotal:_,simCards:m}},[t]),r=i=>i.quantity<=i.criticalThreshold?"red":i.quantity<=i.criticalThreshold*1.5?"yellow":"green";return q.jsxs("div",{className:"p-3 sm:p-6 space-y-4 sm:space-y-6",children:[q.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white",children:"Dashboard"}),"            ",q.jsxs("div",{className:"p-2 sm:p-4 bg-white rounded-xl shadow-md dark:bg-gray-800",children:[q.jsx("h3",{className:"mb-2 sm:mb-4 text-base sm:text-xl font-semibold text-gray-800 dark:text-white",children:"Dispositivos Fundamentales"}),q.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4",children:[q.jsx(dl,{title:"Terminales Inteligentes",value:n.terminalesInteligentes.quantity,icon:q.jsx(ku,{}),color:r(n.terminalesInteligentes)}),q.jsx(dl,{title:"GPS (Total)",value:n.gpsTotal.quantity,icon:q.jsx(ku,{}),color:r(n.gpsTotal)}),q.jsx(dl,{title:"SIMCARDS",value:n.simCards.quantity,icon:q.jsx(ku,{}),color:r(n.simCards)})]})]}),"            ",q.jsxs("div",{className:"grid grid-cols-2 xs:grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-6",children:[q.jsx(dl,{title:"Stock Suficiente",value:n.sufficientStock,icon:q.jsx(Uv,{}),color:"green"}),q.jsx(dl,{title:"Stock Bajo",value:n.lowStock,icon:q.jsx(Zp,{}),color:"yellow",items:n.lowStockItems,showDetails:!0}),q.jsx(dl,{title:"Stock Crítico",value:n.criticalStock,icon:q.jsx(Zp,{}),color:"red",items:n.criticalStockItems,showDetails:!0}),q.jsx(dl,{title:"Total Ítems",value:n.totalItems,icon:q.jsx(ku,{}),color:"blue"})]}),q.jsxs("div",{className:"mt-6 sm:mt-8",children:[q.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-gray-300",children:"Accesos Rápidos"}),q.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 mt-3 sm:mt-4",children:[q.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center justify-center p-4 sm:p-6 space-x-2 sm:space-x-3 text-base sm:text-lg font-semibold text-white bg-blue-600 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:bg-blue-500 dark:hover:bg-blue-600",children:[q.jsx(ku,{className:"w-5 h-5 sm:w-6 sm:h-6"}),q.jsx("span",{children:"Ver Inventario"})]}),q.jsxs("button",{onClick:()=>e("history"),className:"flex items-center justify-center p-4 sm:p-6 space-x-2 sm:space-x-3 text-base sm:text-lg font-semibold text-gray-700 bg-gray-200 rounded-lg shadow-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",children:[q.jsx(UR,{className:"w-5 h-5 sm:w-6 sm:h-6"}),q.jsx("span",{children:"Historial"})]})]})]})]})},fF=({item:t,categories:e,onSave:n,onClose:r,itemsCount:i})=>{const[s,o]=Ye.useState(t||{name:"",category:e[0]||"",quantity:0,criticalThreshold:5,description:""}),[a,l]=Ye.useState({}),h=_=>{const{name:m,value:A,type:N}=_.target;o(V=>({...V,[m]:N==="number"?parseInt(A):A}))},p=()=>{const _={};return s.name.trim()||(_.name="El nombre es obligatorio."),s.quantity<0&&(_.quantity="La cantidad no puede ser negativa."),s.criticalThreshold<=0&&(_.criticalThreshold="El umbral debe ser positivo."),s.quantity<s.criticalThreshold&&(_.criticalThreshold="El umbral crítico no puede ser mayor que la cantidad inicial."),l(_),Object.keys(_).length===0},v=async _=>{if(_.preventDefault(),!p())return;let m={...s};if(!t){const A=jS(s.category,s.name,i);m.code=A}n(m,t==null?void 0:t.id),r()};return q.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:q.jsxs("div",{className:"w-full max-w-lg p-6 bg-white rounded-lg shadow-xl dark:bg-gray-800",children:[q.jsxs("div",{className:"flex items-center justify-between pb-3 border-b border-gray-200 dark:border-gray-700",children:[q.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t?"Editar Ítem":"Agregar Ítem"}),q.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:q.jsx(qv,{className:"w-6 h-6"})})]}),q.jsxs("form",{onSubmit:v,className:"mt-4 space-y-4",children:[q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nombre del Ítem"}),q.jsx("input",{type:"text",name:"name",value:s.name,onChange:h,required:!0,className:"w-full px-3 py-2 mt-1 text-gray-900 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),a.name&&q.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.name})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Categoría"}),q.jsx("select",{name:"category",value:s.category,onChange:h,className:"w-full px-3 py-2 mt-1 text-gray-900 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:e.map(_=>q.jsx("option",{value:_.name,children:_.name},_.id))})]}),q.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cantidad"}),q.jsx("input",{type:"number",name:"quantity",value:s.quantity,onChange:h,required:!0,min:"0",className:"w-full px-3 py-2 mt-1 text-gray-900 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),a.quantity&&q.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.quantity})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Umbral Crítico"}),q.jsx("input",{type:"number",name:"criticalThreshold",value:s.criticalThreshold,onChange:h,required:!0,min:"1",className:"w-full px-3 py-2 mt-1 text-gray-900 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600"}),a.criticalThreshold&&q.jsx("p",{className:"mt-1 text-xs text-red-500",children:a.criticalThreshold})]})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Descripción (Opcional)"}),q.jsx("textarea",{name:"description",value:s.description,onChange:h,rows:"3",className:"w-full px-3 py-2 mt-1 text-gray-900 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),q.jsxs("div",{className:"flex justify-end pt-4 space-x-3 border-t border-gray-200 dark:border-gray-700",children:[q.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500",children:"Cancelar"}),q.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:t?"Guardar Cambios":"Crear Ítem"})]})]})]})})},dF=({item:t,onSave:e,onClose:n})=>{const[r,i]=Ye.useState(0),[s,o]=Ye.useState("salida"),[a,l]=Ye.useState(""),h=()=>{const p=s==="salida"?t.quantity-r:t.quantity+r;if(p<0){alert("La cantidad no puede ser negativa.");return}if(s==="salida"&&!a.trim()){alert("Por favor, ingrese el motivo del retiro. Este campo es obligatorio para todas las salidas de inventario.");return}if(r<=0){alert("La cantidad debe ser mayor a 0.");return}e(t.id,p,s,r,a),n()};return q.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:q.jsxs("div",{className:"w-full max-w-sm p-6 bg-white rounded-lg shadow-xl dark:bg-gray-800",children:[q.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Editar Stock: ",t.name]}),q.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:["Stock actual: ",t.quantity]}),q.jsxs("div",{className:"mt-4 space-y-4",children:[q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tipo de Movimiento"}),q.jsxs("select",{value:s,onChange:p=>o(p.target.value),className:"w-full px-3 py-2 mt-1 text-gray-900 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600",children:[q.jsx("option",{value:"salida",children:"Salida"}),q.jsx("option",{value:"entrada",children:"Entrada"})]})]}),"                    ",q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cantidad a modificar"}),q.jsx("input",{type:"number",value:r,onChange:p=>i(Math.abs(parseInt(p.target.value)||0)),min:"0",className:"w-full px-3 py-2 mt-1 text-gray-900 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600"})]}),s==="salida"&&q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Motivo del retiro"}),q.jsx("textarea",{value:a,onChange:p=>l(p.target.value),placeholder:"Ejemplo: Instalación en Ñuñoa",className:"w-full px-3 py-2 mt-1 text-gray-900 bg-gray-50 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600",rows:"2"})]})]}),q.jsxs("div",{className:"flex justify-end pt-4 mt-4 space-x-3 border-t border-gray-200 dark:border-gray-700",children:[q.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500",children:"Cancelar"}),q.jsx("button",{onClick:h,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Actualizar Stock"})]})]})})},pF=({items:t,onClose:e})=>t.length===0?null:q.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:q.jsxs("div",{className:"w-full max-w-md p-6 mx-4 bg-white rounded-lg shadow-2xl dark:bg-gray-800 animate-pulse-once",children:[q.jsxs("div",{className:"flex items-start justify-between",children:[q.jsxs("div",{className:"flex items-center space-x-3",children:[q.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full dark:bg-red-900/50",children:q.jsx(Zp,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),q.jsxs("div",{children:[q.jsx("h3",{className:"text-lg font-bold text-red-800 dark:text-red-300",children:"Alerta de Stock Crítico"}),q.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Algunos ítems necesitan reposición urgente."})]})]}),q.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:q.jsx(qv,{className:"w-6 h-6"})})]}),q.jsx("div",{className:"mt-4 space-y-2 max-h-60 overflow-y-auto",children:t.map(n=>q.jsxs("div",{className:"p-3 bg-red-50 rounded-md dark:bg-red-900/30",children:[q.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:n.name}),q.jsxs("p",{className:"text-sm text-red-700 dark:text-red-400",children:["Cantidad actual: ",q.jsx("span",{className:"font-bold",children:n.quantity})," (Umbral: ",n.criticalThreshold,")"]}),q.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Sugerencia: Reponer al menos ",n.criticalThreshold*2-n.quantity," unidades."]})]},n.id))}),q.jsx("div",{className:"flex justify-end pt-4 mt-4 border-t border-gray-200 dark:border-gray-700",children:q.jsx("button",{onClick:e,className:"px-5 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Entendido"})})]})}),mF=({items:t,categories:e,onSave:n,onDelete:r,onUpdateStock:i,itemsCount:s})=>{const[o,a]=Ye.useState(""),[l,h]=Ye.useState("all"),[p,v]=Ye.useState("all"),[_,m]=Ye.useState({key:"name",direction:"ascending"}),[A,N]=Ye.useState(1),[V,b]=Ye.useState(!1),[I,M]=Ye.useState(null),[K,ee]=Ye.useState(null),[oe,C]=Ye.useState(!1),S=10,R=()=>q.jsxs("div",{className:`space-y-3 sm:space-y-0 sm:flex sm:items-center sm:space-x-4 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm transition-colors duration-200 ${oe?"block":"hidden sm:flex"}`,children:[q.jsx("div",{className:"flex-1",children:q.jsxs("div",{className:"relative",children:[q.jsx(WR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 w-5 h-5"}),q.jsx("input",{type:"text",placeholder:"Buscar ítem...",value:o,onChange:W=>a(W.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border rounded-md focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-colors duration-200"})]})}),q.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:["                ",q.jsxs("select",{value:l,onChange:W=>h(W.target.value),className:"px-3 py-2 text-sm border rounded-md focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white bg-white dark:bg-gray-700 transition-colors duration-200",children:[q.jsx("option",{value:"all",children:"Todas las categorías"}),e.map(W=>q.jsx("option",{value:W.name,children:W.name},W.id))]}),q.jsxs("select",{value:p,onChange:W=>v(W.target.value),className:"px-3 py-2 text-sm border rounded-md focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white bg-white dark:bg-gray-700 transition-colors duration-200",children:[q.jsx("option",{value:"all",children:"Todo el stock"}),q.jsx("option",{value:"critical",children:"Stock crítico"}),q.jsx("option",{value:"low",children:"Stock bajo"}),q.jsx("option",{value:"sufficient",children:"Stock suficiente"})]})]})]}),j=Ye.useMemo(()=>{let W=[...t];return W=W.filter(ce=>{const fe=ce.name.toLowerCase().includes(o.toLowerCase())||ce.code.toLowerCase().includes(o.toLowerCase()),ve=l==="all"||ce.category===l,Y=p==="all"||p==="sufficient"&&ce.quantity>ce.criticalThreshold*1.5||p==="low"&&ce.quantity>ce.criticalThreshold&&ce.quantity<=ce.criticalThreshold*1.5||p==="critical"&&ce.quantity<=ce.criticalThreshold;return fe&&ve&&Y}),W.sort((ce,fe)=>{let ve=ce[_.key],Y=fe[_.key];return typeof ve=="string"&&(ve=ve.toLowerCase(),Y=Y.toLowerCase()),ve<Y?_.direction==="ascending"?-1:1:ve>Y?_.direction==="ascending"?1:-1:0}),W},[t,o,l,p,_]),E=Math.ceil(j.length/S),T=j.slice((A-1)*S,A*S),k=W=>W.quantity<=W.criticalThreshold?{text:"Crítico",color:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}:W.quantity<=W.criticalThreshold*1.5?{text:"Bajo",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"}:{text:"Suficiente",color:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300"};return q.jsxs("div",{className:"space-y-4 bg-gray-100 dark:bg-gray-900 transition-colors duration-200",children:[q.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[q.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Inventario"}),q.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[q.jsx("button",{onClick:()=>C(!oe),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white rounded-md border shadow-sm hover:bg-gray-50 sm:hidden dark:bg-gray-700 dark:text-white dark:border-gray-600",children:oe?"Ocultar filtros":"Mostrar filtros"}),q.jsx("button",{onClick:()=>b(!0),className:"flex-1 sm:flex-none px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:q.jsxs("span",{className:"flex items-center justify-center",children:[q.jsx(Aw,{className:"w-5 h-5 mr-2"}),"Agregar Ítem"]})})]})]}),q.jsx(R,{}),"        ",q.jsx("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow-md transition-colors duration-200",children:q.jsx("div",{className:"inline-block min-w-full align-middle",children:q.jsx("div",{className:"overflow-hidden border border-gray-200 rounded-lg dark:border-gray-700",children:q.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800 transition-colors duration-200",children:[q.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 transition-colors duration-200",children:q.jsx("tr",{children:["Código","Nombre","Categoría","Cantidad","Acciones"].map((W,ce)=>q.jsx("th",{className:`px-3 py-3.5 text-left text-xs font-semibold text-gray-900 dark:text-gray-200 ${ce===0?"hidden sm:table-cell":""}`,children:W},ce))})}),"                            ",q.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700 transition-colors duration-200",children:T.map(W=>q.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[q.jsx("td",{className:"hidden sm:table-cell px-3 py-4 text-sm text-gray-500 dark:text-gray-400",children:W.code}),q.jsx("td",{className:"px-3 py-4",children:q.jsxs("div",{className:"flex flex-col",children:[q.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:W.name}),q.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 sm:hidden",children:[W.code," - ",W.category]})]})}),q.jsx("td",{className:"hidden sm:table-cell px-3 py-4 text-sm text-gray-500 dark:text-gray-400",children:W.category}),q.jsx("td",{className:"px-3 py-4",children:q.jsx("div",{className:"flex items-center",children:q.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k(W).color}`,children:W.quantity})})}),q.jsx("td",{className:"px-3 py-4 text-sm text-gray-500 dark:text-gray-400",children:q.jsxs("div",{className:"flex items-center space-x-2",children:[q.jsx("button",{onClick:()=>ee(W),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:q.jsx($R,{className:"w-5 h-5"})}),q.jsx("button",{onClick:()=>{M(W),b(!0)},className:"text-gray-600 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-300",children:q.jsx(Aw,{className:"w-5 h-5"})}),q.jsx("button",{onClick:()=>r(W.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:q.jsx(GR,{className:"w-5 h-5"})})]})})]},W.id))})]})})})}),q.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6 dark:bg-gray-800 dark:border-gray-700",children:q.jsxs("div",{className:"flex justify-between w-full",children:[q.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Mostrando ",q.jsx("span",{className:"font-medium",children:(A-1)*S+1})," a ",q.jsx("span",{className:"font-medium",children:Math.min(A*S,j.length)})," de ",q.jsx("span",{className:"font-medium",children:j.length})," resultados"]}),q.jsxs("div",{className:"flex space-x-2",children:[q.jsx("button",{onClick:()=>N(W=>Math.max(W-1,1)),disabled:A===1,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-700 dark:text-white dark:border-gray-600",children:"Anterior"}),q.jsx("button",{onClick:()=>N(W=>Math.min(W+1,E)),disabled:A===E,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-700 dark:text-white dark:border-gray-600",children:"Siguiente"})]})]})}),V&&q.jsx(fF,{item:I,categories:e,onSave:n,onClose:()=>{b(!1),M(null)},itemsCount:s}),K&&q.jsx(dF,{item:K,onSave:i,onClose:()=>ee(null)})]})},gF=({history:t})=>{const[e,n]=Ye.useState(""),[r,i]=Ye.useState(""),[s,o]=Ye.useState("all"),a=Ye.useMemo(()=>{let _=[...t];if(e||r)_=_.filter(m=>{const A=m.timestamp.toDate();let N=e?new Date(e):new Date(0),V=r?new Date(r):new Date;return V.setHours(23,59,59,999),A>=N&&A<=V});else{const m=new Date;switch(s){case"day":_=_.filter(b=>b.timestamp.toDate().toDateString()===m.toDateString());break;case"week":const A=new Date(m.getTime()-7*24*60*60*1e3);_=_.filter(b=>b.timestamp.toDate()>=A);break;case"month":const N=new Date(m.getFullYear(),m.getMonth()-1,m.getDate());_=_.filter(b=>b.timestamp.toDate()>=N);break;case"semester":const V=new Date(m.getFullYear(),m.getMonth()-6,m.getDate());_=_.filter(b=>b.timestamp.toDate()>=V);break}}return _.sort((m,A)=>A.timestamp.toMillis()-m.timestamp.toMillis())},[t,e,r,s]),l=_=>{o(_),n(""),i("")},p=(_=>{const m={};return _.forEach(A=>{const N=A.timestamp.toDate().toLocaleDateString();if(m[N]||(m[N]={logs:[],summary:{},stats:{totalMovements:0,entradas:0,salidas:0,categorias:new Set,itemsUnicos:new Set}}),m[N].logs.push(A),m[N].stats.totalMovements++,A.category&&m[N].stats.categorias.add(A.category),m[N].stats.itemsUnicos.add(A.itemName),A.type==="salida"||A.type==="entrada"){m[N].summary[A.itemName]||(m[N].summary[A.itemName]={entradas:0,salidas:0,categoria:A.category,detalles:[]});const V={hora:A.hora||A.timestamp.toDate().toLocaleTimeString(),cantidad:A.quantityChanged,tipo:A.type,motivo:A.motivo,usuario:A.userEmail};m[N].summary[A.itemName].detalles.push(V),A.type==="entrada"?(m[N].summary[A.itemName].entradas+=A.quantityChanged,m[N].stats.entradas+=A.quantityChanged):(m[N].summary[A.itemName].salidas+=A.quantityChanged,m[N].stats.salidas+=A.quantityChanged)}}),Object.keys(m).forEach(A=>{m[A].stats.categorias=m[A].stats.categorias.size,m[A].stats.itemsUnicos=m[A].stats.itemsUnicos.size}),m})(a),v=_=>{const m={totalMovements:_.length,totalEntradas:0,totalSalidas:0,itemsMovidos:new Set,categorias:new Set,totalPorCategoria:{}};return _.forEach(A=>{m.itemsMovidos.add(A.itemName),A.category&&m.categorias.add(A.category),A.type==="entrada"?m.totalEntradas+=A.quantityChanged:A.type==="salida"&&(m.totalSalidas+=A.quantityChanged),A.category&&(m.totalPorCategoria[A.category]||(m.totalPorCategoria[A.category]={entradas:0,salidas:0}),A.type==="entrada"?m.totalPorCategoria[A.category].entradas+=A.quantityChanged:A.type==="salida"&&(m.totalPorCategoria[A.category].salidas+=A.quantityChanged))}),{...m,itemsMovidos:m.itemsMovidos.size,categorias:m.categorias.size}};return q.jsxs("div",{className:"p-4 sm:p-6",children:[q.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-white",children:"Historial de Movimientos"}),q.jsxs("div",{className:"mt-4 sm:mt-6 space-y-4",children:[q.jsxs("div",{className:"bg-white rounded-lg shadow p-4 dark:bg-gray-800",children:[q.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2 mb-4",children:[q.jsx("button",{onClick:()=>l("all"),className:`px-3 py-2 rounded-md text-sm font-medium ${s==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:"Todo"}),q.jsx("button",{onClick:()=>l("day"),className:`px-3 py-2 rounded-md text-sm font-medium ${s==="day"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:"Hoy"}),q.jsx("button",{onClick:()=>l("week"),className:`px-3 py-2 rounded-md text-sm font-medium ${s==="week"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:"Última semana"}),q.jsx("button",{onClick:()=>l("month"),className:`px-3 py-2 rounded-md text-sm font-medium ${s==="month"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:"Último mes"}),q.jsx("button",{onClick:()=>l("semester"),className:`px-3 py-2 rounded-md text-sm font-medium ${s==="semester"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:"Último semestre"})]}),q.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha inicial"}),q.jsx("input",{type:"date",value:e,onChange:_=>{n(_.target.value),o("custom")},className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),q.jsxs("div",{children:[q.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Fecha final"}),q.jsx("input",{type:"date",value:r,onChange:_=>{i(_.target.value),o("custom")},className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]})]}),"                ",q.jsxs("div",{className:"space-y-6",children:[a.length>0&&q.jsxs("div",{className:"bg-white rounded-lg shadow dark:bg-gray-800 p-6",children:[q.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Resumen del Período"}),q.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:(()=>{const _=v(a);return q.jsxs(q.Fragment,{children:[q.jsxs("div",{className:"p-4 rounded-lg bg-blue-100 dark:bg-blue-900/50",children:[q.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300",children:"Total Movimientos"}),q.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-200",children:_.totalMovements})]}),q.jsxs("div",{className:"p-4 rounded-lg bg-green-100 dark:bg-green-900/50",children:[q.jsx("div",{className:"text-sm text-green-800 dark:text-green-300",children:"Total Entradas"}),q.jsx("div",{className:"text-2xl font-bold text-green-900 dark:text-green-200",children:_.totalEntradas})]}),q.jsxs("div",{className:"p-4 rounded-lg bg-red-100 dark:bg-red-900/50",children:[q.jsx("div",{className:"text-sm text-red-800 dark:text-red-300",children:"Total Salidas"}),q.jsx("div",{className:"text-2xl font-bold text-red-900 dark:text-red-200",children:_.totalSalidas})]}),q.jsxs("div",{className:"p-4 rounded-lg bg-purple-100 dark:bg-purple-900/50",children:[q.jsx("div",{className:"text-sm text-purple-800 dark:text-purple-300",children:"Ítems Afectados"}),q.jsx("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-200",children:_.itemsMovidos})]})]})})()})]}),q.jsx("div",{className:"bg-white rounded-lg shadow dark:bg-gray-800",children:Object.entries(p).length>0?Object.entries(p).map(([_,m])=>q.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 last:border-0",children:q.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700",children:[q.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[q.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:_}),q.jsxs("div",{className:"mt-2 sm:mt-0 flex space-x-4 text-sm",children:[q.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Entradas: ",m.stats.entradas]}),q.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["Salidas: ",m.stats.salidas]}),q.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Movimientos: ",m.stats.totalMovements]})]})]}),q.jsx("div",{className:"mt-3 space-y-2",children:Object.entries(m.summary).map(([A,N])=>q.jsxs("div",{className:"p-3 rounded-lg bg-white dark:bg-gray-800 shadow-sm",children:[q.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[q.jsxs("div",{children:[q.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:A}),q.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:N.categoria})]}),q.jsxs("div",{className:"mt-2 sm:mt-0 flex space-x-4 text-sm",children:[N.entradas>0&&q.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["+",N.entradas]}),N.salidas>0&&q.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["-",N.salidas]})]})]}),q.jsx("div",{className:"mt-2 space-y-1",children:N.detalles.map((V,b)=>q.jsxs("div",{className:"text-sm flex justify-between items-center",children:[q.jsxs("div",{className:"flex items-center space-x-2",children:[q.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:V.hora}),q.jsxs("span",{className:V.tipo==="entrada"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[V.tipo==="entrada"?"+":"-",V.cantidad]}),V.motivo&&q.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["- ",V.motivo]})]}),q.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-xs",children:V.usuario})]},b))})]},A))})]})},_)):q.jsx("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:"No hay registros para el período seleccionado"})})]})]})]})};function vF(){const[t,e]=Ye.useState(null),[n,r]=Ye.useState(!0),[i,s]=Ye.useState([]),[o,a]=Ye.useState([]),[l,h]=Ye.useState([]),[p,v]=Ye.useState("dashboard"),[_,m]=Ye.useState(()=>{if(typeof window<"u"){const j=localStorage.getItem("theme"),E=window.matchMedia("(prefers-color-scheme: dark)").matches;return j==="dark"||!j&&E}return!1}),[A,N]=Ye.useState([]),[V,b]=Ye.useState(!1),I=Ye.useCallback(async()=>{await uF()},[]);Ye.useEffect(()=>{if(I(),typeof window<"u"){const j=window.document.documentElement;_?(j.classList.add("dark"),localStorage.setItem("theme","dark")):(j.classList.remove("dark"),localStorage.setItem("theme","light"));const E=document.querySelector('meta[name="theme-color"]');E&&E.setAttribute("content",_?"#1f2937":"#ffffff")}},[_,I]),Ye.useEffect(()=>{const j=A6(n0,E=>{e(E),r(!1)});return()=>j()},[]),Ye.useEffect(()=>{if(t){const j=nm(Ls(Wr,"items"),k=>{const W=k.docs.map(fe=>({id:fe.id,...fe.data()}));s(W);const ce=W.filter(fe=>fe.quantity<=fe.criticalThreshold);ce.length>0&&ce.some(fe=>!A.find(ve=>ve.id===fe.id))&&(N(ce),b(!0))}),E=nm(Ls(Wr,"categories"),k=>{const W=k.docs.map(ce=>({id:ce.id,...ce.data()}));a(W)}),T=nm(Ls(Wr,"history"),k=>{const W=k.docs.map(ce=>({id:ce.id,...ce.data()}));h(W)});return()=>{j(),E(),T()}}},[t,A]);const M=async()=>{await I6(n0),e(null),v("dashboard")},K=async(j,E)=>{const T=E?xl(Wr,"items",E):xl(Ls(Wr,"items")),k=!E,W={itemName:j.name,type:k?"creación":"edición",quantityChanged:k?j.quantity:null,userEmail:t.email,timestamp:Nu()};E?await xw(T,{...j,lastModified:Nu()}):await RR(T,{...j,lastModified:Nu()}),await Sw(Ls(Wr,"history"),W)},ee=async j=>{await OR(xl(Wr,"items",j))},oe=async(j,E,T,k,W="")=>{const ce=xl(Wr,"items",j),fe=i.find(le=>le.id===j);await xw(ce,{quantity:E,lastModified:Nu()});const ve=new Date,Y={itemId:j,itemName:fe.name,itemCode:fe.code,category:fe.category,type:T,quantityBefore:fe.quantity,quantityAfter:E,quantityChanged:k,userEmail:t.email,timestamp:Nu(),motivo:W,fecha:ve.toISOString().split("T")[0],hora:ve.toLocaleTimeString(),year:ve.getFullYear(),month:ve.getMonth()+1,day:ve.getDate(),weekNumber:Math.ceil((ve.getDate()+new Date(ve.getFullYear(),ve.getMonth(),1).getDay())/7)};await Sw(Ls(Wr,"history"),Y)},[C,S]=Ye.useState([]);if(Ye.useEffect(()=>{(async()=>{const E=Ls(Wr,"items"),k=(await jx(E)).docs.map(W=>W.data());S(k)})()},[]),n)return q.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:q.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-dashed rounded-full animate-spin"})});if(!t)return q.jsx(cF,{onLoginSuccess:()=>r(!0)});const R=()=>q.jsxs("div",{className:"flex flex-col justify-between w-64 p-4 bg-white shadow-lg dark:bg-gray-800",children:[q.jsxs("div",{children:[q.jsx("div",{className:"mb-10",children:q.jsx("img",{src:"https://static.wixstatic.com/media/1831cb_2d8491304a02448cb1751c82852750ff~mv2.png/v1/fill/w_148,h_27,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/Logotipo%20MisTatas%20blanco.png",alt:"Mistatas Logo",className:"h-8 w-auto"})}),q.jsxs("nav",{className:"space-y-2",children:[q.jsxs("button",{onClick:()=>v("dashboard"),className:`flex items-center w-full px-4 py-3 space-x-3 rounded-lg ${p==="dashboard"?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[q.jsx(Uv,{className:"w-6 h-6"}),q.jsx("span",{children:"Dashboard"})]}),q.jsxs("button",{onClick:()=>v("inventory"),className:`flex items-center w-full px-4 py-3 space-x-3 rounded-lg ${p==="inventory"?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[q.jsx(ku,{className:"w-6 h-6"}),q.jsx("span",{children:"Inventario"})]}),q.jsxs("button",{onClick:()=>v("scanner"),className:`flex items-center w-full px-4 py-3 space-x-3 rounded-lg ${p==="scanner"?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[q.jsx(jg,{className:"w-6 h-6"}),q.jsx("span",{children:"Escáner"})]}),q.jsxs("button",{onClick:()=>v("codes"),className:`flex items-center w-full px-4 py-3 space-x-3 rounded-lg ${p==="codes"?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[q.jsx(pS,{className:"w-6 h-6"}),q.jsx("span",{children:"Códigos"})]})]})]}),q.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200 dark:border-gray-700",children:q.jsxs("button",{onClick:M,className:"flex items-center w-full px-4 py-3 space-x-3 text-red-600 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20",children:[q.jsx(qR,{className:"w-6 h-6"}),q.jsx("span",{children:"Cerrar sesión"})]})})]});return q.jsx("div",{className:"min-h-screen dark:bg-gray-900 transition-colors duration-200",children:q.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900 font-sans",children:[q.jsx(R,{}),q.jsxs("main",{className:"flex-1 overflow-y-auto bg-gray-100 dark:bg-gray-900 transition-colors duration-200",children:[p==="dashboard"&&q.jsx(hF,{items:i,onNavigate:v}),p==="inventory"&&q.jsx(mF,{items:i,categories:o,onSave:K,onDelete:ee,onUpdateStock:oe,itemsCount:i.length}),p==="scanner"&&q.jsx("div",{className:"p-6",children:q.jsx(XR,{items:i,onSave:K,onUpdateStock:oe,user:t})}),p==="history"&&q.jsx(gF,{history:l}),p==="codes"&&q.jsx(aF,{items:i,inventory:C})]}),V&&q.jsx(pF,{items:A,onClose:()=>b(!1)})]})})}const yF=wm.createRoot(document.getElementById("root"));yF.render(q.jsx(bb.StrictMode,{children:q.jsx(vF,{})}));export{Ut as _,_F as c,cb as g};
